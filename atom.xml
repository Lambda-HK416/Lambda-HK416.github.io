<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LambdağŸƒ</title>
  
  
  <link href="https://www.wikunkun.asia/atom.xml" rel="self"/>
  
  <link href="https://www.wikunkun.asia/"/>
  <updated>2025-05-02T10:12:39.358Z</updated>
  <id>https://www.wikunkun.asia/</id>
  
  <author>
    <name>Lambda</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>insightfaceç¯å¢ƒé…ç½®</title>
    <link href="https://www.wikunkun.asia/posts/ac8465fc.html"/>
    <id>https://www.wikunkun.asia/posts/ac8465fc.html</id>
    <published>2025-04-28T11:32:24.000Z</published>
    <updated>2025-05-02T10:12:39.358Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒé…ç½®">ç¯å¢ƒé…ç½®</h2><p>åˆ›å»ºcondaç¯å¢ƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n insightface python=3.8</span><br></pre></td></tr></table></figure><p>æ¿€æ´»ç¯å¢ƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate insightface</span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch==1.10.0 torchvision==0.11.0 torchaudio==0.10.0 -c pytorch</span><br><span class="line">conda install cudatoolkit=11.3</span><br><span class="line">conda install cudnn==8.2.1</span><br><span class="line">pip install onnxruntime-gpu==1.14.1</span><br><span class="line">pip install opencv-contrib-python</span><br></pre></td></tr></table></figure><div class="tip bell"><p>æ³¨æ„å®‰è£…<code>onnxruntime-gpu</code>è®°å¾—å»æŸ¥è¯¢<code>CUDA</code>å’Œ<code>cuDNN</code>çš„ç‰ˆæœ¬å¯¹åº”å…³ç³»<a href="https://onnxruntime.ai/docs/execution-providers/CUDA-ExecutionProvider.html">NVIDIA - CUDA | onnxruntime</a></p></div><h2 id="ç¯å¢ƒæµ‹è¯•">ç¯å¢ƒæµ‹è¯•</h2><p>åˆ›å»ºæ–‡ä»¶<code>test.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> onnxruntime <span class="keyword">as</span> ort</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦æœ‰CUDAåŠ é€Ÿ</span></span><br><span class="line">available_providers = ort.get_available_providers()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Available providers: <span class="subst">&#123;available_providers&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å½“å‰è®¾å¤‡æ˜¯GPUè¿˜æ˜¯CPU</span></span><br><span class="line">device = ort.get_device()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Current device: <span class="subst">&#123;device&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è¿è¡Œç»“æœ(å¦‚æœ<code>Current device: GPU</code>,åˆ™è¡¨ç¤ºæ­£ç¡®)</p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250428194655440.png" alt="image-20250428194655440"></p><p>åˆ›å»ºæ–‡ä»¶<code>main.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> insightface</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = insightface.app.FaceAnalysis(providers=[<span class="string">&#x27;CUDAExecutionProvider&#x27;</span>])</span><br><span class="line">app.prepare(ctx_id=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;insightface åˆå§‹åŒ–æˆåŠŸ&quot;</span>)</span><br></pre></td></tr></table></figure><details class="folding-tag" yellow><summary> å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ </summary>              <div class='content'>              <p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250428194842995.png" alt="image-20250428194842995"></p><p>ä¿®æ”¹ä»£ç ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ä»»ä½•åº“å¯¼å…¥å‰è®¾ç½®</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">os.environ[<span class="string">&#x27;NO_ALBUMENTATIONS_UPDATE&#x27;</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="keyword">import</span> insightface</span><br><span class="line"></span><br><span class="line">app = insightface.app.FaceAnalysis(providers=[<span class="string">&#x27;CUDAExecutionProvider&#x27;</span>])</span><br><span class="line">app.prepare(ctx_id=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;insightface åˆå§‹åŒ–æˆåŠŸ&quot;</span>)</span><br></pre></td></tr></table></figure>              </div>            </details><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250428195113745.png" alt="image-20250428195113745"></p><p>é…ç½®æˆåŠŸ</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;ç¯å¢ƒé…ç½®&quot;&gt;ç¯å¢ƒé…ç½®&lt;/h2&gt;
&lt;p&gt;åˆ›å»ºcondaç¯å¢ƒ&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ ç¯å¢ƒæ­å»º</title>
    <link href="https://www.wikunkun.asia/posts/d7842877.html"/>
    <id>https://www.wikunkun.asia/posts/d7842877.html</id>
    <published>2025-04-28T07:47:21.000Z</published>
    <updated>2025-05-02T10:12:39.361Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Anacondaå®‰è£…">Anacondaå®‰è£…</h2><p><a href="https://www.wikunkun.asia/posts/692adf87.html">Anacondaå®‰è£…æ•™ç¨‹ | LambdağŸƒ</a></p><h2 id="Cudaå®‰è£…">Cudaå®‰è£…</h2><h3 id="æ£€æŸ¥å½“å‰ç”µè„‘ç¯å¢ƒ">æ£€æŸ¥å½“å‰ç”µè„‘ç¯å¢ƒ</h3><p>é¼ æ ‡å³é”®æ¡Œé¢,ç„¶åç‚¹å‡»<code>NVIDIAæ§åˆ¶é¢æ¿</code></p><p><img src="https://lambda-image-1.pages.dev/20250428181817935.webp" alt="image-20250427210157553"></p><p>ç‚¹å‡»<code>ç³»ç»Ÿä¿¡æ¯</code></p><p><img src="https://lambda-image-1.pages.dev/20250428181817936.webp" alt="image-20250427210314766"></p><p>æŸ¥çœ‹æ‰€æ”¯æŒçš„æœ€å¤§<code>cuda</code>ç‰ˆæœ¬(<strong>ä¸‹è½½æ—¶çš„ç‰ˆæœ¬è¦å°äºæˆ–ç­‰äºè¯¥ç‰ˆæœ¬</strong>)</p><p><img src="https://lambda-image-1.pages.dev/20250428181817937.webp" alt="image-20250427210336566"></p><h3 id="å®‰è£…Cuda">å®‰è£…Cuda</h3><p><a href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA Toolkit Archive | NVIDIA Developer</a></p><p><img src="https://lambda-image-1.pages.dev/20250428181817938.webp" alt="image-20250428161014657"></p><h2 id="cuDNNå®‰è£…">cuDNNå®‰è£…</h2><p><a href="https://developer.nvidia.com/rdp/cudnn-archive">cuDNN Archive | NVIDIA Developer</a></p><p>å®‰è£…ä¸<code>Cuda</code>ç›¸å¯¹åº”çš„ç‰ˆæœ¬</p><p><img src="https://lambda-image-1.pages.dev/20250428181817939.webp" alt="image-20250428175319808"></p><p>è§£å‹ä¸‹è½½çš„æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/20250428181817940.webp" alt="image-20250428175637753"></p><p>æŠŠè¿™é‡Œçš„æ–‡ä»¶å…¨éƒ¨ä¸¢åˆ°<code>cuda</code>çš„å®‰è£…è·¯å¾„ä¸‹ï¼Œæˆ‘çš„å®‰è£…è·¯å¾„<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.7</code></p><p>ä¸º<code>cuDNN</code>æ·»åŠ ç¯å¢ƒå˜é‡,ç¡®ä¿æœ‰ä»¥ä¸‹ç¯å¢ƒå˜é‡</p><p><img src="https://lambda-image-1.pages.dev/20250428181817941.webp" alt="image-20250428180003397"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;Anacondaå®‰è£…&quot;&gt;Anacondaå®‰è£…&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.wikunkun.asia/posts/692adf87.html&quot;&gt;Anacondaå®‰è£…æ•™ç¨‹ | LambdağŸƒ&lt;/a&gt;&lt;/p&gt;
&lt;h2</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>PyTorchå®‰è£…</title>
    <link href="https://www.wikunkun.asia/posts/c9383eae.html"/>
    <id>https://www.wikunkun.asia/posts/c9383eae.html</id>
    <published>2025-04-27T12:58:31.000Z</published>
    <updated>2025-05-02T10:12:39.356Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…">å®‰è£…</h2><p><a href="https://pytorch.org/">PyTorch</a></p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250427210127133.png" alt="image-20250427210127133"></p><p>æŸ¥çœ‹</p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250427210157553.png" alt="image-20250427210157553"></p><p>æŸ¥çœ‹</p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250427210314766.png" alt="image-20250427210314766"></p><p>æŸ¥çœ‹</p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250427210336566.png" alt="image-20250427210336566"></p><p>cudaç‰ˆæœ¬è¦å°äºä½ æ˜¾å¡æ‰€æ”¯æŒçš„</p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250427210500696.png" alt="image-20250427210500696"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å®‰è£…&quot;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://pytorch.org/&quot;&gt;PyTorch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Notebooké…ç½®</title>
    <link href="https://www.wikunkun.asia/posts/39b1e76d.html"/>
    <id>https://www.wikunkun.asia/posts/39b1e76d.html</id>
    <published>2025-04-06T08:36:06.000Z</published>
    <updated>2025-04-14T09:05:46.408Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é…ç½®é»˜è®¤è·¯å¾„">é…ç½®é»˜è®¤è·¯å¾„</h2><p>ç”Ÿæˆé…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/20250414162142308.webp" alt="image-20250406163716586"></p><p>ä¿®æ”¹é»˜è®¤è·¯å¾„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.notebook_dir = <span class="string">&#x27;D:\JupyterNotebook&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¿«æ·æ–¹å¼</p><p><img src="https://lambda-image-1.pages.dev/20250414162142309.webp" alt="image-20250406163852110"></p><p>åˆ é™¤<code>&quot;%USERPROFILE%/&quot;</code>åç¼€</p><p><img src="https://lambda-image-1.pages.dev/20250414162142310.webp" alt="image-20250406164047441"></p><h2 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶</h2><p>é¦–å…ˆå¾—å®‰è£… <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">jupyter_contrib_nbextensions</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge jupyter_contrib_nbextensions</span><br><span class="line">jupyter contrib nbextension install --user</span><br></pre></td></tr></table></figure><p>å®‰è£…å›¾å½¢åŒ–ç•Œé¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge jupyter_nbextensions_configurator</span><br></pre></td></tr></table></figure><h3 id="ä»£ç ç¾åŒ–æ’ä»¶">ä»£ç ç¾åŒ–æ’ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge yapf</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/20250414162142311.webp" alt="image-20250406202447023"></p><h3 id="æŒ‰æ ‡é¢˜æŠ˜å ">æŒ‰æ ‡é¢˜æŠ˜å </h3><p><img src="https://lambda-image-1.pages.dev/20250414162142312.webp" alt="image-20250406202551359"></p><h3 id="æ˜¾ç¤ºæ—¶é—´">æ˜¾ç¤ºæ—¶é—´</h3><p><img src="https://lambda-image-1.pages.dev/20250414162142313.webp" alt="image-20250406202629078"></p><h3 id="è¡¥å…¨æ˜¾ç¤º">è¡¥å…¨æ˜¾ç¤º</h3><p><img src="https://lambda-image-1.pages.dev/20250414162142314.webp" alt="image-20250406202713610"></p><h3 id="æ˜¾ç¤ºè¡Œå·">æ˜¾ç¤ºè¡Œå·</h3><p><img src="https://lambda-image-1.pages.dev/20250414162142315.webp" alt="image-20250406202749164"></p><p>å˜é‡æ£€æŸ¥å™¨</p><p><img src="https://lambda-image-1.pages.dev/20250414162142316.webp" alt="image-20250406202814799"></p><h2 id="æ·»åŠ å†…æ ¸">æ·»åŠ å†…æ ¸</h2><p>åœ¨<code>Anaconda Prompt (Anaconda3)</code>ä¸­æ‰§è¡Œä»¥ä¸‹å†…å®¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£… ipykernel</span></span><br><span class="line">conda install ipykernel</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ç¯å¢ƒæ³¨å†Œåˆ° Jupyter</span></span><br><span class="line">python -m ipykernel install --user --name ç¯å¢ƒåç§° --display-name <span class="string">&quot;å†…æ ¸æ˜¾ç¤ºåç§°&quot;</span></span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤å¤šä½™çš„å†…æ ¸">åˆ é™¤å¤šä½™çš„å†…æ ¸</h2><p>åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„å†…æ ¸</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">jupyter kernelspec list</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤æŒ‡å®šå†…æ ¸</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter kernelspec <span class="built_in">remove</span> å†…æ ¸åç§°</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;é…ç½®é»˜è®¤è·¯å¾„&quot;&gt;é…ç½®é»˜è®¤è·¯å¾„&lt;/h2&gt;
&lt;p&gt;ç”Ÿæˆé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="å¼€å‘ç¯å¢ƒæ­å»º" scheme="https://www.wikunkun.asia/categories/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Python" scheme="https://www.wikunkun.asia/tags/Python/"/>
    
    <category term="Notebook" scheme="https://www.wikunkun.asia/tags/Notebook/"/>
    
  </entry>
  
  <entry>
    <title>Anacondaå®‰è£…æ•™ç¨‹</title>
    <link href="https://www.wikunkun.asia/posts/692adf87.html"/>
    <id>https://www.wikunkun.asia/posts/692adf87.html</id>
    <published>2025-04-06T07:06:20.000Z</published>
    <updated>2025-04-28T11:45:49.431Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Anacondaçš„å¸è½½">Anacondaçš„å¸è½½</h2><p>æ‰“å¼€<code>cmd</code>çª—å£,è¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install anaconda-clean</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¸è½½</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anaconda-clean --<span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°<code>Anaconda</code>çš„å®‰è£…ç›®å½•ç‚¹å‡»<code>Uninstall-Anaconda3.exe</code></p><p><img src="https://lambda-image-1.pages.dev/20250414161825522.webp" alt="image-20250406150956481"></p><h2 id="Anacondaçš„å®‰è£…">Anacondaçš„å®‰è£…</h2><h3 id="æ¸…åæºä¸‹è½½å’Œå®‰è£…">æ¸…åæºä¸‹è½½å’Œå®‰è£…</h3><p>è®¿é—®<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">æ¸…åæºçš„é•œåƒ</a>,ä¸‹è½½<code>Anaconda3</code>(æœ€å¥½ä¸‹è½½åé¢æ˜¯å¸¦æœ‰å¹´ä»½çš„è¿™ç§)</p><p><img src="https://lambda-image-1.pages.dev/20250414161825523.webp" alt="image-20250406201304156"></p><p>ä¸‹è½½å®Œæˆåæ‰“å¼€,é€‰æ‹©å®‰è£…è·¯å¾„</p><p><img src="https://lambda-image-1.pages.dev/20250414161825524.webp" alt="image-20250406152815178"></p><p>å‹¾é€‰è¿™ä¸¤é¡¹</p><p><img src="https://lambda-image-1.pages.dev/20250414161825526.webp" alt="image-20250406152926348"></p><h3 id="éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ">éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>æ‰“å¼€<code>cmd</code>çª—å£,è¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/20250414161825527.webp" alt="image-20250406153554937"></p><h2 id="ç¯å¢ƒé…ç½®">ç¯å¢ƒé…ç½®</h2><h3 id="Anacondaç¯å¢ƒé…ç½®">Anacondaç¯å¢ƒé…ç½®</h3><p>åˆ é™¤(æˆ–è€…æ¸…ç©º)<code>.condarc</code>æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/20250414161825528.webp" alt="image-20250406155009210"></p><p>ç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> show_channel_urls <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>.condarc</code>ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹(ç›´æ¥å…¨éƒ¨æ›¿æ¢)</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">default_channels:</span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs/main</span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs/r</span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs/msys2</span><br><span class="line">custom_channels:</span><br><span class="line">  conda-forge: https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>cloud</span><br><span class="line">  pytorch: https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>cloud</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æ¸…é™¤ç´¢å¼•ç¼“å­˜ï¼Œå¹¶å®‰è£…å¸¸ç”¨åŒ…æµ‹è¯•ä¸€ä¸‹ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda clean -i</span><br><span class="line">conda create -n myenv numpy</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ ç¯å¢ƒå˜é‡">æ·»åŠ ç¯å¢ƒå˜é‡</h3><p>å°†<code>Anaconda</code>å®‰è£…ç›®å½•ä¸‹çš„<code>Scripts</code>è·¯å¾„æ·»åŠ åˆ°<code>Path</code>ä¸­</p><p><img src="https://lambda-image-1.pages.dev/20250427210642291.webp" alt="image-20250427195207246"></p><h3 id="pipç¯å¢ƒé…ç½®">pipç¯å¢ƒé…ç½®</h3><p>åˆ é™¤<code>pip</code>çš„æ®‹ç•™é…ç½®(å¦‚æœä½ ä¹‹å‰æœ‰é…ç½®è¿‡<code>pip</code>çš„æƒ…å†µ)</p><div class="tip bell"><p>ä»¥ä¸‹çš„æ–¹æ³•ä»…ä»…ç”¨äºå‚è€ƒ,æœ€ä½³åŠæ³•è¿˜æ˜¯æŠŠä¹‹å‰çš„pipé…ç½®æ–‡ä»¶åˆ é™¤</p></div><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç§»é™¤å…¨å±€ index-url</span></span><br><span class="line">pip config <span class="built_in">unset</span> global.index-url</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»é™¤ trusted-host</span></span><br><span class="line">pip config <span class="built_in">unset</span> install.trusted-host</span><br></pre></td></tr></table></figure><p><code>pip</code>é…ç½®æ¸…åæº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å…¨å±€ç´¢å¼•åœ°å€ä¸ºæ¸…åæº</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿¡ä»»æ¸…åæºï¼ˆé¿å… SSL è¯ä¹¦æŠ¥é”™ï¼‰</span></span><br><span class="line">pip config <span class="built_in">set</span> install.trusted-host pypi.tuna.tsinghua.edu.cn</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config list</span><br></pre></td></tr></table></figure><h2 id="Anacondaçš„ä½¿ç”¨">Anacondaçš„ä½¿ç”¨</h2><div class="tip bell"><p>é…ç½®äº†æ¸…åæº,åœ¨ä½¿ç”¨<code>anaconda</code>çš„æ—¶å€™è®°å¾—æŠŠç§‘å­¦ä¸Šç½‘å·¥å…·å…³é—­,å¦åˆ™å¯èƒ½å‡ºç°<code>SSL</code>é”™è¯¯</p></div><h3 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ">åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><p>æŠŠ<code>name</code>æ¢æˆä½ è¦åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒçš„åç§°,å¹¶ä¸”æŒ‡å®š<code>python</code>çš„ç‰ˆæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n name python=3.6</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/20250414161825529.webp" alt="image-20250406155159081"></p><p>éªŒè¯å®‰è£…ç¯å¢ƒæ˜¯å¦åˆ›å»ºæˆåŠŸ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/20250414161825530.webp" alt="image-20250406155211564"></p><h3 id="è¿›å…¥å’Œé€€å‡ºè™šæ‹Ÿç¯å¢ƒ">è¿›å…¥å’Œé€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼Œname ä¸ºç¯å¢ƒå</span></span><br><span class="line">activate name</span><br><span class="line"></span><br><span class="line"><span class="comment">#é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</span></span><br><span class="line">deactivate</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤è™šæ‹Ÿç¯å¢ƒï¼Œéœ€è¦å…ˆé€€å‡ºåˆ°baseç¯å¢ƒ</span></span><br><span class="line">conda remove -n name --all</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;Anacondaçš„å¸è½½&quot;&gt;Anacondaçš„å¸è½½&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€&lt;code&gt;cmd&lt;/code&gt;çª—å£,è¾“å…¥&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="å¼€å‘ç¯å¢ƒæ­å»º" scheme="https://www.wikunkun.asia/categories/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Anaconda" scheme="https://www.wikunkun.asia/tags/Anaconda/"/>
    
    <category term="pip" scheme="https://www.wikunkun.asia/tags/pip/"/>
    
    <category term="Python" scheme="https://www.wikunkun.asia/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>åŠ å¯†å†…å®¹</title>
    <link href="https://www.wikunkun.asia/posts/b6063e27.html"/>
    <id>https://www.wikunkun.asia/posts/b6063e27.html</id>
    <published>2025-02-13T11:51:51.000Z</published>
    <updated>2025-02-13T14:33:43.648Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="eb4e30aa440b944eca0dd1f40bd65f84ef974dcdd54089ae1229d9737b6f08e5">d7e284ce31b69fc89742012cc772daee6d0df62fc70926dcc5a4fb75ca81a4f9</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-blink">      <input class="hbe hbe-input-field hbe-input-field-blink" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-blink" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-blink" data-content="æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">åŠ å¯†å†…å®¹,ä¸ªäººè‡ªç”¨</summary>
    
    
    
    <category term="åŠ å¯†å†…å®¹" scheme="https://www.wikunkun.asia/categories/%E5%8A%A0%E5%AF%86%E5%86%85%E5%AE%B9/"/>
    
    
    <category term="åŠ å¯†æ–‡ç« " scheme="https://www.wikunkun.asia/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/"/>
    
  </entry>
  
  <entry>
    <title>Githubå›¾åºŠæ­å»º</title>
    <link href="https://www.wikunkun.asia/posts/241081b5.html"/>
    <id>https://www.wikunkun.asia/posts/241081b5.html</id>
    <published>2025-01-14T12:26:02.000Z</published>
    <updated>2025-02-13T12:53:01.882Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºGithubä»“åº“">åˆ›å»ºGithubä»“åº“</h2><p>ç™»å½•<code>github</code>è´¦å·,ç„¶ååˆ›å»ºä»“åº“</p><p><img src="https://lambda-image-1.pages.dev/20250213205220217.webp" alt="image-20250114202726724"></p><p>è¾“å…¥<strong>ä»“åº“å</strong>(å¯éšæ„),é€‰æ‹©<code>Public</code>,å‹¾é€‰<code>Add a README file</code>(æœ€åå‹¾é€‰è¿™ä¸ª,ä¸ç„¶ç­‰ä¸‹ä½ è¿˜è¦è‡ªå·±åˆ›å»ºåˆ†æ”¯)</p><p><img src="https://lambda-image-1.pages.dev/20250213205220218.webp" alt="image-20250114204937245"></p><h2 id="åˆ›å»ºToken">åˆ›å»ºToken</h2><p>ç°åœ¨ä»“åº“åˆ›å»ºå®Œæ¯•äº†,å½“æ—¶æˆ‘ä»¬ç°åœ¨ç”¨ç›¸å…³çš„è½¯ä»¶è¿˜æ˜¯æ— æ³•æ“ä½œæˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„ä»“åº“,å› æ­¤æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸ª<code>Token</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220219.webp" alt="image-20250114203014968"></p><p>ç‚¹å‡»<code>Developer settings</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220220.webp" alt="image-20250114203249114"></p><p>é€‰æ‹©<code>Tokens(classic)</code>,ç„¶å<code>Generate new token</code>,é€‰æ‹©<code>Generate new token(classic)</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220221.webp" alt="image-20250114203440351"></p><p>è¾“å…¥<code>token</code>åç§°,è®¾ç½®<code>token</code>æœ‰æ•ˆæœŸ,é€‰æ‹©<code>No expiration</code>,åœ¨<code>Select scopes</code>ä¸­å‹¾é€‰<code>repo</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220223.webp" alt="image-20250114203604622"></p><p>è®°å½•ç”Ÿæˆçš„<code>token</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220224.webp" alt="image-20250114203710736"></p><h2 id="ä½¿ç”¨Cloudflareè¿›è¡ŒåŠ é€Ÿ">ä½¿ç”¨<code>Cloudflare</code>è¿›è¡ŒåŠ é€Ÿ</h2><p>ç°åœ¨githubå›¾åºŠæ­å»ºå®Œæ¯•äº†,ä½†æ˜¯åœ¨å›½å†…è®¿é—®çš„è¯é€Ÿåº¦ä¼šå¾ˆæ…¢,æœ‰å¯èƒ½è¿˜æ— æ³•è®¿é—®,å› æ­¤æˆ‘ä»¬è¦ç”¨ä¸€äº›æ‰‹æ®µæ¥è¿›è¡ŒåŠ é€Ÿ,æŠŠé¡¹ç›®éƒ¨ç½²åˆ°<code>Cloudflare</code>ä¸­åªæ˜¯å…¶ä¸­çš„ä¸€ç§æ–¹æ³•,å¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹æ³•çš„è¯,è¿™éƒ¨åˆ†å¯ä»¥è·³è¿‡</p><p><img src="https://lambda-image-1.pages.dev/20250213205220225.webp" alt="image-20250114204231646"></p><p>è¿æ¥æˆ‘ä»¬çš„<code>github</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220226.webp" alt="image-20250114204302615"></p><p>ç™»å½•åè¿›å…¥è¿™ä¸ªé¡µé¢,å¦‚æœæ²¡æœ‰æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ä»“åº“çš„è¯,ç‚¹å‡»<code>Cloudflare Pages</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220227.webp" alt="image-20250114204424957"></p><p>æŠŠæˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ä»“åº“æ·»åŠ è¿›å»</p><p><img src="https://lambda-image-1.pages.dev/20250213205220228.webp" alt="image-20250114204507453"></p><p>è®¾ç½®å®Œæˆåå›åˆ°åˆšåˆšçš„é¡µé¢,é€‰æ‹©æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ä»“åº“,ç‚¹å‡»ä¿å­˜å¹¶éƒ¨ç½²</p><p><img src="https://lambda-image-1.pages.dev/20250213205220229.webp" alt="image-20250114205117414"></p><p>è®°ä½ç­‰ä¸‹æˆ‘ä»¬è¦ä½¿ç”¨çš„<code>åŸŸå</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220230.webp" alt="image-20250114211956068"></p><h2 id="ä½¿ç”¨PicListä¸Šä¼ å›¾ç‰‡">ä½¿ç”¨PicListä¸Šä¼ å›¾ç‰‡</h2><p>å…ˆä¸‹è½½<a href="https://piclist.cn/">PicList</a></p><p>ä¸‹è½½å®Œæˆåè¿è¡Œ<code>PicList</code>,ç‚¹å‡»å›¾åºŠ,ç„¶åé€‰æ‹©<code>Github</code></p><p><img src="https://lambda-image-1.pages.dev/20250213205220231.webp" alt="image-20250114211715695"></p><p>æ·»åŠ æ–°å›¾åºŠ</p><p><img src="https://lambda-image-1.pages.dev/20250213205220232.webp" alt="image-20250114211758706"></p><p>è¾“å…¥ç›¸å…³é…ç½®ä¿¡æ¯</p><p><img src="https://lambda-image-1.pages.dev/20250213205220233.webp" alt="image-20250114212143176"></p><p>å¼€å§‹ä¸Šä¼ å›¾ç‰‡</p><p><img src="https://lambda-image-1.pages.dev/20250213205220234.webp" alt="image-20250114212246760"></p><p>è¿™æ˜¯æœ¬æ–‡å¾…ä¼šè¦ä¸Šä¼ çš„å›¾ç‰‡</p><details class="folding-tag" ><summary> æŸ¥çœ‹å›¾ç‰‡ </summary>              <div class='content'>              <p><img src="https://lambda-image-1.pages.dev/20250117155624667.webp" alt=""></p>              </div>            </details><p>å¯ä»¥çœ‹åˆ°åˆšåˆšä¸Šä¼ çš„å›¾ç‰‡,å¹¶ä¸”åŸŸåä¹Ÿæ˜¯æˆ‘ä»¬åˆšåˆšé…ç½®çš„,ä»¥åå°±å¯ä»¥ç”¨è¯¥é“¾æ¥è®¿é—®æˆ‘ä»¬ä¸Šä¼ çš„å›¾ç‰‡äº†</p><p><img src="https://lambda-image-1.pages.dev/20250213205220235.webp" alt="image-20250114212803314"></p><h2 id="Typoraä¸­é…ç½®å›¾ç‰‡ä¸Šä¼ ">Typoraä¸­é…ç½®å›¾ç‰‡ä¸Šä¼ </h2><p>ä¸‹è½½<a href="https://typoraio.cn/">Typora</a></p><p>ç°åœ¨æˆ‘ä»¬é…ç½®å¥½äº†PicList,æ¥ä¸‹æ¥å°±æ˜¯æŠŠä»–ä¸æˆ‘ä»¬çš„<code>Typora</code>è¿›è¡Œå…³è”</p><p>æ‰“å¼€åå¥½è®¾ç½®,é€‰æ‹©ä¸Šä¼ æœåŠ¡</p><p><img src="https://lambda-image-1.pages.dev/20250213205220236.webp" alt="image-20250114213133590"></p><p>é…ç½®å®Œæˆåå¯ä»¥ç‚¹å‡»æ—è¾¹çš„<code>éªŒè¯å›¾ç‰‡ä¸Šä¼ é€‰é¡¹</code>æµ‹è¯•æ˜¯å¦å¯ä»¥æ­£å¸¸ä¸Šä¼ å›¾ç‰‡,å¦‚æœå¯ä»¥æ­£å¸¸ä¸Šä¼ ,è‡³æ­¤å°±å…¨éƒ¨ç»“æŸäº†</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;åˆ›å»ºGithubä»“åº“&quot;&gt;åˆ›å»ºGithubä»“åº“&lt;/h2&gt;
&lt;p&gt;ç™»å½•&lt;code&gt;github&lt;/code&gt;è´¦å·,ç„¶ååˆ›å»ºä»“åº“&lt;/p&gt;
&lt;p&gt;&lt;img</summary>
        
      
    
    
    
    <category term="å·¥å…·ä½¿ç”¨" scheme="https://www.wikunkun.asia/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://www.wikunkun.asia/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="GitHub" scheme="https://www.wikunkun.asia/tags/GitHub/"/>
    
    <category term="å›¾åºŠ" scheme="https://www.wikunkun.asia/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>CMakeæ·»åŠ æœ¬åœ°åº“çš„æ–¹æ³•</title>
    <link href="https://www.wikunkun.asia/posts/9c7cff54.html"/>
    <id>https://www.wikunkun.asia/posts/9c7cff54.html</id>
    <published>2025-01-14T05:40:31.000Z</published>
    <updated>2025-02-13T10:39:02.422Z</updated>
    
    <content type="html"><![CDATA[<h2 id="CMakeæ·»åŠ æœ¬åœ°åº“">CMakeæ·»åŠ æœ¬åœ°åº“</h2><p>ä¸»è¦ç›®å½•ç»“æ„</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> project/</span><br><span class="line"><span class="bullet">  -</span> src/</span><br><span class="line"><span class="bullet">    -</span> main.cpp</span><br><span class="line"><span class="bullet">    -</span> utils.h</span><br><span class="line"><span class="bullet">  -</span> include/</span><br><span class="line"><span class="bullet">    -</span> header.h</span><br><span class="line"><span class="bullet">  -</span> build/</span><br><span class="line"><span class="bullet">  -</span> lib/</span><br><span class="line"><span class="bullet">    -</span> lib1.c</span><br><span class="line"><span class="bullet">    -</span> lib1.h</span><br><span class="line"><span class="bullet">    -</span> ...</span><br><span class="line"><span class="bullet">    -</span> CMakeLists.txt</span><br><span class="line"><span class="bullet">  -</span> CMakeLists.txt</span><br><span class="line"><span class="bullet">  -</span> ...</span><br></pre></td></tr></table></figure><p><code>lib</code>ä¸­çš„<code>CMakeLists.txt</code>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°† lib æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰ C æ–‡ä»¶åŠ å…¥åˆ°å˜é‡</span></span><br><span class="line"><span class="keyword">file</span>(GLOB LIB_SOURCES *.c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªé™æ€åº“æˆ–å…±äº«åº“ï¼ˆæ ¹æ®éœ€è¦ä¿®æ”¹ä¸º `STATIC` æˆ– `SHARED`ï¼‰</span></span><br><span class="line"><span class="keyword">add_library</span>(MyLibrary STATIC <span class="variable">$&#123;LIB_SOURCES&#125;</span>)</span><br><span class="line"><span class="comment"># å¯é€‰ï¼šæŒ‡å®šåŒ…å«ç›®å½•ï¼ˆå¦‚æœ‰å¤´æ–‡ä»¶ï¼‰</span></span><br><span class="line"><span class="keyword">target_include_directories</span>(MyLibrary PUBLIC <span class="variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span>)</span><br></pre></td></tr></table></figure><p>é¡¹ç›®çš„<code>CMakeLists.txt</code>æ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_subdirectory</span>(lib)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(<span class="variable">$&#123;PROJECT_NAME&#125;</span> MyLibrary)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;CMakeæ·»åŠ æœ¬åœ°åº“&quot;&gt;CMakeæ·»åŠ æœ¬åœ°åº“&lt;/h2&gt;
&lt;p&gt;ä¸»è¦ç›®å½•ç»“æ„&lt;/p&gt;
&lt;figure class=&quot;highlight markdown&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="CMake æ•™ç¨‹" scheme="https://www.wikunkun.asia/categories/CMake-%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="C/C++" scheme="https://www.wikunkun.asia/tags/C-C/"/>
    
    <category term="CMake" scheme="https://www.wikunkun.asia/tags/CMake/"/>
    
    <category term="æ„å»ºå·¥å…·" scheme="https://www.wikunkun.asia/tags/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/"/>
    
    <category term="æœ¬åœ°åº“é…ç½®" scheme="https://www.wikunkun.asia/tags/%E6%9C%AC%E5%9C%B0%E5%BA%93%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸Šå®‰è£…conan å¹¶ä¸”ä¸CLionä¸cmakeç»“åˆä½¿ç”¨</title>
    <link href="https://www.wikunkun.asia/posts/c5c01ec0.html"/>
    <id>https://www.wikunkun.asia/posts/c5c01ec0.html</id>
    <published>2025-01-13T09:14:19.000Z</published>
    <updated>2025-02-13T10:39:02.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…Conan">å®‰è£…Conan</h2><p><code>Conan</code> æ˜¯ä¸€ä¸ª <code>Python</code> åŒ…ï¼Œå¯ä»¥é€šè¿‡ <code>pip</code> å®‰è£…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install conan</span><br></pre></td></tr></table></figure><p>ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan  -v</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250113171627006.png" alt="image-20250113171627006"></p><p>åˆå§‹åŒ–é…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan profile detect --force</span><br></pre></td></tr></table></figure><h2 id="é…ç½®CLion">é…ç½®CLion</h2><p>å®‰è£…å¯¹åº”çš„æ’ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250113171831214.png" alt="image-20250113171831214"></p><p>ä½¿ç”¨ä¸‹è½½çš„æ’ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250113172039155.png" alt="image-20250113172039155"></p><p>é…ç½®<code>CMake</code></p><p>è¾“å…¥ä»¥ä¸‹å†…å®¹(build/<strong>Debug</strong>/generators/conan_toolchain.cmake,è¿™é‡Œçš„<strong>Debug</strong>å€¼è¦äºä¸‹é¢çš„æ„å»ºç±»å‹çš„å€¼ä¸€è‡´)</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">-DCMAKE_TOOLCHAIN_FILE</span>=build/Debug/generators/conan_toolchain.cmake</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250114133144427.png" alt="image-20250114133144427"></p><p>æŸ¥æ‰¾æƒ³è¦å®‰è£…çš„å†…å®¹,å¹¶ä¸”æ·»åŠ åˆ°å½“å‰é¡¹ç›®ä¸­</p><p><img src="https://lambda-image-1.pages.dev/image-20250113172129376.png" alt="image-20250113172129376"></p><p>å®‰è£…å¯¹åº”çš„æ–‡ä»¶(build_type=Debugè¿™ä¸ªä¸èƒ½å°‘,å¹¶ä¸”è¦ä¸å‰é¢çš„<strong>æ„å»ºç±»å‹</strong>çš„å€¼ç›¸å¯¹åº”)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conan install . --build=missing -s build_type=Debug</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250113172700450.png" alt="image-20250113172700450"></p><p>è¿è¡Œå®Œæ¯•åè®°å¾—æŸ¥çœ‹å¯¼å…¥ä»£ç </p><p><img src="https://lambda-image-1.pages.dev/image-20250113172836981.png" alt="image-20250113172836981"></p><p>æ‰“å¼€<code>CMakeLists.txt</code>å†™å…¥,åˆšæ‰çš„ä»£ç </p><p><img src="https://lambda-image-1.pages.dev/image-20250113173110706.png" alt="image-20250113173110706"></p><p>é‡æ–°åŠ è½½<code>CMake</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250113173132752.png" alt="image-20250113173132752"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å®‰è£…Conan&quot;&gt;å®‰è£…Conan&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Conan&lt;/code&gt; æ˜¯ä¸€ä¸ª &lt;code&gt;Python&lt;/code&gt; åŒ…ï¼Œå¯ä»¥é€šè¿‡ &lt;code&gt;pip&lt;/code&gt; å®‰è£…ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight</summary>
        
      
    
    
    
    <category term="Linuxå¹³å°å¼€å‘" scheme="https://www.wikunkun.asia/categories/Linux%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="C/C++" scheme="https://www.wikunkun.asia/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>Linuxç³»ç»Ÿç¼–ç¨‹å­¦ä¹ </title>
    <link href="https://www.wikunkun.asia/posts/115b96c9.html"/>
    <id>https://www.wikunkun.asia/posts/115b96c9.html</id>
    <published>2025-01-12T19:27:14.000Z</published>
    <updated>2025-02-13T10:47:20.313Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¸¸ç”¨å¤´æ–‡ä»¶">å¸¸ç”¨å¤´æ–‡ä»¶</h2><table><thead><tr><th>å¤´æ–‡ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong><code>&lt;stdio.h&gt;</code></strong></td><td>æ ‡å‡†è¾“å…¥è¾“å‡ºåº“å‡½æ•°çš„å£°æ˜ï¼ŒåŒ…æ‹¬ <code>printf</code>ã€<code>scanf</code>ã€<code>fopen</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;stdlib.h&gt;</code></strong></td><td>æä¾›é€šç”¨çš„å·¥å…·å‡½æ•°ï¼Œå¦‚åŠ¨æ€å†…å­˜åˆ†é… (<code>malloc</code>)ã€è¿›ç¨‹æ§åˆ¶ (<code>exit</code>) ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;string.h&gt;</code></strong></td><td>å­—ç¬¦ä¸²æ“ä½œå‡½æ•°çš„å£°æ˜ï¼Œå¦‚ <code>strlen</code>ã€<code>strcpy</code>ã€<code>strcmp</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;math.h&gt;</code></strong></td><td>æä¾›æ•°å­¦è®¡ç®—å‡½æ•°çš„å£°æ˜ï¼Œå¦‚ <code>sin</code>ã€<code>cos</code>ã€<code>sqrt</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;time.h&gt;</code></strong></td><td>æ—¶é—´å’Œæ—¥æœŸæ“ä½œå‡½æ•°çš„å£°æ˜ï¼Œå¦‚ <code>time</code>ã€<code>localtime</code>ã€<code>strftime</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;unistd.h&gt;</code></strong></td><td>å®šä¹‰ POSIX æ ‡å‡†çš„ APIï¼Œå¦‚æ–‡ä»¶æ“ä½œï¼ˆ<code>read</code>ã€<code>write</code>ï¼‰ã€è¿›ç¨‹ç®¡ç†ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;fcntl.h&gt;</code></strong></td><td>æ–‡ä»¶æ§åˆ¶ç›¸å…³å‡½æ•°å’Œå¸¸é‡çš„å£°æ˜ï¼Œå¦‚ <code>open</code>ã€æ–‡ä»¶è®¿é—®æ¨¡å¼å¸¸é‡ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/types.h&gt;</code></strong></td><td>å®šä¹‰æ•°æ®ç±»å‹ï¼Œå¦‚ <code>pid_t</code>ã€<code>uid_t</code>ã€<code>gid_t</code> ç­‰ï¼Œç”¨äºç³»ç»Ÿè°ƒç”¨ã€‚</td></tr><tr><td><strong><code>&lt;sys/stat.h&gt;</code></strong></td><td>æ–‡ä»¶çŠ¶æ€æ“ä½œå‡½æ•°çš„å£°æ˜ï¼Œå¦‚ <code>stat</code>ã€<code>chmod</code>ã€<code>mkdir</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;errno.h&gt;</code></strong></td><td>å®šä¹‰å…¨å±€é”™è¯¯å˜é‡ <code>errno</code> åŠé”™è¯¯ç å¸¸é‡ï¼Œå¦‚ <code>EACCES</code>ã€<code>ENOENT</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;signal.h&gt;</code></strong></td><td>æä¾›ä¿¡å·å¤„ç†ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>signal</code>ã€<code>raise</code>ã€<code>kill</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;pthread.h&gt;</code></strong></td><td>POSIX çº¿ç¨‹åº“çš„å¤´æ–‡ä»¶ï¼Œç”¨äºå¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œå¦‚ <code>pthread_create</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/socket.h&gt;</code></strong></td><td>æä¾›å¥—æ¥å­—ç¼–ç¨‹ç›¸å…³å‡½æ•°å’Œç»“æ„ä½“ï¼Œå¦‚ <code>socket</code>ã€<code>bind</code>ã€<code>connect</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;netinet/in.h&gt;</code></strong></td><td>å®šä¹‰ç½‘ç»œåœ°å€ç›¸å…³çš„ç»“æ„ä½“å’Œå¸¸é‡ï¼Œå¦‚ <code>sockaddr_in</code>ã€<code>INADDR_ANY</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;arpa/inet.h&gt;</code></strong></td><td>æä¾› IP åœ°å€è½¬æ¢å‡½æ•°ï¼Œå¦‚ <code>inet_pton</code>ã€<code>inet_ntoa</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/wait.h&gt;</code></strong></td><td>æä¾›è¿›ç¨‹ç­‰å¾…ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>wait</code>ã€<code>waitpid</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/mman.h&gt;</code></strong></td><td>æä¾›å†…å­˜æ˜ å°„ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>mmap</code>ã€<code>munmap</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/epoll.h&gt;</code></strong></td><td>æä¾› epoll å¤šè·¯å¤ç”¨æ¥å£å‡½æ•°ï¼Œå¦‚ <code>epoll_create</code>ã€<code>epoll_wait</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;poll.h&gt;</code></strong></td><td>æä¾› <code>poll</code> å¤šè·¯å¤ç”¨æ¥å£çš„ç›¸å…³å‡½æ•°å’Œå¸¸é‡ã€‚</td></tr><tr><td><strong><code>&lt;termios.h&gt;</code></strong></td><td>æä¾›ç»ˆç«¯ I/O æ§åˆ¶æ¥å£ï¼Œå¦‚è®¾ç½®ä¸²å£å±æ€§çš„ <code>tcsetattr</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/ioctl.h&gt;</code></strong></td><td>æä¾›è®¾å¤‡ I/O æ§åˆ¶æ¥å£ï¼Œå¦‚ <code>ioctl</code> è°ƒç”¨ã€‚</td></tr><tr><td><strong><code>&lt;ctype.h&gt;</code></strong></td><td>å®šä¹‰å­—ç¬¦æ“ä½œå‡½æ•°ï¼Œå¦‚ <code>isalpha</code>ã€<code>isdigit</code>ã€<code>toupper</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;assert.h&gt;</code></strong></td><td>æä¾›æ–­è¨€åŠŸèƒ½ï¼Œç”¨äºè°ƒè¯•æ—¶æ£€æŸ¥ç¨‹åºä¸­çš„é€»è¾‘æ¡ä»¶ã€‚</td></tr><tr><td><strong><code>&lt;limits.h&gt;</code></strong></td><td>å®šä¹‰å„ç§æ•°æ®ç±»å‹çš„é™åˆ¶å€¼ï¼Œå¦‚ <code>INT_MAX</code>ã€<code>CHAR_BIT</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;float.h&gt;</code></strong></td><td>å®šä¹‰æµ®ç‚¹ç±»å‹çš„é™åˆ¶å€¼ï¼Œå¦‚ <code>FLT_MAX</code>ã€<code>DBL_MIN</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;locale.h&gt;</code></strong></td><td>æä¾›æœ¬åœ°åŒ–æ”¯æŒå‡½æ•°ï¼Œå¦‚ <code>setlocale</code>ã€<code>localeconv</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;grp.h&gt;</code></strong></td><td>æä¾›ç»„ä¿¡æ¯ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>getgrgid</code>ã€<code>getgrnam</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;pwd.h&gt;</code></strong></td><td>æä¾›ç”¨æˆ·ä¿¡æ¯ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>getpwnam</code>ã€<code>getpwuid</code> ç­‰ã€‚</td></tr><tr><td><strong><code>&lt;sys/resource.h&gt;</code></strong></td><td>æä¾›ç³»ç»Ÿèµ„æºé™åˆ¶ç›¸å…³å‡½æ•°ï¼Œå¦‚ <code>getrlimit</code>ã€<code>setrlimit</code> ç­‰ã€‚</td></tr></tbody></table><h2 id="ç³»ç»Ÿæ•°æ®ç±»å‹é€‰å½•">ç³»ç»Ÿæ•°æ®ç±»å‹é€‰å½•</h2><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>SUSv3 ç±»å‹éœ€æ±‚</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>blkcnt_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶å—æ•°é‡ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>blksize_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶å—å¤§å°ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>cc_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>ç»ˆç«¯ç‰¹æ®Šå­—ç¬¦ï¼ˆ62.4 èŠ‚ï¼‰</td></tr><tr><td><code>clock_t</code></td><td>æ•´å‹æˆ–æµ®ç‚¹å‹å®æ•°</td><td>ä»¥æ—¶é’Ÿå‘¨æœŸè®¡é‡çš„ç³»ç»Ÿæ—¶é—´ï¼ˆ10.7 èŠ‚ï¼‰</td></tr><tr><td><code>clockid_t</code></td><td>è¿ç®—ç±»å‹ä¹‹ä¸€</td><td>é’ˆå¯¹ POSIX.1b æ—¶é’Ÿå’Œå®šæ—¶å™¨å‡½æ•°çš„æ—¶é’Ÿæ ‡è¯†ç¬¦</td></tr><tr><td><code>comp_t</code></td><td>SUSv3 æœªä½œè§„èŒƒ</td><td>ç»ç”±å‹ç¼©å¤„ç†çš„æ—¶é’Ÿå‘¨æœŸï¼ˆ28.1 èŠ‚ï¼‰</td></tr><tr><td><code>dev_t</code></td><td>è¿ç®—ç±»å‹ä¹‹ä¸€</td><td>è®¾å¤‡å·ï¼ŒåŒ…å«ä¸»ã€æ¬¡è®¾å¤‡å·ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>DIR</code></td><td>æ— ç±»å‹è¦æ±‚</td><td>ç›®å½•æµï¼ˆ18.8 èŠ‚ï¼‰</td></tr><tr><td><code>fd_set</code></td><td>ç»“æ„ç±»å‹</td><td><code>select()</code>ï¼ˆ63.2.1 èŠ‚ï¼‰ä¸­çš„æ–‡ä»¶æè¿°ç¬¦é›†åˆ</td></tr><tr><td><code>fsblkcnt_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶ç³»ç»Ÿå—æ•°é‡ï¼ˆ14.11 èŠ‚ï¼‰</td></tr><tr><td><code>fsfilcnt_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶æ•°é‡ï¼ˆ14.11 èŠ‚ï¼‰</td></tr><tr><td><code>gid_t</code></td><td>æ•´å‹</td><td>æ•°å€¼å‹ç»„æ ‡è¯†ç¬¦ï¼ˆ8.3 èŠ‚ï¼‰</td></tr><tr><td><code>id_t</code></td><td>æ•´å‹</td><td>ç”¨ä»¥å­˜æ”¾æ ‡è¯†ç¬¦çš„é€šç”¨ç±»å‹ï¼Œå…¶å¤§å°è‡³å°‘å¯æ”¾ç½® <code>pid_t</code>ã€<code>uid_t</code> å’Œ <code>gid_t</code> ç±»å‹</td></tr><tr><td><code>in_addr_t</code></td><td>32 ä½æ— ç¬¦å·æ•´å‹</td><td>IPv4 åœ°å€ï¼ˆ59.4 èŠ‚ï¼‰</td></tr><tr><td><code>in_port_t</code></td><td>16 ä½æ— ç¬¦å·æ•´å‹</td><td>IP ç«¯å£å·ï¼ˆ59.4 èŠ‚ï¼‰</td></tr><tr><td><code>ino_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶ i-node å·ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>key_t</code></td><td>è¿ç®—ç±»å‹ä¹‹ä¸€</td><td>System V IPC é”®ï¼ˆ45.2 èŠ‚ï¼‰</td></tr><tr><td><code>mode_t</code></td><td>æ•´å‹</td><td>æ–‡ä»¶æƒé™åŠç±»å‹ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>mqd_t</code></td><td>æ— ç±»å‹è¦æ±‚</td><td>POSIX æ¶ˆæ¯é˜Ÿåˆ—æè¿°ç¬¦</td></tr><tr><td><code>msglen_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>System V æ¶ˆæ¯é˜Ÿåˆ—æ‰€å…è®¸çš„å­—èŠ‚æ•°ï¼ˆ46.4 èŠ‚ï¼‰</td></tr><tr><td><code>msgqnum_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>System V æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ•°é‡ï¼ˆ46.4 èŠ‚ï¼‰</td></tr><tr><td><code>nfds_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td><code>poll()</code>ï¼ˆ63.2.2 èŠ‚ï¼‰ä¸­çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡</td></tr><tr><td><code>nlink_t</code></td><td>æ•´å‹</td><td>æ–‡ä»¶çš„ï¼ˆç¡¬ï¼‰è¿æ¥æ•°é‡ï¼ˆ15.1 èŠ‚ï¼‰</td></tr><tr><td><code>off_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>æ–‡ä»¶åç§»é‡æˆ–å¤§å°ï¼ˆ4.7 èŠ‚åŠ 15.1 èŠ‚ï¼‰</td></tr><tr><td><code>pid_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>è¿›ç¨‹ IDã€è¿›ç¨‹ç»„ ID æˆ–ä¼šè¯ IDï¼ˆ6.3 èŠ‚ã€34.2 èŠ‚ã€34.3 èŠ‚ï¼‰</td></tr><tr><td><code>ptrdiff_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>ä¸¤æŒ‡é’ˆå·®å€¼ï¼Œä¸ºæœ‰ç¬¦å·æ•´å‹</td></tr><tr><td><code>rlim_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>èµ„æºé™åˆ¶ï¼ˆ36.2 èŠ‚ï¼‰</td></tr><tr><td><code>sa_family_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>å¥—æ¥å­—åœ°å€æ—ï¼ˆ56.4 èŠ‚ï¼‰</td></tr><tr><td><code>shmatt_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>ä¸ System V å…±äº«å†…å­˜æ®µç›¸è¿çš„è¿›ç¨‹æ•°é‡</td></tr><tr><td><code>sig_atomic_t</code></td><td>æ•´å‹</td><td>å¯è¿›è¡ŒåŸå­è®¿é—®çš„æ•°æ®ç±»å‹ï¼ˆ21.1.3 èŠ‚ï¼‰</td></tr><tr><td><code>siginfo_t</code></td><td>ç»“æ„ç±»å‹</td><td>ä¿¡å·èµ·æºçš„ç›¸å…³ä¿¡æ¯ï¼ˆ21.4 èŠ‚ï¼‰</td></tr><tr><td><code>sigset_t</code></td><td>æ•´å‹æˆ–ç»“æ„ç±»å‹</td><td>ä¿¡å·é›†åˆï¼ˆ20.9 èŠ‚ï¼‰</td></tr><tr><td><code>size_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>å¯¹è±¡å¤§å°ï¼ˆä»¥å­—èŠ‚æ•°è®¡ï¼‰</td></tr><tr><td><code>socklen_t</code></td><td>è‡³å°‘ 32 ä½çš„æ•´å‹</td><td>å¥—æ¥å­—åœ°å€ç»“æ„å¤§å°ï¼ˆä»¥å­—èŠ‚æ•°è®¡ï¼‰ï¼ˆ56.3 èŠ‚ï¼‰</td></tr><tr><td><code>speed_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>ç»ˆç«¯çº¿é€Ÿåº¦ï¼ˆ62.7 èŠ‚ï¼‰</td></tr><tr><td><code>ssize_t</code></td><td>æœ‰ç¬¦å·æ•´å‹</td><td>å­—èŠ‚æ•°æˆ–ï¼ˆä¸ºè´Ÿæ—¶ï¼‰æ ‡è¯†é”™è¯¯</td></tr><tr><td><code>stack_t</code></td><td>ç»“æ„ç±»å‹</td><td>å¯¹å¤‡é€‰ä¿¡å·æ ˆçš„æè¿°ï¼ˆ21.3 èŠ‚ï¼‰</td></tr><tr><td><code>suseconds_t</code></td><td>æœ‰ç¬¦å·æ•´å‹ï¼ŒèŒƒå›´ä¸º [-1,1000000]</td><td>å¾®ç§’çº§çš„æ—¶é—´é—´éš”ï¼ˆ10.1 èŠ‚ï¼‰</td></tr><tr><td><code>tcflag_t</code></td><td>æ— ç¬¦å·æ•´å‹</td><td>ç»ˆç«¯æ¨¡å¼æ ‡å¿—ä½çš„ä½æ©ç ï¼ˆ62.2 èŠ‚ï¼‰</td></tr><tr><td><code>time_t</code></td><td>æ•´å‹æˆ–æµ®ç‚¹å‹å®æ•°</td><td>è‡ªæ‰€è°“çºªå…ƒï¼ˆEpochï¼‰ï¼ˆ10.1 èŠ‚ï¼‰å§‹ï¼Œä»¥ç§’è®¡çš„æ—¥å†æ—¶é—´</td></tr><tr><td><code>timer_t</code></td><td>è¿ç®—ç±»å‹ä¹‹ä¸€</td><td>POSIX.1b é—´éš”å®šæ—¶å™¨å‡½æ•°ï¼ˆ23.6 èŠ‚ï¼‰çš„å®šæ—¶å™¨æ ‡è¯†ç¬¦</td></tr><tr><td><code>uid_t</code></td><td>æ•´å‹</td><td>æ•°å€¼å‹ç”¨æˆ·æ ‡è¯†ç¬¦ï¼ˆ8.1 èŠ‚ï¼‰</td></tr></tbody></table><h2 id="æ–‡ä»¶-I-Oï¼šé€šç”¨çš„-I-O-æ¨¡å‹">æ–‡ä»¶ I/Oï¼šé€šç”¨çš„ I/O æ¨¡å‹</h2><h3 id="æ¦‚è¿°">æ¦‚è¿°</h3><p>æ‰€æœ‰æ‰§è¡Œ <strong>I/O æ“ä½œçš„ç³»ç»Ÿè°ƒç”¨</strong>éƒ½ä»¥<strong>æ–‡ä»¶æè¿°ç¬¦</strong>ï¼Œä¸€ä¸ª<strong>éè´Ÿæ•´æ•°</strong>ï¼ˆé€šå¸¸æ˜¯å°æ•´æ•°ï¼‰ï¼Œæ¥æŒ‡ä»£æ‰“å¼€çš„æ–‡ä»¶ã€‚æ–‡ä»¶æè¿°ç¬¦ç”¨ä»¥è¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„å·²æ‰“å¼€æ–‡ä»¶ï¼ŒåŒ…æ‹¬ç®¡é“ï¼ˆpipeï¼‰ã€FIFOã€socketã€ç»ˆç«¯ã€è®¾å¤‡å’Œæ™®é€šæ–‡ä»¶ã€‚é’ˆå¯¹æ¯ä¸ªè¿›ç¨‹ï¼Œæ–‡ä»¶æè¿°ç¬¦éƒ½è‡ªæˆä¸€å¥—æŒ‰ç…§ã€‚æƒ¯ä¾‹ï¼Œå¤§å¤šæ•°ç¨‹åºéƒ½æœŸæœ›èƒ½å¤Ÿä½¿ç”¨ 3 ç§æ ‡å‡†çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚ä¸‹è¡¨</p><table><thead><tr><th>æ–‡ä»¶æè¿°ç¬¦</th><th>ç”¨ é€”</th><th><strong>POSIX</strong> åç§°</th><th><strong>stdio</strong> æµ</th></tr></thead><tbody><tr><td>0</td><td>æ ‡å‡†è¾“å…¥</td><td>STDIN_FILENO</td><td>stdin</td></tr><tr><td>1</td><td>æ ‡å‡†è¾“å‡º</td><td>STDOUT_FILENO</td><td>stdout</td></tr><tr><td>2</td><td>æ ‡å‡†é”™è¯¯</td><td>STDERR_FILENO</td><td>stder</td></tr></tbody></table><p><strong>I/O æ“ä½œçš„ 4 ä¸ªä¸»è¦ç³»ç»Ÿè°ƒç”¨</strong></p><p>1.<code>int open(const char *pathname, int flags, mode_t mode);</code></p><p>2.<code>ssize_t read(int fd, void *buffer, size_t count);</code></p><p>3.<code>ssize_t write(int fd, const void *buffer, size_t count);</code></p><p>4.<code>int close(int fd);</code></p><h3 id="é€šç”¨-I-O">é€šç”¨ I/O</h3><p>UNIX I/O æ¨¡å‹çš„æ˜¾è‘—ç‰¹ç‚¹ä¹‹ä¸€æ˜¯å…¶è¾“å…¥/è¾“å‡ºçš„<strong>é€šç”¨æ€§</strong>æ¦‚å¿µã€‚è¿™æ„å‘³ç€ä½¿ç”¨ 4 ä¸ªåŒæ ·çš„ç³»ç»Ÿè°ƒç”¨ open()ã€read()ã€write()å’Œ close()å¯ä»¥å¯¹<strong>æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶</strong>æ‰§è¡Œ I/O æ“ä½œï¼ŒåŒ…æ‹¬ç»ˆç«¯ä¹‹ç±»çš„è®¾å¤‡ã€‚å› æ­¤ï¼Œä»…ä½¿ç”¨è¿™äº›ç³»ç»Ÿè°ƒç”¨ç¼–å†™çš„ç¨‹åºï¼Œå°†å¯¹ä»»ä½•ç±»å‹çš„æ–‡ä»¶æœ‰æ•ˆã€‚</p><h3 id="open-å‡½æ•°">open()å‡½æ•°</h3><p>open()è°ƒç”¨æ—¢èƒ½æ‰“å¼€ä¸€ä¸ªä¸šå·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¹Ÿèƒ½<strong>åˆ›å»º</strong>å¹¶æ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/stat.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">open</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *pathname, <span class="type">int</span> flags, <span class="type">mode_t</span> mode)</span>;</span><br></pre></td></tr></table></figure><p><strong>æ–‡ä»¶è®¿é—®æ¨¡å¼æ ‡å¿—</strong></p><p><code>O_RDONLY</code>,<code>O_WRONLY</code>å’Œ<code>O_RDWR</code>è¿™ä¸‰ç§åªèƒ½é€‰æ‹©ä¸€ç§</p><table><thead><tr><th>æ ‡å¿—</th><th>ç”¨é€”</th><th>ç»Ÿä¸€ UNIX è§„èŒƒç‰ˆæœ¬</th></tr></thead><tbody><tr><td><code>O_RDONLY</code></td><td>ä»¥åªè¯»æ–¹å¼æ‰“å¼€</td><td>v3</td></tr><tr><td><code>O_WRONLY</code></td><td>ä»¥åªå†™æ–¹å¼æ‰“å¼€</td><td>v3</td></tr><tr><td><code>O_RDWR</code></td><td>ä»¥è¯»å†™æ–¹å¼æ‰“å¼€</td><td>v3</td></tr><tr><td><code>O_CLOEXEC</code></td><td>è®¾ç½® close-on-exec æ ‡å¿—ï¼ˆè‡ª Linux 2.6.23 ç‰ˆæœ¬å¼€å§‹ï¼‰</td><td>v4</td></tr><tr><td><code>O_CREAT</code></td><td>è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºä¹‹</td><td>v3</td></tr><tr><td><code>O_DIRECT</code></td><td>æ— ç¼“å†²çš„è¾“å…¥/è¾“å‡º</td><td></td></tr><tr><td><code>O_DIRECTORY</code></td><td>å¦‚æœ pathname ä¸æ˜¯ç›®å½•ï¼Œåˆ™å¤±è´¥</td><td>v4</td></tr><tr><td><code>O_EXCL</code></td><td>ç»“åˆ O_CREAT å‚æ•°ä½¿ç”¨ï¼Œä¸“é—¨ç”¨äºåˆ›å»ºæ–‡ä»¶</td><td>v3</td></tr><tr><td><code>O_LARGEFILE</code></td><td>åœ¨ 32 ä½ç³»ç»Ÿä¸­ä½¿ç”¨æ­¤æ ‡å¿—æ‰“å¼€å¤§æ–‡ä»¶</td><td></td></tr><tr><td><code>O_NOATIME</code></td><td>è°ƒç”¨ read() æ—¶ï¼Œä¸ä¿®æ”¹æ–‡ä»¶æœ€è¿‘è®¿é—®æ—¶é—´ï¼ˆè‡ª Linux 2.6.8 ç‰ˆæœ¬å¼€å§‹ï¼‰</td><td></td></tr><tr><td><code>O_NOCTTY</code></td><td>ä¸è¦è®© pathnameï¼ˆæ‰€æŒ‡å‘çš„ç»ˆç«¯è®¾å¤‡ï¼‰æˆä¸ºæ§åˆ¶ç»ˆç«¯</td><td>v3</td></tr><tr><td><code>O_NOFOLLOW</code></td><td>å¯¹ç¬¦å·é“¾æ¥ä¸äºˆè§£å¼•ç”¨</td><td>v4</td></tr><tr><td><code>O_TRUNC</code></td><td>æˆªæ–­å·²æœ‰æ–‡ä»¶ï¼Œä½¿å…¶é•¿åº¦ä¸ºé›¶</td><td>v3</td></tr><tr><td><code>O_APPEND</code></td><td>æ€»åœ¨æ–‡ä»¶å°¾éƒ¨è¿½åŠ æ•°æ®</td><td>v3</td></tr><tr><td><code>O_ASYNC</code></td><td>å½“ I/O æ“ä½œå¯è¡Œæ—¶ï¼Œäº§ç”Ÿä¿¡å·ï¼ˆsignalï¼‰é€šçŸ¥è¿›ç¨‹</td><td></td></tr><tr><td><code>O_DSYNC</code></td><td>æä¾›åŒæ­¥çš„ I/O æ•°æ®å®Œæ•´æ€§ï¼ˆè‡ª Linux 2.6.33 ç‰ˆæœ¬å¼€å§‹ï¼‰</td><td>v3</td></tr><tr><td><code>O_NONBLOCK</code></td><td>ä»¥éé˜»å¡æ–¹å¼æ‰“å¼€</td><td>v3</td></tr><tr><td><code>O_SYNC</code></td><td>ä»¥åŒæ­¥æ–¹å¼å†™å…¥æ–‡ä»¶</td><td>v3</td></tr></tbody></table><p><strong><code>open()</code> å‡½æ•°çš„å¸¸è§é”™è¯¯</strong></p><table><thead><tr><th>é”™è¯¯ä»£ç </th><th>æè¿°</th></tr></thead><tbody><tr><td><code>EACCES</code></td><td>æ— æƒé™ä»¥æŒ‡å®šæ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¯èƒ½å› ç›®å½•æƒé™é™åˆ¶ã€æ–‡ä»¶ä¸å­˜åœ¨ä¸”æ— æ³•åˆ›å»ºã€‚</td></tr><tr><td><code>EISDIR</code></td><td>å°è¯•ä»¥å†™æ–¹å¼æ‰“å¼€ç›®å½•æ–‡ä»¶ï¼ˆä¸å…è®¸ï¼‰ã€‚</td></tr><tr><td><code>EMFILE</code></td><td>è¿›ç¨‹å·²æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦æ•°é‡è¾¾åˆ°é™åˆ¶ã€‚</td></tr><tr><td><code>ENFILE</code></td><td>ç³»ç»Ÿæ–‡ä»¶æ‰“å¼€æ•°é‡è¾¾åˆ°ä¸Šé™ã€‚</td></tr><tr><td><code>ENOENT</code></td><td>æ–‡ä»¶ä¸å­˜åœ¨ä¸”æœªæŒ‡å®š <code>O_CREAT</code>ï¼Œæˆ–è·¯å¾„ä¸­ç›®å½•ä¸å­˜åœ¨ã€‚</td></tr><tr><td><code>EROFS</code></td><td>æ–‡ä»¶éš¶å±åªè¯»æ–‡ä»¶ç³»ç»Ÿï¼Œè¯•å›¾ä»¥å†™æ–¹å¼æ‰“å¼€ã€‚</td></tr><tr><td><code>ETXTBSY</code></td><td>æ–‡ä»¶ä¸ºæ­£åœ¨è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç³»ç»Ÿç¦æ­¢ä¿®æ”¹ã€‚</td></tr></tbody></table><blockquote><p><strong>æ³¨æ„</strong>: æ›´å¤šé”™è¯¯åŸå› å¯æŸ¥çœ‹ <code>man 2 open</code> æ‰‹å†Œã€‚</p></blockquote><h3 id="creat-å‡½æ•°">creat()å‡½æ•°</h3><p>åœ¨æ—©æœŸçš„ UNIX å®ç°ä¸­ï¼Œopen()åªæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæ— æ³•åˆ›å»ºæ–°æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ creat()ç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»ºå¹¶æ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">creat</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *pathname,<span class="type">mode_t</span> mode)</span>;</span><br></pre></td></tr></table></figure><p>creat()ç³»ç»Ÿè°ƒç”¨æ ¹æ® <code>pathname</code> å‚æ•°åˆ›å»ºå¹¶æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼Œå°†å…¶é•¿åº¦æ¸… 0ã€‚creat()è¿”å›ä¸€æ–‡ä»¶æè¿°ç¬¦ï¼Œä¾›åç»­ç³»ç»Ÿè°ƒç”¨ä½¿ç”¨ã€‚<code>creat()</code>ç³»ç»Ÿè°ƒç”¨ç­‰ä»·äºå¦‚ä¸‹ <code>open()</code>è°ƒç”¨ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fd =open(pathname,<span class="number">0</span>_WRONLY | O_CREAT | O_TRUNC,mode);</span><br></pre></td></tr></table></figure><h3 id="read-å‡½æ•°">read()å‡½æ•°</h3><p>read()ç³»ç»Ÿè°ƒç”¨ä»æ–‡ä»¶æè¿°ç¬¦ fd æ‰€æŒ‡ä»£çš„æ‰“å¼€æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">ssizet <span class="title function_">read</span><span class="params">(<span class="type">int</span> fd,<span class="type">void</span> *buffer,sizet count)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›è¯»å–çš„å­—èŠ‚æ•°ï¼ŒEOFï¼ˆæ–‡ä»¶ç»“æŸï¼‰æ—¶è¿”å› 0ï¼Œå‡ºé”™æ—¶è¿”å› -1</span></span><br></pre></td></tr></table></figure><p><code>count</code> å‚æ•°æŒ‡å®šæœ€å¤šèƒ½è¯»å–çš„å­—èŠ‚æ•°ã€‚ï¼ˆ<code>size_t </code>æ•°æ®ç±»å‹å±äºæ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚ï¼‰<code>buffer</code> å‚æ•°æä¾›ç”¨æ¥å­˜æ”¾è¾“å…¥æ•°æ®çš„å†…å­˜ç¼“å†²åŒºåœ°å€ã€‚ç¼“å†²åŒºè‡³å°‘åº”æœ‰ <code>count</code> ä¸ªå­—èŠ‚ã€‚</p><h3 id="write-å‡½æ•°">write()å‡½æ•°</h3><p>write()ç³»ç»Ÿè°ƒç”¨å°†æ•°æ®å†™å…¥ä¸€ä¸ªå·²æ‰“å¼€çš„æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line">ssize t <span class="title function_">write</span><span class="params">(<span class="type">int</span> fd,<span class="type">void</span> *buffer,sizet count)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ï¼Œå‡ºé”™æ—¶è¿”å› -1</span></span><br></pre></td></tr></table></figure><p><code>write()</code>è°ƒç”¨çš„å‚æ•°å«ä¹‰ä¸ <code>read()</code>è°ƒç”¨ç›¸ç±»ä¼¼ã€‚<code>buffer</code> å‚æ•°ä¸ºè¦å†™å…¥æ–‡ä»¶ä¸­æ•°æ®çš„å†…å­˜åœ°å€ï¼Œ<code>count</code>å‚æ•°ä¸ºæ¬²ä»<code> buffer</code> å†™å…¥æ–‡ä»¶çš„æ•°æ®å­—èŠ‚æ•°ï¼Œ<code>fd</code> å‚æ•°ä¸ºä¸€æ–‡ä»¶æè¿°ç¬¦ï¼ŒæŒ‡ä»£æ•°æ®è¦å†™å…¥çš„æ–‡ä»¶ã€‚å¦‚æœ <code>write()</code>è°ƒç”¨æˆåŠŸï¼Œå°†è¿”å›å®é™…å†™å…¥æ–‡ä»¶çš„å­—èŠ‚æ•°ï¼Œè¯¥è¿”å›å€¼å¯èƒ½å°äº <code>count</code> å‚æ•°å€¼ã€‚è¿™è¢«ç§°ä¸ºâ€œéƒ¨åˆ†å†™â€ã€‚å¯¹ç£ç›˜æ–‡ä»¶æ¥è¯´ï¼Œé€ æˆâ€œéƒ¨åˆ†å†™â€çš„åŸå› å¯èƒ½æ˜¯ç”±äºç£ç›˜å·²æ»¡ï¼Œæˆ–æ˜¯å› ä¸ºè¿›ç¨‹èµ„æºå¯¹æ–‡ä»¶å¤§å°çš„é™åˆ¶ã€‚</p><h3 id="close-å‡½æ•°">close()å‡½æ•°</h3><p>close()ç³»ç»Ÿè°ƒç”¨å…³é—­ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¹¶å°†å…¶é‡Šæ”¾å›è°ƒç”¨è¿›ç¨‹ï¼Œä¾›è¯¥è¿›ç¨‹ç»§ç»­ä½¿ç”¨ã€‚å½“ä¸€è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œå°†<strong>è‡ªåŠ¨å…³é—­</strong>å…¶å·²æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">close</span><span class="params">(<span class="type">int</span> fd)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæ—¶è¿”å› 0ï¼Œå‡ºé”™æ—¶è¿”å› -1</span></span><br></pre></td></tr></table></figure><h3 id="lseek-å‡½æ•°">lseek()å‡½æ•°</h3><p>å¯¹äºæ¯ä¸ªæ‰“å¼€çš„æ–‡ä»¶ï¼Œç³»ç»Ÿå†…æ ¸ä¼šè®°å½•å…¶æ–‡ä»¶åç§»é‡ï¼Œæœ‰æ—¶ä¹Ÿå°†æ–‡ä»¶åç§»é‡ç§°ä¸ºè¯»å†™åç§»é‡æˆ–æŒ‡é’ˆã€‚æ–‡ä»¶åç§»é‡æ˜¯æŒ‡æ‰§è¡Œä¸‹ä¸€ä¸ª <code>read()</code>æˆ– <code>write()</code>æ“ä½œçš„æ–‡ä»¶èµ·å§‹ä½ç½®ï¼Œä¼šä»¥ç›¸å¯¹äºæ–‡ä»¶å¤´éƒ¨èµ·å§‹ç‚¹çš„æ–‡ä»¶å½“å‰ä½ç½®æ¥è¡¨ç¤ºã€‚æ–‡ä»¶ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åç§»é‡ä¸º 0ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ï¼Œä¼šå°†æ–‡ä»¶åç§»é‡è®¾ç½®ä¸ºæŒ‡å‘æ–‡ä»¶å¼€å§‹ï¼Œä»¥åæ¯æ¬¡<code>read()</code>æˆ– <code>write()</code>è°ƒç”¨å°†è‡ªåŠ¨å¯¹å…¶è¿›è¡Œè°ƒæ•´ï¼Œä»¥æŒ‡å‘å·²è¯»æˆ–å·²å†™æ•°æ®åçš„ä¸‹ä¸€å­—èŠ‚ã€‚å› æ­¤ï¼Œè¿ç»­çš„ <code>read()</code>å’Œ <code>write()</code>è°ƒç”¨å°†æŒ‰é¡ºåºé€’è¿›ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚é’ˆå¯¹æ–‡ä»¶æè¿°ç¬¦ <code>fd</code> å‚æ•°æ‰€æŒ‡ä»£çš„å·²æ‰“å¼€æ–‡ä»¶ï¼Œ<code>lseek()</code>ç³»ç»Ÿè°ƒç”¨ä¾ç…§ <code>offset</code> å’Œ <code>whence</code> å‚æ•°å€¼è°ƒæ•´è¯¥æ–‡ä»¶çš„åç§»é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">off t <span class="title function_">lseek</span><span class="params">(<span class="type">int</span> fd,off t offset,<span class="type">int</span> whence)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæ—¶è¿”å›æ–°çš„æ–‡ä»¶åç§»é‡ï¼Œå‡ºé”™æ—¶è¿”å› -1</span></span><br></pre></td></tr></table></figure><p><code>offset</code> å‚æ•°æŒ‡å®šäº†ä¸€ä¸ªä»¥å­—èŠ‚ä¸ºå•ä½çš„æ•°å€¼ã€‚ï¼ˆSUSv3 è§„å®š off_t æ•°æ®ç±»å‹ä¸ºæœ‰ç¬¦å·æ•´å‹æ•°ã€‚ï¼‰<code>whence</code> å‚æ•°åˆ™è¡¨æ˜åº”å‚ç…§å“ªä¸ªåŸºç‚¹æ¥è§£é‡Š <code>offset</code> å‚æ•°ï¼Œåº”ä¸ºä¸‹åˆ—å…¶ä¸­ä¹‹ä¸€ï¼š</p><table><thead><tr><th>æ ‡å¿—</th><th>æè¿°</th></tr></thead><tbody><tr><td>SEEK_SET</td><td>å°†æ–‡ä»¶åç§»é‡è®¾ç½®ä¸ºä»æ–‡ä»¶å¤´éƒ¨èµ·å§‹ç‚¹å¼€å§‹çš„ offset ä¸ªå­—èŠ‚ã€‚</td></tr><tr><td>SEEK_CUR</td><td>ç›¸å¯¹äºå½“å‰æ–‡ä»¶åç§»é‡ï¼Œå°†æ–‡ä»¶åç§»é‡è°ƒæ•´ offset ä¸ªå­—èŠ‚ã€‚</td></tr><tr><td>SEEK_END</td><td>å°†æ–‡ä»¶åç§»é‡è®¾ç½®ä¸ºèµ·å§‹äºæ–‡ä»¶å°¾éƒ¨çš„ offset ä¸ªå­—èŠ‚ã€‚offset å‚æ•°ä»æ–‡ä»¶æœ€åä¸€ä¸ªå­—èŠ‚ä¹‹åç®—èµ·ã€‚</td></tr></tbody></table><h2 id="æ·±å…¥æ¢ç©¶æ–‡ä»¶-I-O">æ·±å…¥æ¢ç©¶æ–‡ä»¶ I/O</h2><h3 id="fcntl-å‡½æ•°">fcntl()å‡½æ•°</h3><p><code>fcntl()</code>ç³»ç»Ÿè°ƒç”¨å¯¹ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦æ‰§è¡Œä¸€ç³»åˆ—æ§åˆ¶æ“ä½œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl,h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fcntl</span><span class="params">(<span class="type">int</span> fd,<span class="type">int</span> cmd,...)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆåŠŸæ—¶è¿”å›å–å†³äºcmdï¼Œé”™è¯¯æ—¶è¿”å›-1</span></span><br></pre></td></tr></table></figure><p>cmd å‚æ•°æ‰€æ”¯æŒçš„æ“ä½œèŒƒå›´å¾ˆå¹¿,å¸¸ç”¨æ¥è·å–/è®¾ç½®æ–‡ä»¶æè¿°ç¬¦æ ‡å¿—,è·å–/è®¾ç½®æ–‡ä»¶çŠ¶æ€æ ‡å¿—,è®¾ç½®/è·å–æ–‡ä»¶é”,å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ã€‚fcntl()çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä»¥çœç•¥å·æ¥è¡¨ç¤ºï¼Œè¿™æ„å‘³ç€å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸åŒçš„ç±»å‹ï¼Œæˆ–è€…åŠ ä»¥çœç•¥ã€‚å†…æ ¸ä¼šä¾æ® cmd å‚æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰çš„å€¼æ¥ç¡®å®šè¯¥å‚æ•°çš„æ•°æ®ç±»å‹ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(è·å–å’Œè®¾ç½®æ–‡ä»¶æè¿°ç¬¦æ ‡å¿—ï¼š`F_GETFD` å’Œ `F_SETFD`) </summary>              <div class='content'>              <p>è·å–æˆ–è®¾ç½®æ–‡ä»¶æè¿°ç¬¦çš„æ ‡å¿—ï¼Œä¾‹å¦‚ <code>FD_CLOEXEC</code>ï¼ˆå…³é—­æ–‡ä»¶æ—¶ä¸è¢«å­è¿›ç¨‹ç»§æ‰¿ï¼‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æ–‡ä»¶æè¿°ç¬¦æ ‡å¿—</span></span><br><span class="line">    <span class="type">int</span> flags = fcntl(fd, F_GETFD);</span><br><span class="line">    <span class="keyword">if</span> (flags == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_GETFD&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Initial FD flags: %d\n&quot;</span>, flags);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® FD_CLOEXEC æ ‡å¿—</span></span><br><span class="line">    flags |= FD_CLOEXEC;</span><br><span class="line">    <span class="keyword">if</span> (fcntl(fd, F_SETFD, flags) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_SETFD&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;FD_CLOEXEC flag set.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(è·å–å’Œè®¾ç½®æ–‡ä»¶çŠ¶æ€æ ‡å¿—ï¼š`F_GETFL` å’Œ `F_SETFL`) </summary>              <div class='content'>              <p>è·å–æˆ–ä¿®æ”¹æ–‡ä»¶çš„çŠ¶æ€æ ‡å¿—ï¼Œä¾‹å¦‚éé˜»å¡æ¨¡å¼ï¼ˆ<code>O_NONBLOCK</code>ï¼‰æˆ–è¿½åŠ æ¨¡å¼ï¼ˆ<code>O_APPEND</code>ï¼‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_APPEND, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æ–‡ä»¶çŠ¶æ€æ ‡å¿—</span></span><br><span class="line">    <span class="type">int</span> flags = fcntl(fd, F_GETFL);</span><br><span class="line">    <span class="keyword">if</span> (flags == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_GETFL&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Initial file status flags: %d\n&quot;</span>, flags);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ éé˜»å¡æ ‡å¿—</span></span><br><span class="line">    flags |= O_NONBLOCK;</span><br><span class="line">    <span class="keyword">if</span> (fcntl(fd, F_SETFL, flags) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_SETFL&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;O_NONBLOCK flag set.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æ–‡ä»¶é”ï¼š`F_SETLK` å’Œ`F_SETLKW`å’Œ `F_GETLK`) </summary>              <div class='content'>              <p>è®¾ç½®ã€è·å–æˆ–é˜»å¡æ–‡ä»¶é”ï¼ˆé€‚åˆå®ç°è¿›ç¨‹é—´æ–‡ä»¶åŒæ­¥ï¼‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">flock</span> <span class="title">lock</span>;</span></span><br><span class="line">    lock.l_type = F_WRLCK;  <span class="comment">// å†™é”</span></span><br><span class="line">    lock.l_whence = SEEK_SET;</span><br><span class="line">    lock.l_start = <span class="number">0</span>;       <span class="comment">// ä»æ–‡ä»¶å¼€å¤´</span></span><br><span class="line">    lock.l_len = <span class="number">0</span>;         <span class="comment">// é”ä½æ•´ä¸ªæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•è®¾ç½®é”</span></span><br><span class="line">    <span class="keyword">if</span> (fcntl(fd, F_SETLK, &amp;lock) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_SETLK&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File locked.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿæ–‡ä»¶æ“ä½œ</span></span><br><span class="line">    sleep(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">    lock.l_type = F_UNLCK;</span><br><span class="line">    <span class="keyword">if</span> (fcntl(fd, F_SETLK, &amp;lock) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_SETLK&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File unlocked.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ï¼š`F_DUPFD` å’Œ `F_DUPFD_CLOEXEC`) </summary>              <div class='content'>              <p>ç±»ä¼¼äº <code>dup()</code> å’Œ <code>dup3()</code>ï¼Œä½†æ”¯æŒæ›´ç²¾ç»†çš„æ§åˆ¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ï¼Œæœ€å°å€¼ä¸º 5</span></span><br><span class="line">    <span class="type">int</span> new_fd = fcntl(fd, F_DUPFD, <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span> (new_fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;fcntl F_DUPFD&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;New file descriptor: %d\n&quot;</span>, new_fd);</span><br><span class="line"></span><br><span class="line">    write(new_fd, <span class="string">&quot;Hello, fcntl!\n&quot;</span>, <span class="number">14</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    close(new_fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="dup-å‡½æ•°">dup()å‡½æ•°</h3><p>dup()è°ƒç”¨å¤åˆ¶ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ oldfdï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°æè¿°ç¬¦ï¼ŒäºŒè€…éƒ½æŒ‡å‘åŒä¸€æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„ã€‚ç³»ç»Ÿä¼šä¿è¯æ–°æè¿°ç¬¦ä¸€å®šæ˜¯ç¼–å·å€¼æœ€ä½çš„æœªç”¨æ–‡ä»¶æè¿°ç¬¦ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dup</span><span class="params">(<span class="type">int</span> oldfd)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæ—¶è¿”å›ï¼ˆæ–°ï¼‰æ–‡ä»¶æè¿°ç¬¦ï¼Œé”™è¯¯æ—¶è¿”å›-1</span></span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> new_fd = dup(fd);</span><br><span class="line">    <span class="keyword">if</span> (new_fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;dup&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    write(new_fd, <span class="string">&quot;Hello, dup!\n&quot;</span>, <span class="number">12</span>);</span><br><span class="line">    close(fd);</span><br><span class="line">    close(new_fd);</span><br><span class="line">    <span class="built_in">exit</span>(EXIT_SUCCESS);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œæ¯•åæ–‡ä»¶ <code>example.txt</code> ä¼šåŒ…å« <code>Hello, dup!</code></p>              </div>            </details><h3 id="dup2-å‡½æ•°">dup2()å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dup2</span><span class="params">(<span class="type">int</span> oldfd,<span class="type">int</span> newfd)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæ—¶è¿”å›ï¼ˆæ–°ï¼‰æ–‡ä»¶æè¿°ç¬¦ï¼Œé”™è¯¯æ—¶è¿”å›-1</span></span><br></pre></td></tr></table></figure><p><code>dup2()</code>ç³»ç»Ÿè°ƒç”¨ä¼šä¸º <code>oldfd</code> å‚æ•°æ‰€æŒ‡å®šçš„æ–‡ä»¶æè¿°ç¬¦åˆ›å»ºå‰¯æœ¬ï¼Œå…¶ç¼–å·ç”± <code>newfd</code> å‚æ•°æŒ‡å®šã€‚å¦‚æœç”± <code>newfd</code> å‚æ•°æ‰€æŒ‡å®šç¼–å·çš„æ–‡ä»¶æè¿°ç¬¦ä¹‹å‰å·²ç»æ‰“å¼€ï¼Œé‚£ä¹ˆ <code>dup2()</code>ä¼šé¦–å…ˆå°†å…¶å…³é—­ã€‚ï¼ˆ<code>dup2()</code>è°ƒç”¨ä¼šé»˜ç„¶å¿½ç•¥ <code>newfd</code> å…³é—­æœŸé—´å‡ºç°çš„ä»»ä½•é”™è¯¯ã€‚æ•…æ­¤ï¼Œç¼–ç æ—¶æ›´ä¸ºå®‰å…¨çš„åšæ³•æ˜¯ï¼šåœ¨è°ƒç”¨<code>dup2()</code>ä¹‹å‰ï¼Œè‹¥ <code>newfd</code> å·²ç»æ‰“å¼€ï¼Œåˆ™åº”æ˜¾å¼è°ƒç”¨ <code>close()</code>å°†å…¶å…³é—­ã€‚ï¼‰å¦‚æœ <code>oldfd</code> å’Œ <code>newfd</code> ç›¸åŒï¼Œ<code>dup2()</code> ç›´æ¥è¿”å› <code>newfd</code>ï¼Œä¸ä¼šå…³é—­æˆ–å¤åˆ¶ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dup2(fd, STDOUT_FILENO);  <span class="comment">// é‡å®šå‘æ ‡å‡†è¾“å‡ºåˆ°æ–‡ä»¶</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;è¿™å°†è¢«å†™å…¥æ–‡ä»¶è€Œä¸æ˜¯ç»ˆç«¯.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œæ¯•åæ–‡ä»¶<code>example.txt</code> ä¼šåŒ…å«é‡å®šå‘åçš„è¾“å‡ºå†…å®¹<code>&quot;è¿™å°†è¢«å†™å…¥æ–‡ä»¶è€Œä¸æ˜¯ç»ˆç«¯.&quot;</code>ã€‚</p>              </div>            </details><h3 id="dup3-å‡½æ•°">dup3()å‡½æ•°</h3><p>dup3()ç³»ç»Ÿè°ƒç”¨å®Œæˆçš„å·¥ä½œä¸ dup2()ç›¸åŒï¼Œåªæ˜¯æ–°å¢äº†ä¸€ä¸ªé™„åŠ å‚æ•° flagï¼Œè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨è¡Œä¸ºçš„ä½æ©ç ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> GNU SOURCE</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dup3</span><span class="params">(<span class="type">int</span> oldfd,<span class="type">int</span> newfd,<span class="type">int</span> flags)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸæ—¶è¿”å›ï¼ˆæ–°ï¼‰æ–‡ä»¶æè¿°ç¬¦ï¼Œé”™è¯¯æ—¶è¿”å›-1</span></span><br></pre></td></tr></table></figure><p>ç›®å‰ï¼Œdup3()åªæ”¯æŒä¸€ä¸ªæ ‡å¿— O_CLOEXECï¼Œè¿™å°†ä¿ƒä½¿å†…æ ¸ä¸ºæ–°æ–‡ä»¶æè¿°ç¬¦è®¾ç½® close-on-execæ ‡å¿—ï¼ˆFD_CLOEXECï¼‰ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> _GNU_SOURCE</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;open&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dup3(fd, <span class="number">5</span>, O_CLOEXEC);  <span class="comment">// å¤åˆ¶åˆ°æ–‡ä»¶æè¿°ç¬¦ 5ï¼Œå¹¶è®¾ç½® O_CLOEXEC</span></span><br><span class="line">    write(<span class="number">5</span>, <span class="string">&quot;Hello, dup3!\n&quot;</span>, <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    close(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œæ¯•åæ–‡ä»¶<code>example.txt</code> ä¼šåŒ…å« <code>Hello, dup3!</code></p>              </div>            </details><h3 id="pread-å‡½æ•°">pread()å‡½æ•°</h3><p>ç³»ç»Ÿè°ƒç”¨ <code>pread()</code>å®Œæˆä¸ <code>read()</code>ç›¸ç±»ä¼¼çš„å·¥ä½œï¼Œåªæ˜¯å‰è€…ä¼šåœ¨ <code>offset</code> å‚æ•°æ‰€æŒ‡å®šçš„ä½ç½®è¿›è¡Œæ–‡ä»¶ <code>I/O</code> æ“ä½œï¼Œè€Œéå§‹äºæ–‡ä»¶çš„å½“å‰åç§»é‡å¤„ï¼Œä¸”å®ƒä»¬ä¸ä¼šæ”¹å˜æ–‡ä»¶çš„å½“å‰åç§»é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">pread</span><span class="params">(<span class="type">int</span> fd,<span class="type">void</span> *buf,<span class="type">size_t</span> count,<span class="type">off_t</span> offset)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›è¯»å–çš„å­—èŠ‚æ•°ï¼ŒEOFï¼ˆæ–‡ä»¶ç»“æŸï¼‰æ—¶è¿”å› 0ï¼Œå‘ç”Ÿé”™è¯¯æ—¶è¿”å› -1ã€‚</span></span><br></pre></td></tr></table></figure><p><code>pread()</code>ç³»ç»Ÿè°ƒç”¨ç›¸å½“äºæŠŠä¸‹é¢çš„æ“ä½œ,çº³å…¥äº†åŸå­æ“ä½œ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">off_t</span> = orig;</span><br><span class="line"><span class="type">ssize_t</span> t;</span><br><span class="line"><span class="type">char</span> buf[<span class="number">1024</span>]; <span class="comment">// å®šä¹‰ä¸€ä¸ªå¤§å°ä¸º 1024 å­—èŠ‚çš„ç¼“å†²åŒº</span></span><br><span class="line"><span class="comment">// è·å–å½“å‰æ–‡ä»¶æè¿°ç¬¦ fd çš„æ–‡ä»¶åç§»é‡ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ° orig ä¸­,SEEK_CUR è¡¨ç¤ºç›¸å¯¹äºå½“å‰åç§»é‡çš„ä½ç½®ã€‚</span></span><br><span class="line">orig = lseek(fd,<span class="number">0</span>,SEEK_CUR);</span><br><span class="line"><span class="comment">// å°†æ–‡ä»¶åç§»é‡ç§»åŠ¨åˆ°æŒ‡å®šçš„ offset ä½ç½®ã€‚SEEK_SET è¡¨ç¤ºä»æ–‡ä»¶çš„å¼€å¤´è®¡ç®—åç§»é‡ã€‚</span></span><br><span class="line">lseek(fd,offset,SEEK_SET);</span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">read</span><span class="params">(fd, buf, len)</span>;</span><br><span class="line"><span class="comment">// ä»æ–‡ä»¶æè¿°ç¬¦ fd å¤„è¯»å–æœ€å¤š len å­—èŠ‚çš„æ•°æ®åˆ°ç¼“å†²åŒº buf ä¸­ï¼Œè¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ã€‚</span></span><br><span class="line">s = read(fd,buf,len);</span><br><span class="line"><span class="comment">// å°†æ–‡ä»¶åç§»é‡æ¢å¤åˆ°ä¹‹å‰ä¿å­˜çš„ orig å€¼ã€‚è¿™æ ·ï¼Œæ–‡ä»¶çš„è¯»å–æˆ–å†™å…¥ä½ç½®ä¸ä¼šå› ä¸ºè¿™æ®µæ“ä½œè€Œæ”¹å˜ã€‚</span></span><br><span class="line"><span class="number">1</span>seek(fd,orig,SEEK_SET);</span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">char</span> buf[<span class="number">20</span>];</span><br><span class="line">    <span class="type">ssize_t</span> bytesRead;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_RDONLY);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»åç§»é‡ 10 å¼€å§‹è¯»å– 15 ä¸ªå­—èŠ‚</span></span><br><span class="line">    bytesRead = pread(fd, buf, <span class="number">15</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span> (bytesRead &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;pread failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦</span></span><br><span class="line">    buf[bytesRead] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°è¯»å–çš„æ•°æ®</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Data read: %s\n&quot;</span>, buf);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>example.txt</code>çš„æ–‡ä»¶å†…å®¹</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¸Šè¿°ç¨‹åºä¼šè¾“å‡ºï¼š</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Data <span class="built_in">read</span>: ABCDEFGHIJKLM</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="pwrite-å‡½æ•°">pwrite()å‡½æ•°</h3><p>ç³»ç»Ÿè°ƒç”¨ <code>pwrite()</code>å®Œæˆä¸ <code>write()</code>ç›¸ç±»ä¼¼çš„å·¥ä½œï¼Œåªæ˜¯å‰è€…ä¼šåœ¨ <code>offset</code> å‚æ•°æ‰€æŒ‡å®šçš„ä½ç½®è¿›è¡Œæ–‡ä»¶ <code>I/O</code> æ“ä½œï¼Œè€Œéå§‹äºæ–‡ä»¶çš„å½“å‰åç§»é‡å¤„ï¼Œä¸”å®ƒä»¬ä¸ä¼šæ”¹å˜æ–‡ä»¶çš„å½“å‰åç§»é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">pwrite</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="type">void</span> *buf, <span class="type">size_t</span> count, <span class="type">off_t</span> offset)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å†™å…¥çš„å­—èŠ‚æ•°ï¼ŒEOFï¼ˆæ–‡ä»¶ç»“æŸï¼‰æ—¶è¿”å› 0ï¼Œå‘ç”Ÿé”™è¯¯æ—¶è¿”å› -1ã€‚</span></span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *data = <span class="string">&quot;Hello, pwrite!&quot;</span>;</span><br><span class="line">    <span class="type">ssize_t</span> bytesWritten;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»åç§»é‡ 5 å¼€å§‹å†™å…¥æ•°æ®</span></span><br><span class="line">    bytesWritten = pwrite(fd, data, <span class="built_in">strlen</span>(data), <span class="number">5</span>);</span><br><span class="line">    <span class="keyword">if</span> (bytesWritten &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;pwrite failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Bytes written: %zd\n&quot;</span>, bytesWritten);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>example.txt</code>çš„æ–‡ä»¶å†…å®¹</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1234567890</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code> å†…å®¹å˜ä¸ºï¼š</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">12345</span>Hello, pwrite!</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="readv-å‡½æ•°">readv()å‡½æ•°</h3><p><code>readv()</code> æ˜¯ä¸€ç§ POSIX ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºä»æ–‡ä»¶æè¿°ç¬¦ä¸­è¯»å–æ•°æ®åˆ°å¤šä¸ªç¼“å†²åŒºã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å°†æ•°æ®æŒ‰é¡ºåºå¡«å……åˆ°æŒ‡å®šçš„å¤šä¸ªç¼“å†²åŒºä¸­ï¼Œè€Œä¸æ˜¯å°†æ•°æ®é›†ä¸­åˆ°ä¸€ä¸ªç¼“å†²åŒºä¸­ã€‚è¿™æ ·å¯ä»¥å‡å°‘å†…å­˜æ‹·è´ï¼Œæé«˜æ€§èƒ½ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">readv</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="keyword">struct</span> iovec *iov, <span class="type">int</span> iovcnt)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸè¿”å›è¯»å–çš„æ€»å­—èŠ‚æ•°ï¼Œå³æ‰€æœ‰ç¼“å†²åŒºä¸­å®é™…å¡«å……çš„å­—èŠ‚æ•°çš„æ€»å’Œã€‚è¿”å› -1ï¼Œå¹¶è®¾ç½®å…¨å±€å˜é‡ errno è¡¨ç¤ºé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><p>è¿™äº›ç³»ç»Ÿè°ƒç”¨å¹¶éåªå¯¹å•ä¸ªç¼“å†²åŒºè¿›è¡Œè¯»å†™æ“ä½œï¼Œè€Œæ˜¯ä¸€æ¬¡å³å¯ä¼ è¾“å¤šä¸ªç¼“å†²åŒºçš„æ•°æ®ã€‚æ•°ç»„ <code>iov</code> å®šä¹‰äº†ä¸€ç»„ç”¨æ¥ä¼ è¾“æ•°æ®çš„ç¼“å†²åŒºã€‚æ•´å‹æ•° <code>iovcnt</code> åˆ™æŒ‡å®šäº† <code>iov</code> çš„æˆå‘˜ä¸ªæ•°ã€‚<code>iov</code> ä¸­çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯å¦‚ä¸‹å½¢å¼çš„æ•°æ®ç»“æ„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> &#123;</span></span><br><span class="line">    <span class="type">void</span>  *iov_base;  <span class="comment">// æŒ‡å‘ç¼“å†²åŒºçš„èµ·å§‹åœ°å€</span></span><br><span class="line">    <span class="type">size_t</span> iov_len;   <span class="comment">// ç¼“å†²åŒºçš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">ssize_t</span> bytesRead;</span><br><span class="line">    <span class="type">char</span> buf1[<span class="number">10</span>];</span><br><span class="line">    <span class="type">char</span> buf2[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_RDONLY);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸¤ä¸ª iovec ç¼“å†²åŒº</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>[2];</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_base = buf1;          <span class="comment">// ç¬¬ä¸€ä¸ªç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_len = <span class="keyword">sizeof</span>(buf1);  <span class="comment">// ç¬¬ä¸€ä¸ªç¼“å†²åŒºå¤§å°</span></span><br><span class="line"></span><br><span class="line">    iov[<span class="number">1</span>].iov_base = buf2;          <span class="comment">// ç¬¬äºŒä¸ªç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">1</span>].iov_len = <span class="keyword">sizeof</span>(buf2);  <span class="comment">// ç¬¬äºŒä¸ªç¼“å†²åŒºå¤§å°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®åˆ° iov ä¸­çš„ç¼“å†²åŒº</span></span><br><span class="line">    bytesRead = readv(fd, iov, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (bytesRead &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;readv failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°è¯»å–åˆ°çš„å†…å®¹</span></span><br><span class="line">    buf1[iov[<span class="number">0</span>].iov_len - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;  <span class="comment">// ç¡®ä¿ç¼“å†²åŒºæœ«å°¾æœ‰ &#x27;\0&#x27;</span></span><br><span class="line">    buf2[bytesRead - <span class="keyword">sizeof</span>(buf1) - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Buffer 1: %s\n&quot;</span>, buf1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Buffer 2: %s\n&quot;</span>, buf2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>example.txt</code>çš„æ–‡ä»¶å†…å®¹</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">HelloWorldThisIsReadvExample</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œè¾“å‡ºä¸ºï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Buffer</span> <span class="number">1</span>: HelloWorl</span><br><span class="line"><span class="attribute">Buffer</span> <span class="number">2</span>: dThisIsReadvEx</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="writev-å‡½æ•°">writev()å‡½æ•°</h3><p><code>writev()</code> æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå…è®¸ç¨‹åºå°†å¤šä¸ªéè¿ç»­ç¼“å†²åŒºçš„æ•°æ®å†™å…¥åˆ°æ–‡ä»¶æè¿°ç¬¦ä¸­ã€‚å®ƒå¯ä»¥ä¸€æ¬¡æ€§åœ°å°†åˆ†æ•£çš„å¤šä¸ªç¼“å†²åŒºå†…å®¹è¾“å‡ºåˆ°ç›®æ ‡æ–‡ä»¶ï¼ˆæˆ–å¥—æ¥å­—ï¼‰ä¸­ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨åˆå¹¶æ•°æ®ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">writev</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="keyword">struct</span> iovec *iov, <span class="type">int</span> iovcnt)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å›å®é™…å†™å…¥çš„å­—èŠ‚æ•°ã€‚å¤±è´¥ï¼šè¿”å› -1 å¹¶è®¾ç½® errno ä»¥æŒ‡ç¤ºé”™è¯¯ã€‚</span></span><br></pre></td></tr></table></figure><p><code>writev()</code>ç³»ç»Ÿè°ƒç”¨å®ç°äº†é›†ä¸­è¾“å‡ºï¼šå°† <code>iov</code> æ‰€æŒ‡å®šçš„æ‰€æœ‰ç¼“å†²åŒºä¸­çš„æ•°æ®æ‹¼æ¥ï¼ˆâ€œé›†ä¸­â€ï¼‰èµ·æ¥ï¼Œç„¶åä»¥è¿ç»­çš„å­—èŠ‚åºåˆ—å†™å…¥æ–‡ä»¶æè¿°ç¬¦ <code>fd</code> æŒ‡ä»£çš„æ–‡ä»¶ä¸­ã€‚å¯¹ç¼“å†²åŒºä¸­æ•°æ®çš„â€œé›†ä¸­â€å§‹äº<code>iov[0]</code>æ‰€æŒ‡å®šçš„ç¼“å†²åŒºï¼Œå¹¶æŒ‰æ•°ç»„é¡ºåºå±•å¼€ã€‚åƒ <code>readv()</code>è°ƒç”¨ä¸€æ ·ï¼Œ<code>writev()</code>è°ƒç”¨ä¹Ÿå±äºåŸå­æ“ä½œï¼Œå³æ‰€æœ‰æ•°æ®å°†ä¸€æ¬¡æ€§åœ°ä»ç”¨æˆ·å†…å­˜ä¼ è¾“åˆ° <code>fd</code> æŒ‡ä»£çš„æ–‡ä»¶ä¸­ã€‚å› æ­¤ï¼Œåœ¨å‘æ™®é€šæ–‡ä»¶å†™å…¥æ•°æ®æ—¶ï¼Œ<code>writev()</code>è°ƒç”¨ä¼šæŠŠæ‰€æœ‰çš„è¯·æ±‚æ•°æ®è¿ç»­å†™å…¥æ–‡ä»¶ï¼Œè€Œä¸ä¼šåœ¨å…¶ä»–è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰å†™æ“ä½œçš„å½±å“ä¸‹1 åˆ†æ•£åœ°å†™å…¥æ–‡ä»¶2 ã€‚å¦‚åŒ <code>write()</code>è°ƒç”¨ï¼Œ<code>writev()</code>è°ƒç”¨ä¹Ÿå¯èƒ½å­˜åœ¨éƒ¨åˆ†å†™çš„é—®é¢˜ã€‚å› æ­¤ï¼Œå¿…é¡»æ£€æŸ¥ <code>writev()</code>è°ƒç”¨çš„è¿”å›å€¼ï¼Œä»¥ç¡®å®šå†™å…¥çš„å­—èŠ‚æ•°æ˜¯å¦ä¸è¦æ±‚ç›¸ç¬¦ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">ssize_t</span> bytesWritten;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶ä»¥å†™å…¥</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸¤ä¸ªç¼“å†²åŒº</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *buf1 = <span class="string">&quot;Hello, &quot;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *buf2 = <span class="string">&quot;World!\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® iovec æ•°ç»„</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>[2];</span></span><br><span class="line">    <span class="comment">// void * æ˜¯ C å’Œ C++ è¯­è¨€ä¸­ä¸€ç§é€šç”¨çš„æŒ‡é’ˆç±»å‹ï¼Œè¡¨ç¤º &quot;æŒ‡å‘æœªçŸ¥ç±»å‹çš„æŒ‡é’ˆ&quot;ã€‚</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_base = (<span class="type">void</span> *)buf1;  <span class="comment">// ç¬¬ä¸€ä¸ªç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_len = <span class="built_in">strlen</span>(buf1);  <span class="comment">// ç¬¬ä¸€ä¸ªç¼“å†²åŒºçš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">    iov[<span class="number">1</span>].iov_base = (<span class="type">void</span> *)buf2;  <span class="comment">// ç¬¬äºŒä¸ªç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">1</span>].iov_len = <span class="built_in">strlen</span>(buf2);  <span class="comment">// ç¬¬äºŒä¸ªç¼“å†²åŒºçš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ writev å†™å…¥æ–‡ä»¶</span></span><br><span class="line">    bytesWritten = writev(fd, iov, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span> (bytesWritten &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;writev failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Successfully written %zd bytes.\n&quot;</span>, bytesWritten);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸ºï¼š</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Hello,</span> World!</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="preadv-å‡½æ•°">preadv()å‡½æ•°</h3><p><code>preadv()</code> æ˜¯ Linux å’Œ Unix ç³»ç»Ÿä¸­çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äº <strong>ä»æ–‡ä»¶æè¿°ç¬¦çš„æŒ‡å®šåç§»é‡è¯»å–æ•°æ®ï¼Œå¹¶å­˜å‚¨åˆ°å¤šä¸ªç¼“å†²åŒºä¸­</strong>ã€‚ä¸ <code>readv()</code> ä¸åŒï¼Œ<code>preadv()</code> çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹æ€§æ˜¯å®ƒæ˜¯ä¸€ä¸ª <strong>â€œåŸå­â€ æ“ä½œ</strong>ï¼Œå®ƒç»“åˆäº† <code>readv()</code> å’Œ <code>lseek()</code> çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ä¼šæ›´æ”¹æ–‡ä»¶æè¿°ç¬¦çš„æ–‡ä»¶åç§»é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">preadv</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="keyword">struct</span> iovec *iov, <span class="type">int</span> iovcnt, <span class="type">off_t</span> offset)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ã€‚å¤±è´¥ï¼šè¿”å› -1ï¼Œå¹¶è®¾ç½® errno æŒ‡å®šé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">ssize_t</span> bytesRead;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>[2];</span></span><br><span class="line">    <span class="type">char</span> buf1[<span class="number">10</span>], buf2[<span class="number">20</span>];</span><br><span class="line">    <span class="type">off_t</span> offset = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_RDONLY);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® iovec ç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_base = buf1;</span><br><span class="line">    iov[<span class="number">0</span>].iov_len = <span class="keyword">sizeof</span>(buf1);</span><br><span class="line">    iov[<span class="number">1</span>].iov_base = buf2;</span><br><span class="line">    iov[<span class="number">1</span>].iov_len = <span class="keyword">sizeof</span>(buf2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ preadv ä»åç§»é‡è¯»å–æ•°æ®</span></span><br><span class="line">    bytesRead = preadv(fd, iov, <span class="number">2</span>, offset);</span><br><span class="line">    <span class="keyword">if</span> (bytesRead == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;preadv failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Bytes read: %zd\n&quot;</span>, bytesRead);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Buffer 1: %.*s\n&quot;</span>, (<span class="type">int</span>)iov[<span class="number">0</span>].iov_len, buf1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Buffer 2: %.*s\n&quot;</span>, (<span class="type">int</span>)(bytesRead - iov[<span class="number">0</span>].iov_len), buf2);</span><br><span class="line"></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶ <code>example.txt</code> çš„å†…å®¹æ˜¯ï¼š</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">HelloWorldThisIspreadvExample</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œè¾“å‡ºç»“æœä¸º</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Buffer</span> <span class="number">1</span>: WorldThis</span><br><span class="line"><span class="attribute">Buffer</span> <span class="number">2</span>: IspreadvExampl</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="pwritev-å‡½æ•°">pwritev()å‡½æ•°</h3><p><code>pwritev()</code> æ˜¯ Linux å’Œ Unix ç³»ç»Ÿä¸­çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äº <strong>ä»å¤šä¸ªç¼“å†²åŒºå°†æ•°æ®å†™å…¥æ–‡ä»¶çš„æŒ‡å®šåç§»é‡</strong>ã€‚ä¸ <code>writev()</code> çš„åŒºåˆ«åœ¨äºï¼Œ<code>pwritev()</code> æä¾›äº†ä¸€ä¸ªæ˜¾å¼çš„åç§»é‡å‚æ•°ï¼Œå†™æ“ä½œä»æ–‡ä»¶ä¸­çš„æŒ‡å®šä½ç½®å¼€å§‹ï¼Œè€Œä¸ä¼šæ›´æ”¹æ–‡ä»¶æè¿°ç¬¦çš„å½“å‰åç§»é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">ssize_t</span> <span class="title function_">pwritev</span><span class="params">(<span class="type">int</span> fd, <span class="type">const</span> <span class="keyword">struct</span> iovec *iov, <span class="type">int</span> iovcnt, <span class="type">off_t</span> offset)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å›å®é™…å†™å…¥çš„å­—èŠ‚æ•°ã€‚å¤±è´¥ï¼šè¿”å› -1ï¼Œå¹¶è®¾ç½® errno æŒ‡å®šé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/uio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> fd;</span><br><span class="line">    <span class="type">ssize_t</span> bytesWritten;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">iovec</span> <span class="title">iov</span>[2];</span></span><br><span class="line">    <span class="type">char</span> buf1[] = <span class="string">&quot;Hello &quot;</span>;</span><br><span class="line">    <span class="type">char</span> buf2[] = <span class="string">&quot;World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    fd = open(<span class="string">&quot;example.txt&quot;</span>, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½® iovec ç¼“å†²åŒº</span></span><br><span class="line">    iov[<span class="number">0</span>].iov_base = buf1;</span><br><span class="line">    iov[<span class="number">0</span>].iov_len = <span class="built_in">strlen</span>(buf1);</span><br><span class="line">    iov[<span class="number">1</span>].iov_base = buf2;</span><br><span class="line">    iov[<span class="number">1</span>].iov_len = <span class="built_in">strlen</span>(buf2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ pwritev ä»åç§»é‡ 0 å¼€å§‹å†™å…¥æ•°æ®</span></span><br><span class="line">    bytesWritten = pwritev(fd, iov, <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (bytesWritten == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;pwritev failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Bytes written: %zd\n&quot;</span>, bytesWritten);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Bytes</span> written: <span class="number">12</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="truncate-å‡½æ•°">truncate() å‡½æ•°</h3><p><code>truncate()</code> æ˜¯ä¸€ä¸ªæ–‡ä»¶æ“ä½œç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºå°†æŒ‡å®šæ–‡ä»¶çš„å¤§å°è°ƒæ•´ä¸ºæŒ‡å®šå€¼ã€‚å¦‚æœæ–‡ä»¶å˜å°ï¼Œè¶…å‡ºéƒ¨åˆ†å°†è¢«æˆªæ–­ï¼›å¦‚æœæ–‡ä»¶å˜å¤§ï¼Œæ‰©å±•éƒ¨åˆ†é€šå¸¸å¡«å……ä¸ºé›¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">truncate</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *path, <span class="type">off_t</span> length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆåŠŸï¼šè¿”å› 0ã€‚å¤±è´¥ï¼šè¿”å› -1ï¼Œå¹¶è®¾ç½® errno æŒ‡å®šé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>path</code></strong>:è¡¨ç¤ºæ–‡ä»¶è·¯å¾„ï¼ŒæŒ‡å‘éœ€è¦è°ƒæ•´å¤§å°çš„æ–‡ä»¶ã€‚</p><p><strong><code>length</code></strong>:æ–°çš„æ–‡ä»¶å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚è‹¥æ–‡ä»¶å½“å‰å¤§å°å¤§äº <code>length</code>ï¼Œå¤šä½™éƒ¨åˆ†ä¼šè¢«åˆ é™¤ã€‚è‹¥æ–‡ä»¶å½“å‰å¤§å°å°äº <code>length</code>ï¼Œæ–‡ä»¶ä¼šè¢«æ‰©å±•ï¼Œæ–°å¢éƒ¨åˆ†é€šå¸¸å¡«å……ä¸ºé›¶ï¼ˆæ–‡ä»¶ç³»ç»Ÿä¾èµ–ï¼‰ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æˆªæ–­æ–‡ä»¶) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *filePath = <span class="string">&quot;example.txt&quot;</span>;</span><br><span class="line">    <span class="type">off_t</span> newSize = <span class="number">5</span>;  <span class="comment">// æˆªæ–­åˆ° 5 å­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æˆ–åˆ›å»ºæ–‡ä»¶å¹¶å†™å…¥å†…å®¹</span></span><br><span class="line">    <span class="type">int</span> fd = open(filePath, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    write(fd, <span class="string">&quot;Hello, World!&quot;</span>, <span class="number">13</span>);</span><br><span class="line">    close(fd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆªæ–­æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (truncate(filePath, newSize) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;truncate failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File &#x27;%s&#x27; has been truncated to %ld bytes.\n&quot;</span>, filePath, (<span class="type">long</span>)newSize);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hello</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æ‰©å±•æ–‡ä»¶å¤§å°) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *filePath = <span class="string">&quot;example.txt&quot;</span>;</span><br><span class="line">    <span class="type">off_t</span> newSize = <span class="number">20</span>;  <span class="comment">// æ‰©å±•åˆ° 20 å­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå¹¶å†™å…¥åˆå§‹å†…å®¹</span></span><br><span class="line">    <span class="type">int</span> fd = open(filePath, O_WRONLY | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    write(fd, <span class="string">&quot;Hello&quot;</span>, <span class="number">5</span>);</span><br><span class="line">    close(fd);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰©å±•æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="keyword">if</span> (truncate(filePath, newSize) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;truncate failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File &#x27;%s&#x27; has been extended to %ld bytes.\n&quot;</span>, filePath, (<span class="type">long</span>)newSize);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hello</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="ftruncate-å‡½æ•°">ftruncate()å‡½æ•°</h3><p><code>ftruncate()</code> æ˜¯ä¸€ä¸ªæ–‡ä»¶æ“ä½œç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºé€šè¿‡æ–‡ä»¶æè¿°ç¬¦è°ƒæ•´æ‰“å¼€æ–‡ä»¶çš„å¤§å°ã€‚å¦‚æœæ–‡ä»¶å˜å°ï¼Œè¶…å‡ºéƒ¨åˆ†ä¼šè¢«æˆªæ–­ï¼›å¦‚æœæ–‡ä»¶å˜å¤§ï¼Œæ‰©å±•éƒ¨åˆ†é€šå¸¸å¡«å……ä¸ºé›¶ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">ftruncate</span><span class="params">(<span class="type">int</span> fd, <span class="type">off_t</span> length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å› 0ã€‚å¤±è´¥ï¼šè¿”å› -1ï¼Œå¹¶è®¾ç½® errno ä»¥æŒ‡ç¤ºé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>fd</code></strong>:æ‰“å¼€æ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ã€‚æ–‡ä»¶æè¿°ç¬¦å¿…é¡»æ˜¯å¯å†™çš„ã€‚</p><p><strong><code>length</code></strong>:è°ƒæ•´åçš„æ–‡ä»¶å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚è‹¥æ–‡ä»¶å½“å‰å¤§å°å¤§äº <code>length</code>ï¼Œå¤šä½™éƒ¨åˆ†ä¼šè¢«åˆ é™¤ã€‚è‹¥æ–‡ä»¶å½“å‰å¤§å°å°äº <code>length</code>ï¼Œæ–‡ä»¶ä¼šè¢«æ‰©å±•ï¼Œæ–°å¢éƒ¨åˆ†é€šå¸¸å¡«å……ä¸ºé›¶ï¼ˆæ–‡ä»¶ç³»ç»Ÿä¾èµ–ï¼‰ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æˆªæ–­æ–‡ä»¶) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *filePath = <span class="string">&quot;example.txt&quot;</span>;</span><br><span class="line">    <span class="type">off_t</span> newSize = <span class="number">5</span>;  <span class="comment">// å°†æ–‡ä»¶å¤§å°è°ƒæ•´ä¸º 5 å­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    <span class="type">int</span> fd = open(filePath, O_RDWR | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥åˆå§‹å†…å®¹</span></span><br><span class="line">    write(fd, <span class="string">&quot;Hello, World!&quot;</span>, <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒæ•´æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="keyword">if</span> (ftruncate(fd, newSize) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;ftruncate failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File &#x27;%s&#x27; truncated to %ld bytes.\n&quot;</span>, filePath, (<span class="type">long</span>)newSize);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hello</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æ‰©å±•æ–‡ä»¶å¤§å°) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *filePath = <span class="string">&quot;example.txt&quot;</span>;</span><br><span class="line">    <span class="type">off_t</span> newSize = <span class="number">20</span>;  <span class="comment">// å°†æ–‡ä»¶å¤§å°æ‰©å±•ä¸º 20 å­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">    <span class="type">int</span> fd = open(filePath, O_RDWR | O_CREAT | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;Failed to open file&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥åˆå§‹å†…å®¹</span></span><br><span class="line">    write(fd, <span class="string">&quot;Hello&quot;</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒæ•´æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="keyword">if</span> (ftruncate(fd, newSize) == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;ftruncate failed&quot;</span>);</span><br><span class="line">        close(fd);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;File &#x27;%s&#x27; extended to %ld bytes.\n&quot;</span>, filePath, (<span class="type">long</span>)newSize);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºåï¼Œ<code>example.txt</code>æ–‡ä»¶å†…å®¹ä¸º</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hello</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span>\<span class="number">0</span></span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="mkstemp-å‡½æ•°">mkstemp()å‡½æ•°</h3><p><code>mkstemp()</code> æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºä¸´æ—¶æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªå”¯ä¸€å‘½åçš„ä¸´æ—¶æ–‡ä»¶ï¼Œé˜²æ­¢æ–‡ä»¶åå†²çªï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œç”¨äºåç»­æ–‡ä»¶æ“ä½œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">mkstemp</span><span class="params">(<span class="type">char</span> *template)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆä»¥è¯»å†™æ¨¡å¼æ‰“å¼€ï¼‰ã€‚å¤±è´¥ï¼šè¿”å› -1ï¼Œå¹¶è®¾ç½® errno ä»¥æŒ‡ç¤ºé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>template</code></strong>:æ˜¯ä¸€ä¸ªæŒ‡å‘ä»¥ NULL ç»“å°¾çš„å­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚æ­¤å­—ç¬¦ä¸²å¿…é¡»ä»¥ <strong>å…­ä¸ªè¿ç»­çš„ X</strong> ç»“å°¾ï¼ˆå¦‚ <code>&quot;tempXXXXXX&quot;</code>ï¼‰ã€‚<code>mkstemp()</code> ä¼šç”¨å”¯ä¸€çš„æ–‡ä»¶åæ›¿æ¢è¿™äº› Xï¼Œç”Ÿæˆæ–‡ä»¶ã€‚æ³¨æ„ï¼šè¯¥å­—ç¬¦ä¸²ä¼šè¢«ä¿®æ”¹ï¼Œæœ€ç»ˆåŒ…å«ç”Ÿæˆçš„æ–‡ä»¶åã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(åˆ›å»ºä¸´æ—¶æ–‡ä»¶) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span> template[] = <span class="string">&quot;/tmp/mytempXXXXXX&quot;</span>;  <span class="comment">// æ¨¡æ¿å¿…é¡»ä»¥ 6 ä¸ª X ç»“å°¾</span></span><br><span class="line">    <span class="type">int</span> fd = mkstemp(template);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;mkstemp failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Temporary file created: %s\n&quot;</span>, template);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥æ•°æ®</span></span><br><span class="line">    write(fd, <span class="string">&quot;Hello, World!\n&quot;</span>, <span class="number">14</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­å¹¶åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">    close(fd);</span><br><span class="line">    <span class="comment">// è°ƒç”¨ unlink() åˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚</span></span><br><span class="line">    unlink(template);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(åœ¨æŒ‡å®šç›®å½•ä¸­åˆ›å»ºä¸´æ—¶æ–‡ä»¶) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">char</span> template[] = <span class="string">&quot;./tempXXXXXX&quot;</span>;  <span class="comment">// åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">    <span class="type">int</span> fd = mkstemp(template);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;mkstemp failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Temporary file created: %s\n&quot;</span>, template);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸åˆ é™¤æ–‡ä»¶ï¼Œä»…å…³é—­æè¿°ç¬¦</span></span><br><span class="line">    close(fd);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p><strong>å®‰å…¨æ€§</strong></p><ul><li>é¿å…ä½¿ç”¨ä¸å®‰å…¨çš„å‡½æ•°ï¼ˆå¦‚ <code>tmpnam()</code>ï¼‰ï¼Œ<code>mkstemp()</code> èƒ½æ›´å¥½åœ°é˜²æ­¢æ–‡ä»¶åå†²çªå’Œç«æ€æ¡ä»¶ã€‚</li></ul><p><strong>ç›®å½•æƒé™</strong></p><ul><li>å¦‚æœæŒ‡å®šè·¯å¾„ä¸­çš„ç›®å½•ä¸å¯å†™ï¼Œ<code>mkstemp()</code> ä¼šå¤±è´¥ã€‚</li></ul><p><strong>æ–‡ä»¶åé™åˆ¶</strong></p><ul><li>æ¨¡æ¿ä¸­çš„ X å¿…é¡»ä¸å°‘äº 6 ä¸ªï¼Œå¦åˆ™ <code>mkstemp()</code> ä¼šæŠ¥é”™ã€‚</li></ul><p><strong>æ–‡ä»¶æ¸…ç†</strong></p><ul><li>åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œå¼€å‘è€…éœ€è¦åœ¨ä¸ä½¿ç”¨æ—¶è°ƒç”¨ <code>unlink()</code> æ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ã€‚</li></ul><h3 id="tmpfile-å‡½æ•°">tmpfile()å‡½æ•°</h3><p><code>tmpfile()</code> æ˜¯ä¸€ä¸ªæ ‡å‡† C åº“å‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªåŒ¿åçš„ä¸´æ—¶æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åœ¨å…³é—­æ—¶æˆ–ç¨‹åºé€€å‡ºæ—¶ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">FILE *<span class="title function_">tmpfile</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼šè¿”å›æŒ‡å‘ä¸´æ—¶æ–‡ä»¶çš„æ–‡ä»¶æŒ‡é’ˆ (FILE *)ã€‚å¤±è´¥ï¼šè¿”å› NULLï¼Œå¹¶è®¾ç½® errno è¡¨ç¤ºé”™è¯¯åŸå› ã€‚</span></span><br></pre></td></tr></table></figure><p>tmpfile()å‡½æ•°æ‰§è¡ŒæˆåŠŸï¼Œå°†è¿”å›ä¸€ä¸ªæ–‡ä»¶æµä¾› stdio åº“å‡½æ•°ä½¿ç”¨ã€‚æ–‡ä»¶æµå…³é—­åå°†è‡ªåŠ¨åˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚ä¸ºè¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œtmpfile()å‡½æ•°ä¼šåœ¨æ‰“å¼€æ–‡ä»¶åï¼Œä»å†…éƒ¨ç«‹å³è°ƒç”¨ unlink()æ¥åˆ é™¤è¯¥æ–‡ä»¶å ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(åˆ›å»ºå¹¶å†™å…¥ä¸´æ—¶æ–‡ä»¶) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    FILE *fp = tmpfile();</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;tmpfile failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥æ•°æ®åˆ°ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">    <span class="built_in">fprintf</span>(fp, <span class="string">&quot;This is a temporary file.\n&quot;</span>);</span><br><span class="line">    <span class="built_in">fprintf</span>(fp, <span class="string">&quot;It will be automatically deleted.\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ–‡ä»¶æŒ‡é’ˆé‡ç½®åˆ°æ–‡ä»¶å¼€å¤´</span></span><br><span class="line">    rewind(fp);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯»å–å¹¶æ‰“å°æ•°æ®</span></span><br><span class="line">    <span class="type">char</span> buffer[<span class="number">128</span>];</span><br><span class="line">    <span class="keyword">while</span> (fgets(buffer, <span class="keyword">sizeof</span>(buffer), fp) != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, buffer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­ä¸´æ—¶æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ é™¤ï¼‰</span></span><br><span class="line">    fclose(fp);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(ä¸´æ—¶æ–‡ä»¶ç”¨äºäº¤æ¢æ•°æ®) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    FILE *tempFile = tmpfile();</span><br><span class="line">    <span class="keyword">if</span> (tempFile == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;tmpfile failed&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> data[] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line">    <span class="type">size_t</span> count = <span class="keyword">sizeof</span>(data) / <span class="keyword">sizeof</span>(data[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†™å…¥æ•°æ®åˆ°ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">    fwrite(data, <span class="keyword">sizeof</span>(<span class="type">int</span>), count, tempFile);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ–‡ä»¶æŒ‡é’ˆé‡ç½®åˆ°æ–‡ä»¶å¼€å¤´</span></span><br><span class="line">    rewind(tempFile);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯»å–æ•°æ®å¹¶æ‰“å°</span></span><br><span class="line">    <span class="type">int</span> value;</span><br><span class="line">    <span class="keyword">while</span> (fread(&amp;value, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, tempFile) == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">    fclose(tempFile);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h2 id="è¿›ç¨‹">è¿›ç¨‹</h2><h3 id="getpid-å‡½æ•°">getpid()å‡½æ•°</h3><p><code>getpid()</code> æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºè·å–å½“å‰è¿›ç¨‹çš„è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆPIDï¼‰ã€‚</p><p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹å·ï¼ˆPIDï¼‰ï¼Œè¿›ç¨‹å·æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œç”¨ä»¥å”¯ä¸€æ ‡è¯†ç³»ç»Ÿä¸­çš„æŸä¸ªè¿›ç¨‹ã€‚å¯¹å„ç§ç³»ç»Ÿè°ƒç”¨è€Œè¨€ï¼Œè¿›ç¨‹å·æœ‰æ—¶å¯ä»¥ä½œä¸ºä¼ å…¥å‚æ•°ï¼Œæœ‰æ—¶å¯ä»¥ä½œä¸ºè¿”å›å€¼ã€‚æ¯”å¦‚ï¼Œç³»ç»Ÿè°ƒç”¨<code>kill()</code>å…è®¸è°ƒç”¨è€…å‘æ‹¥æœ‰ç‰¹å®šè¿›ç¨‹å·çš„è¿›ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ã€‚å½“éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹æŸè¿›ç¨‹è€Œè¨€å”¯ä¸€çš„æ ‡è¯†ç¬¦æ—¶ï¼Œè¿›ç¨‹å·å°±ä¼šæ´¾ä¸Šç”¨åœºã€‚å¸¸è§çš„ä¾‹å­æ˜¯å°†è¿›ç¨‹å·ä½œä¸ºä¸è¿›ç¨‹ç›¸å…³æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">getpid</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å½“å‰è¿›ç¨‹çš„ ID (pid_t ç±»å‹)ã€‚é€šå¸¸ï¼Œè¿›ç¨‹ ID æ˜¯ä¸€ä¸ªå¤§äºé›¶çš„æ•´æ•°ã€‚</span></span><br></pre></td></tr></table></figure><p>getpid()è¿”å›å€¼çš„æ•°æ®ç±»å‹ä¸º pid_tï¼Œè¯¥ç±»å‹æ˜¯ç”± SUSv3 æ‰€è§„å®šçš„æ•´æ•°ç±»å‹ï¼Œä¸“ç”¨äºå­˜å‚¨è¿›ç¨‹å·ã€‚é™¤äº†å°‘æ•°ç³»ç»Ÿè¿›ç¨‹å¤–ï¼Œæ¯”å¦‚ init è¿›ç¨‹ï¼ˆè¿›ç¨‹å·ä¸º 1ï¼‰ï¼Œç¨‹åºä¸è¿è¡Œè¯¥ç¨‹åºè¿›ç¨‹çš„è¿›ç¨‹å·ä¹‹é—´æ²¡æœ‰å›ºå®šå…³ç³»ã€‚Linux å†…æ ¸é™åˆ¶è¿›ç¨‹å·éœ€å°äºç­‰äº 32767ã€‚æ–°è¿›ç¨‹åˆ›å»ºæ—¶ï¼Œå†…æ ¸ä¼šæŒ‰é¡ºåºå°†ä¸‹ä¸€ä¸ªå¯ç”¨çš„è¿›ç¨‹å·åˆ†é…ç»™å…¶ä½¿ç”¨ã€‚æ¯å½“è¿›ç¨‹å·è¾¾åˆ° 32767 çš„é™åˆ¶æ—¶ï¼Œå†…æ ¸å°†é‡ç½®è¿›ç¨‹å·è®¡æ•°å™¨ï¼Œä»¥ä¾¿ä»å°æ•´æ•°å¼€å§‹åˆ†é…ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">pid_t</span> pid = getpid();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Current Process ID: %d\n&quot;</span>, pid);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="getppid-å‡½æ•°">getppid()å‡½æ•°</h3><p><code>getppid()</code> æ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºè·å–å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆParent Process ID, PPIDï¼‰ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">pid_t</span> <span class="title function_">getppid</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹çš„ ID (pid_t ç±»å‹)ã€‚é€šå¸¸æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚ç‰¹æ®Šæƒ…å†µï¼šå½“çˆ¶è¿›ç¨‹è¢«æ€æ­»åï¼Œå½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ä¼šå˜ä¸ºç³»ç»Ÿçš„ init è¿›ç¨‹æˆ–å…¶ç°ä»£æ›¿ä»£è¿›ç¨‹ï¼ˆå¦‚ systemdï¼‰ï¼Œè¿™æ—¶è¿”å›çš„ PPID ä¸º 1ã€‚</span></span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œæ¯ä¸ªè¿›ç¨‹çš„çˆ¶è¿›ç¨‹å·å±æ€§åæ˜ äº†ç³»ç»Ÿä¸Šæ‰€æœ‰è¿›ç¨‹é—´çš„æ ‘çŠ¶å…³ç³»ã€‚æ¯ä¸ªè¿›ç¨‹çš„çˆ¶è¿›ç¨‹åˆæœ‰è‡ªå·±çš„çˆ¶è¿›ç¨‹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå›æº¯åˆ° 1 å·è¿›ç¨‹â€”init è¿›ç¨‹ï¼Œå³æ‰€æœ‰è¿›ç¨‹çš„å§‹ç¥–ã€‚ä½¿ç”¨pstree(1)å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°è¿™ä¸€â€œå®¶æ—æ ‘â€ï¼ˆfamily treeï¼‰ã€‚å¦‚æœå­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ç»ˆæ­¢ï¼Œåˆ™å­è¿›ç¨‹å°±ä¼šå˜æˆâ€œå­¤å„¿â€ï¼Œinit è¿›ç¨‹éšå³å°†æ”¶å…»è¯¥è¿›ç¨‹ï¼Œå­è¿›ç¨‹åç»­å¯¹ getppid()çš„è°ƒç”¨å°†è¿”å›è¿›ç¨‹å· 1ã€‚é€šè¿‡æŸ¥çœ‹ç”± Linux ç³»ç»Ÿæ‰€ç‰¹æœ‰çš„/proc/PID/status æ–‡ä»¶æ‰€æä¾›çš„ PPid å­—æ®µï¼Œå¯ä»¥è·çŸ¥æ¯ä¸ªè¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">pid_t</span> ppid = getppid();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Parent Process ID: %d\n&quot;</span>, ppid);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h3 id="getenv-å‡½æ•°">getenv()å‡½æ•°</h3><p><code>getenv()</code>å‡½æ•°èƒ½å¤Ÿä»è¿›ç¨‹ç¯å¢ƒä¸­æ£€ç´¢å•ä¸ªå€¼ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> *<span class="title function_">getenv</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *name)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸï¼š è¿”å›ä¸€ä¸ªæŒ‡å‘ç¯å¢ƒå˜é‡å€¼çš„æŒ‡é’ˆã€‚å¦‚æœç¯å¢ƒå˜é‡å­˜åœ¨ï¼Œåˆ™è¿”å›å…¶å€¼çš„å­—ç¬¦ä¸²æŒ‡é’ˆã€‚è¿”å›çš„å€¼æ˜¯æŒ‡å‘ç¯å¢ƒå˜é‡ä¸­å­˜å‚¨æ•°æ®çš„å†…å­˜ï¼Œä¸è¦ä¿®æ”¹æ­¤å†…å­˜çš„å†…å®¹ã€‚å¤±è´¥ï¼š è¿”å› NULLï¼Œè¡¨ç¤ºæœªæ‰¾åˆ°æŒ‡å®šçš„ç¯å¢ƒå˜é‡ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>name</code></strong>: ç¯å¢ƒå˜é‡çš„åç§°ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªä»¥ç©ºå­—ç¬¦ <code>'\0'</code> ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</p><p>åŠŸèƒ½è¯´æ˜:<strong><code>getenv()</code></strong> æ£€ç´¢ç¯å¢ƒå˜é‡çš„å€¼ã€‚<strong>ç¯å¢ƒå˜é‡</strong> æ˜¯é”®å€¼å¯¹å½¢å¼çš„å­—ç¬¦ä¸²ï¼Œé€šå¸¸ç”¨äºå­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·è·¯å¾„ã€ç³»ç»Ÿè®¾ç½®ç­‰ã€‚å¦‚æœç¯å¢ƒå˜é‡å­˜åœ¨ï¼Œåˆ™è¿”å›æŒ‡å‘è¯¥å˜é‡å€¼çš„æŒ‡é’ˆï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>NULL</code>ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹ </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è·å– PATH ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *path = getenv(<span class="string">&quot;PATH&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (path == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Environment variable PATH not found.\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;PATH: %s\n&quot;</span>, path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ä¸å­˜åœ¨çš„ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *notExist = getenv(<span class="string">&quot;NOT_EXIST&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (notExist == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Environment variable NOT_EXIST not found.\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºå†…å®¹</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">PATH</span>: <span class="regexp">/usr/bin</span><span class="symbol">:/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/sbin</span><span class="symbol">:/usr/local/bin</span></span><br><span class="line"><span class="title class_">Environment</span> variable <span class="variable constant_">NOT_EXIST</span> <span class="keyword">not</span> found.</span><br></pre></td></tr></table></figure>              </div>            </details><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ol><li><p><strong>æ£€æŸ¥è¿”å›å€¼</strong>ï¼š ç¯å¢ƒå˜é‡å¯èƒ½ä¸å­˜åœ¨ï¼Œä½¿ç”¨å‰éœ€æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º <code>NULL</code>ã€‚</p></li><li><p><strong>å¤šçº¿ç¨‹ä½¿ç”¨</strong>ï¼š åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­é¿å…ç›´æ¥è°ƒç”¨ <code>getenv()</code>ï¼Œéœ€è¦åŒæ­¥æˆ–ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ›¿ä»£æ–¹æ³•ã€‚</p></li><li><p><strong>ä¸ç¯å¢ƒå˜é‡çš„å…³ç³»</strong>ï¼š ç¯å¢ƒå˜é‡ç”±ç³»ç»Ÿå’Œç”¨æˆ·å®šä¹‰ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ <code>export</code> å‘½ä»¤è®¾ç½®ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> MYVAR=<span class="string">&quot;HelloWorld&quot;</span></span><br></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥åœ¨ C ç¨‹åºä¸­ä½¿ç”¨ <code>getenv(&quot;MYVAR&quot;)</code> è·å–å…¶å€¼ã€‚</p></li></ol><h3 id="putenv-å‡½æ•°">putenv()å‡½æ•°</h3><p><code>putenv()</code> æ˜¯ä¸€ä¸ªæ ‡å‡† C åº“å‡½æ•°ï¼Œç”¨äºå‘ç¯å¢ƒä¸­æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡æˆ–ä¿®æ”¹å·²æœ‰çš„ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">putenv</span><span class="params">(<span class="type">char</span> *<span class="built_in">string</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å€¼0: æˆåŠŸã€‚-1: å¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œå†…å­˜ä¸è¶³æ—¶ï¼‰ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>string</code></strong>:ä¸€ä¸ªä»¥ <code>name=value</code> æ ¼å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²ï¼Œç”¨äºè®¾ç½®ç¯å¢ƒå˜é‡ã€‚<code>name</code> æ˜¯ç¯å¢ƒå˜é‡çš„åç§°ï¼Œ<code>value</code> æ˜¯å¯¹åº”çš„å€¼ã€‚å¿…é¡»ç¡®ä¿ä¼ é€’çš„å­—ç¬¦ä¸²æ ¼å¼æ­£ç¡®ï¼Œä¸”ä»¥ <code>\0</code> ç»“å°¾ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æ·»åŠ æ–°å˜é‡) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="keyword">if</span> (putenv(<span class="string">&quot;MYVAR=HelloWorld&quot;</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;putenv failed&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> EXIT_FAILURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯å˜é‡æ˜¯å¦å·²æ·»åŠ </span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *value = getenv(<span class="string">&quot;MYVAR&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (value == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Environment variable MYVAR not found.\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;MYVAR: %s\n&quot;</span>, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(ä¿®æ”¹å·²æœ‰å˜é‡) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="type">char</span> env[] = <span class="string">&quot;MYVAR=InitialValue&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (putenv(env) != <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;putenv failed&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> EXIT_FAILURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Before modification: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å˜é‡çš„å€¼</span></span><br><span class="line">    <span class="built_in">strcpy</span>(env, <span class="string">&quot;MYVAR=ModifiedValue&quot;</span>); <span class="comment">// ä¿®æ”¹å†…å­˜å†…å®¹</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After modification: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ol><li><strong><code>string</code> çš„å†…å­˜ç®¡ç†</strong>ï¼š<ul><li><code>putenv()</code> ä¸å¤åˆ¶ä¼ é€’çš„å­—ç¬¦ä¸²ï¼Œç›´æ¥ä½¿ç”¨å®ƒçš„æŒ‡é’ˆã€‚</li><li>å¦‚æœ <code>string</code> æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œé‡Šæ”¾è¯¥å†…å­˜å¯èƒ½å¯¼è‡´ç¯å¢ƒå˜é‡å˜ä¸ºéæ³•ã€‚</li></ul></li><li><strong>ä¿®æ”¹å†…å®¹çš„å‰¯ä½œç”¨</strong>ï¼š<ul><li>ä¿®æ”¹ä¼ é€’ç»™ <code>putenv()</code> çš„å­—ç¬¦ä¸²å†…å®¹ä¼šç›´æ¥å½±å“ç¯å¢ƒå˜é‡ã€‚</li><li>ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡ <code>strcpy</code> ä¿®æ”¹ <code>env</code> åï¼Œ<code>getenv()</code> çš„è¿”å›å€¼ä¹Ÿä¼šéšä¹‹æ”¹å˜ã€‚</li></ul></li><li><strong>æ ¼å¼è¦æ±‚</strong>ï¼š<ul><li>å¿…é¡»ä»¥ <code>name=value</code> æ ¼å¼ä¼ é€’å­—ç¬¦ä¸²ã€‚</li><li>å¦‚æœæ ¼å¼ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¯é¢„æœŸçš„è¡Œä¸ºã€‚</li></ul></li><li><strong>çº¿ç¨‹å®‰å…¨æ€§</strong>ï¼š<ul><li><code>putenv()</code> æ˜¯ <strong>éçº¿ç¨‹å®‰å…¨</strong> çš„ã€‚</li><li>åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­è°ƒç”¨æ—¶ï¼Œéœ€ç¡®ä¿åŒæ­¥æœºåˆ¶ï¼Œé¿å…ç«äº‰æ¡ä»¶ã€‚</li></ul></li><li><strong>æ€§èƒ½é—®é¢˜</strong>ï¼š<ul><li>æ¯æ¬¡è°ƒç”¨ <code>putenv()</code> éƒ½å¯èƒ½å¯¼è‡´ç¯å¢ƒå˜é‡è¡¨é‡æ–°åˆ†é…å†…å­˜ï¼Œå½±å“æ€§èƒ½ã€‚</li></ul></li><li><strong>å»ºè®®ä½¿ç”¨ <code>setenv()</code> æ›¿ä»£</strong>ï¼š<ul><li><code>setenv()</code> æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¹¶ä¸”ä¼šå¤åˆ¶ä¼ å…¥çš„å€¼ï¼Œé¿å…äº†è®¸å¤š <code>putenv()</code> çš„é—®é¢˜ã€‚</li></ul></li></ol><h3 id="setenv-å‡½æ•°">setenv()å‡½æ•°</h3><p><code>setenv()</code> æ˜¯ä¸€ä¸ªæ ‡å‡† C åº“å‡½æ•°ï¼Œç”¨äºæ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡æˆ–ä¿®æ”¹ç°æœ‰çš„ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">setenv</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *name, <span class="type">const</span> <span class="type">char</span> *value, <span class="type">int</span> overwrite)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0: æˆåŠŸã€‚-1: å¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œå†…å­˜ä¸è¶³æˆ–å‚æ•°æ— æ•ˆï¼‰ã€‚é”™è¯¯æ—¶ï¼Œerrno ä¼šè¢«è®¾ç½®ä¸ºå…·ä½“é”™è¯¯ç ã€‚</span></span><br></pre></td></tr></table></figure><p><strong><code>name</code></strong>:ç¯å¢ƒå˜é‡çš„åç§°ã€‚å¿…é¡»æ˜¯æœ‰æ•ˆçš„å­—ç¬¦ä¸²ï¼Œä¸èƒ½åŒ…å«ç­‰å· (<code>=</code>)ï¼Œä¸”ä¸èƒ½ä¸ºç©ºã€‚</p><p><strong><code>value</code></strong>:ç¯å¢ƒå˜é‡çš„å€¼ã€‚å¦‚æœä¸ºç©ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè®¾ç½®è¯¥å˜é‡ä¸ºç©ºå€¼ã€‚</p><p><strong><code>overwrite</code></strong>:ä¸€ä¸ªæ•´å‹æ ‡å¿—ï¼Œç”¨äºæŒ‡ç¤ºæ˜¯å¦å…è®¸è¦†ç›–å·²æœ‰çš„ç¯å¢ƒå˜é‡ï¼š<strong>éé›¶å€¼</strong>ï¼šå¦‚æœç¯å¢ƒå˜é‡å·²å­˜åœ¨ï¼Œå°†è¦†ç›–å…¶å€¼ã€‚<strong>é›¶å€¼</strong>ï¼šå¦‚æœç¯å¢ƒå˜é‡å·²å­˜åœ¨ï¼Œåˆ™ä¸æ”¹å˜å…¶å€¼ã€‚</p><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(æ·»åŠ æ–°ç¯å¢ƒå˜é‡) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="keyword">if</span> (setenv(<span class="string">&quot;MYVAR&quot;</span>, <span class="string">&quot;HelloWorld&quot;</span>, <span class="number">1</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;setenv failed&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> EXIT_FAILURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯æ˜¯å¦æ·»åŠ æˆåŠŸ</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span> *value = getenv(<span class="string">&quot;MYVAR&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;MYVAR: %s\n&quot;</span>, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Environment variable MYVAR not found.\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(è¦†ç›–å·²æœ‰å˜é‡) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">    setenv(<span class="string">&quot;MYVAR&quot;</span>, <span class="string">&quot;InitialValue&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;MYVAR before overwrite: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å·²æœ‰å˜é‡</span></span><br><span class="line">    setenv(<span class="string">&quot;MYVAR&quot;</span>, <span class="string">&quot;ModifiedValue&quot;</span>, <span class="number">1</span>);  <span class="comment">// å…è®¸è¦†ç›–</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;MYVAR after overwrite: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green><summary> ä½¿ç”¨ç¤ºä¾‹(ä¸è¦†ç›–å·²æœ‰å˜é‡) </summary>              <div class='content'>              <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">    setenv(<span class="string">&quot;MYVAR&quot;</span>, <span class="string">&quot;InitialValue&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;MYVAR before overwrite: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•ä¸è¦†ç›–å·²æœ‰å˜é‡</span></span><br><span class="line">    setenv(<span class="string">&quot;MYVAR&quot;</span>, <span class="string">&quot;IgnoredValue&quot;</span>, <span class="number">0</span>);  <span class="comment">// ç¦æ­¢è¦†ç›–</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;MYVAR after no-overwrite attempt: %s\n&quot;</span>, getenv(<span class="string">&quot;MYVAR&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ol><li><strong>å‚æ•°éªŒè¯</strong>ï¼š<ul><li><code>name</code> ä¸èƒ½ä¸ºç©ºï¼Œä¸”ä¸èƒ½åŒ…å«ç­‰å· (<code>=</code>)ã€‚</li><li>è‹¥ä¼ é€’éæ³•å‚æ•°ï¼Œ<code>setenv()</code> å°†è¿”å›é”™è¯¯å¹¶è®¾ç½® <code>errno</code>ã€‚</li></ul></li><li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼š<ul><li>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œ<code>setenv()</code> æ˜¯å®‰å…¨çš„ã€‚</li><li>ä½†éœ€è¦æ³¨æ„å¹¶å‘æ“ä½œä¸­å¯¹åŒä¸€ç¯å¢ƒå˜é‡çš„ç«äº‰æ¡ä»¶ã€‚</li></ul></li><li><strong>å†…å­˜åˆ†é…</strong>ï¼š<ul><li><code>setenv()</code> ä¼šåˆ†é…å†…å­˜æ¥å­˜å‚¨ç¯å¢ƒå˜é‡ï¼Œç”¨æˆ·æ— éœ€å…³å¿ƒå†…å­˜ç®¡ç†ã€‚</li><li>ä½†é¢‘ç¹è®¾ç½®ç¯å¢ƒå˜é‡å¯èƒ½å¯¼è‡´å†…å­˜ç¢ç‰‡åŒ–ã€‚</li></ul></li><li><strong>æ€§èƒ½å¼€é”€</strong>ï¼š<ul><li><code>setenv()</code> æ¯æ¬¡è°ƒç”¨å¯èƒ½éœ€è¦é‡æ–°è°ƒæ•´ç¯å¢ƒè¡¨ï¼Œé¢‘ç¹è°ƒç”¨å¯èƒ½å½±å“æ€§èƒ½ã€‚</li></ul></li><li><strong>ä¸ <code>putenv()</code> çš„åŒºåˆ«</strong>ï¼š<ul><li><code>setenv()</code> å¤åˆ¶è¾“å…¥å­—ç¬¦ä¸²ï¼Œ<code>putenv()</code> ä¸ä¼šå¤åˆ¶ï¼Œç›´æ¥ä½¿ç”¨æŒ‡é’ˆã€‚</li><li><code>setenv()</code> æ›´å®‰å…¨ï¼Œä½†å¼€é”€å¯èƒ½ç•¥é«˜äº <code>putenv()</code>ã€‚</li></ul></li><li><strong>ä¸ <code>unsetenv()</code> é…åˆä½¿ç”¨</strong>ï¼š<ul><li>å¯ä»¥ä½¿ç”¨ <code>unsetenv()</code> åˆ é™¤ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿ç¯å¢ƒè¡¨ä¿æŒå¹²å‡€ã€‚</li></ul></li></ol><h2 id="è¿›ç¨‹çš„åˆ›å»º">è¿›ç¨‹çš„åˆ›å»º</h2><h3 id="fork-å‡½æ•°">fork()å‡½æ•°</h3><p>åœ¨è¯¸å¤šåº”ç”¨ä¸­ï¼Œåˆ›å»ºå¤šä¸ªè¿›ç¨‹æ˜¯ä»»åŠ¡åˆ†è§£æ—¶è¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒæŸä¸€ç½‘ç»œæœåŠ¡å™¨è¿›ç¨‹å¯åœ¨ä¾¦å¬å®¢æˆ·ç«¯è¯·æ±‚çš„åŒæ—¶ï¼Œä¸ºå¤„ç†æ¯ä¸€è¯·æ±‚è€Œåˆ›å»ºä¸€æ–°çš„å­è¿›ç¨‹ï¼Œä¸æ­¤åŒæ—¶ï¼ŒæœåŠ¡å™¨è¿›ç¨‹ä¼šç»§ç»­ä¾¦å¬æ›´å¤šçš„å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚ã€‚ä»¥æ­¤ç±»æ‰‹æ³•åˆ†è§£ä»»åŠ¡ï¼Œé€šå¸¸ä¼šç®€åŒ–åº”ç”¨ç¨‹åºçš„è®¾è®¡ï¼ŒåŒæ—¶æé«˜äº†ç³»ç»Ÿçš„å¹¶å‘æ€§ã€‚ï¼ˆå³ï¼Œå¯åŒæ—¶å¤„ç†æ›´å¤šçš„ä»»åŠ¡æˆ–è¯·æ±‚ã€‚ï¼‰ç³»ç»Ÿè°ƒç”¨ fork()åˆ›å»ºä¸€æ–°è¿›ç¨‹ï¼ˆchildï¼‰ï¼Œå‡ è¿‘äºå¯¹è°ƒç”¨è¿›ç¨‹ï¼ˆparentï¼‰çš„ç¿»ç‰ˆã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">pid t <span class="title function_">fork</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨çˆ¶è¿›ç¨‹ä¸­ï¼šæˆåŠŸæ—¶è¿”å›å­è¿›ç¨‹çš„è¿›ç¨‹ IDï¼Œå‡ºé”™æ—¶è¿”å› -1ï¼›</span></span><br><span class="line"><span class="comment">//åœ¨æˆåŠŸåˆ›å»ºçš„å­è¿›ç¨‹ä¸­ï¼šå§‹ç»ˆè¿”å› 0ã€‚</span></span><br></pre></td></tr></table></figure><p>ç†è§£ fork()çš„è¯€çªæ˜¯ï¼Œè¦æ„è¯†åˆ°ï¼Œå®Œæˆå¯¹å…¶è°ƒç”¨åå°†å­˜åœ¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸”æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šä» fork()çš„è¿”å›å¤„ç»§ç»­æ‰§è¡Œã€‚è¿™ä¸¤ä¸ªè¿›ç¨‹å°†æ‰§è¡Œç›¸åŒçš„ç¨‹åºæ–‡æœ¬æ®µï¼Œä½†å´å„è‡ªæ‹¥æœ‰ä¸åŒçš„æ ˆæ®µã€æ•°æ®æ®µä»¥åŠå †æ®µæ‹·è´ã€‚å­è¿›ç¨‹çš„æ ˆã€æ•°æ®ä»¥åŠæ ˆæ®µå¼€å§‹æ—¶æ˜¯å¯¹çˆ¶è¿›ç¨‹å†…å­˜ç›¸åº”å„éƒ¨åˆ†çš„å®Œå…¨å¤åˆ¶ã€‚æ‰§è¡Œ fork()ä¹‹åï¼Œæ¯ä¸ªè¿›ç¨‹å‡å¯ä¿®æ”¹å„è‡ªçš„æ ˆæ•°æ®ã€ä»¥åŠå †æ®µä¸­çš„å˜é‡ï¼Œè€Œå¹¶<strong>ä¸å½±å“å¦ä¸€è¿›ç¨‹</strong>ã€‚</p><p>ç¨‹åºä»£ç åˆ™å¯é€šè¿‡ fork()çš„è¿”å›å€¼æ¥åŒºåˆ†çˆ¶ã€å­è¿›ç¨‹ã€‚åœ¨çˆ¶è¿›ç¨‹ä¸­ï¼Œfork()å°†è¿”å›æ–°åˆ›å»ºå­è¿›ç¨‹çš„è¿›ç¨‹ IDã€‚é‰´äºçˆ¶è¿›ç¨‹å¯èƒ½éœ€è¦åˆ›å»ºï¼Œè¿›è€Œè¿½è¸ªå¤šä¸ªå­è¿›ç¨‹ï¼ˆé€šè¿‡ wait()æˆ–ç±»ä¼¼æ–¹æ³•ï¼‰ï¼Œè¿™ç§å®‰æ’è¿˜æ˜¯å¾ˆå®ç”¨çš„ã€‚è€Œ fork()åœ¨å­è¿›ç¨‹ä¸­åˆ™è¿”å› 0ã€‚å¦‚æœ‰å¿…è¦ï¼Œå­è¿›ç¨‹å¯è°ƒç”¨ getpid()ä»¥è·å–è‡ªèº«çš„è¿›ç¨‹ IDï¼Œè°ƒç”¨ getppid()ä»¥è·å–çˆ¶è¿›ç¨‹ IDã€‚</p><p>å½“æ— æ³•åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œfork()å°†è¿”å›-1ã€‚å¤±è´¥çš„åŸå› å¯èƒ½åœ¨äºï¼Œè¿›ç¨‹æ•°é‡è¦ä¹ˆè¶…å‡ºäº†ç³»ç»Ÿé’ˆå¯¹æ­¤çœŸå®ç”¨æˆ·ï¼ˆreal user IDï¼‰åœ¨è¿›ç¨‹æ•°é‡ä¸Šæ‰€æ–½åŠ çš„é™åˆ¶ï¼Œè¦ä¹ˆæ˜¯è§¦åŠå…è®¸è¯¥ç³»ç»Ÿåˆ›å»ºçš„æœ€å¤§è¿›ç¨‹æ•°è¿™ä¸€ç³»ç»Ÿçº§ä¸Šé™ã€‚</p><p>è°ƒç”¨ fork()æ—¶ï¼Œæœ‰æ—¶ä¼šé‡‡ç”¨å¦‚ä¸‹ä¹ æƒ¯ç”¨è¯­ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">pid_t</span> childPid;</span><br><span class="line"><span class="keyword">switch</span> (childPid = fork())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-1</span>:</span><br><span class="line">        <span class="comment">//å¤„ç†é”™è¯¯</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="comment">//å­è¿›ç¨‹è¡Œä¸º</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="comment">//çˆ¶è¿›ç¨‹è¡Œä¸º</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ fork()ä¹‹åï¼Œç³»ç»Ÿå°†ç‡å…ˆâ€œå‚é’â€äºå“ªä¸ªè¿›ç¨‹ï¼ˆå³è°ƒåº¦å…¶ä½¿ç”¨ CPUï¼‰ï¼Œæ˜¯æ— æ³•ç¡®å®šçš„ï¼Œæ„è¯†åˆ°è¿™ä¸€ç‚¹æä¸ºé‡è¦ã€‚åœ¨è®¾è®¡æ‹™åŠ£çš„ç¨‹åºä¸­ï¼Œè¿™ç§ä¸ç¡®å®šæ€§å¯èƒ½ä¼šå¯¼è‡´æ‰€è°“â€œç«äº‰æ¡ä»¶ï¼ˆrace conditionï¼‰â€çš„é”™è¯¯</p><h3 id="vfork-å‡½æ•°">vfork()å‡½æ•°</h3><p>åœ¨æ—©æœŸçš„ BSD å®ç°ä¸­ï¼Œfork()ä¼šå¯¹çˆ¶è¿›ç¨‹çš„æ•°æ®æ®µã€å †å’Œæ ˆæ–½è¡Œä¸¥æ ¼çš„å¤åˆ¶ã€‚å¦‚å‰æ‰€è¿°ï¼Œè¿™æ˜¯ä¸€ç§æµªè´¹ï¼Œå°¤å…¶æ˜¯åœ¨è°ƒç”¨ fork()åç«‹å³æ‰§è¡Œ exec()çš„æƒ…å†µä¸‹ã€‚å‡ºäºè¿™ä¸€åŸå› ï¼ŒBSD çš„åæœŸç‰ˆæœ¬å¼•å…¥äº† vfork()ç³»ç»Ÿè°ƒç”¨ï¼Œå°½ç®¡å…¶è¿ä½œå«ä¹‰ç¨å¾®æœ‰äº›ä¸åŒï¼ˆå®åˆ™æœ‰äº›æ€ªå¼‚ï¼‰ï¼Œä½†æ•ˆç‡è¦è¿œé«˜äº BSD fork()ã€‚ç°ä»£ UNIX é‡‡ç”¨å†™æ—¶å¤åˆ¶æŠ€æœ¯æ¥å®ç° fork()ï¼Œå…¶æ•ˆç‡è¾ƒä¹‹äºæ—©æœŸçš„ fork()å®ç°è¦é«˜å‡ºè®¸å¤šï¼Œè¿›è€Œå°†å¯¹ vfork()çš„éœ€æ±‚å‰”é™¤æ®†å°½ã€‚è™½ç„¶å¦‚æ­¤ï¼ŒLinuxï¼ˆå¦‚åŒè®¸å¤šå…¶ä»–çš„ UNIX å®ç°ä¸€æ ·ï¼‰è¿˜æ˜¯æä¾›äº†å…·æœ‰ BSD è¯­ä¹‰çš„ vfork()ç³»ç»Ÿè°ƒç”¨ï¼Œä»¥æœŸä¸ºç¨‹åºæä¾›å°½å¯èƒ½å¿«çš„ fork åŠŸèƒ½ã€‚ä¸è¿‡ï¼Œé‰´äº vfork()çš„æ€ªå¼‚è¯­ä¹‰å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›éš¾ä»¥å¯Ÿè§‰çš„ç¨‹åºç¼ºé™·ï¼ˆbugï¼‰ï¼Œé™¤éèƒ½ç»™æ€§èƒ½å¸¦æ¥é‡å¤§æå‡ï¼ˆè¿™ç§æƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡æå°ï¼‰ï¼Œå¦åˆ™åº”å½“å°½é‡é¿å…ä½¿ç”¨è¿™ä¸€è°ƒç”¨ã€‚</p><p>ç±»ä¼¼äº fork()ï¼Œvfork()å¯ä»¥ä¸ºè°ƒç”¨è¿›ç¨‹åˆ›å»ºä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ã€‚ç„¶è€Œï¼Œvfork()æ˜¯ä¸ºå­è¿›ç¨‹ç«‹å³æ‰§è¡Œ exec()çš„ç¨‹åºè€Œä¸“é—¨è®¾è®¡çš„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line">pid t <span class="title function_">vfork</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨çˆ¶è¿›ç¨‹ä¸­ï¼šæˆåŠŸæ—¶è¿”å›å­è¿›ç¨‹çš„è¿›ç¨‹ IDï¼Œå¤±è´¥æ—¶è¿”å› -1ï¼›</span></span><br><span class="line"><span class="comment">//åœ¨æˆåŠŸåˆ›å»ºçš„å­è¿›ç¨‹ä¸­ï¼šå§‹ç»ˆè¿”å› 0ã€‚</span></span><br></pre></td></tr></table></figure><p>vfork()å› ä¸ºå¦‚ä¸‹ä¸¤ä¸ªç‰¹æ€§è€Œæ›´å…·æ•ˆç‡ï¼Œè¿™ä¹Ÿæ˜¯å…¶ä¸ fork()çš„åŒºåˆ«æ‰€åœ¨ã€‚</p><ul><li>æ— éœ€ä¸ºå­è¿›ç¨‹å¤åˆ¶è™šæ‹Ÿå†…å­˜é¡µæˆ–é¡µè¡¨ã€‚ç›¸åï¼Œå­è¿›ç¨‹å…±äº«çˆ¶è¿›ç¨‹çš„å†…å­˜ï¼Œç›´è‡³å…¶æˆåŠŸæ‰§è¡Œäº† exec()æˆ–æ˜¯è°ƒç”¨_exit()é€€å‡ºã€‚</li><li>åœ¨å­è¿›ç¨‹è°ƒç”¨ exec()æˆ–_exit()ä¹‹å‰ï¼Œå°†æš‚åœæ‰§è¡Œçˆ¶è¿›ç¨‹ã€‚</li></ul><h3 id="exit-å‡½æ•°">_exit()å‡½æ•°</h3><p>é€šå¸¸ï¼Œè¿›ç¨‹æœ‰ä¸¤ç§ç»ˆæ­¢æ–¹å¼ã€‚å…¶ä¸€ä¸ºå¼‚å¸¸ï¼ˆabnormalï¼‰ç»ˆæ­¢ï¼Œç”±å¯¹ä¸€ä¿¡å·çš„æ¥æ”¶è€Œå¼•å‘ï¼Œè¯¥ä¿¡å·çš„é»˜è®¤åŠ¨ä½œä¸ºç»ˆæ­¢å½“å‰è¿›ç¨‹ï¼Œå¯èƒ½äº§ç”Ÿæ ¸å¿ƒè½¬å‚¨ï¼ˆcore dumpï¼‰ã€‚æ­¤å¤–ï¼Œè¿›ç¨‹å¯ä½¿ç”¨_exit()ç³»ç»Ÿè°ƒç”¨æ­£å¸¸ï¼ˆnormallyï¼‰ç»ˆæ­¢ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd,h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">exit</span><span class="params">(<span class="type">int</span> status)</span>;</span><br></pre></td></tr></table></figure><p>_exit()çš„ status å‚æ•°å®šä¹‰äº†è¿›ç¨‹çš„ç»ˆæ­¢çŠ¶æ€ï¼ˆtermination statusï¼‰ï¼Œçˆ¶è¿›ç¨‹å¯è°ƒç”¨ wait()ä»¥è·å–è¯¥çŠ¶æ€ã€‚è™½ç„¶å°†å…¶å®šä¹‰ä¸º int ç±»å‹ï¼Œä½†ä»…æœ‰ä½ 8 ä½å¯ä¸ºçˆ¶è¿›ç¨‹æ‰€ç”¨ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œç»ˆæ­¢çŠ¶æ€ä¸º 0 è¡¨ç¤ºè¿›ç¨‹â€œåŠŸæˆèº«é€€â€ï¼Œè€Œé 0 å€¼åˆ™è¡¨ç¤ºè¿›ç¨‹å› å¼‚å¸¸è€Œé€€å‡ºã€‚å¯¹é 0 è¿”å›å€¼çš„è§£é‡Šåˆ™å¹¶æ— å®šä¾‹ï¼›ä¸åŒçš„åº”ç”¨ç¨‹åºè‡ªæˆä¸€æ´¾ï¼Œå¹¶ä¼šåœ¨æ–‡æ¡£ä¸­åŠ ä»¥æè¿°ã€‚SUSv3 è§„å®šæœ‰ä¸¤ä¸ªå¸¸é‡ï¼šEXIT_SUCCESS(0)å’Œ EXIT_FAILURE(1)ï¼Œæœ¬ä¹¦ä¸­å¤§éƒ¨åˆ†ç¨‹åºå°±é‡‡ç”¨äº†è¿™ä¸€çº¦å®šã€‚</p><p>è°ƒç”¨_exit()çš„ç¨‹åºæ€»ä¼šæˆåŠŸç»ˆæ­¢ï¼ˆå³ï¼Œ_exit()ä»ä¸è¿”å›ï¼‰ã€‚</p><h3 id="wait-å‡½æ•°">wait()å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sys/wait.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">pid t <span class="title function_">wait</span><span class="params">(<span class="type">int</span> *stalus)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›å·²ç»ˆæ­¢å­è¿›ç¨‹çš„è¿›ç¨‹ IDï¼Œæˆ–è€…åœ¨å‡ºé”™æ—¶è¿”å› -1ã€‚</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2</summary>
        
      
    
    
    
    <category term="æ“ä½œç³»ç»Ÿ" scheme="https://www.wikunkun.asia/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="è¿œç¨‹å¼€å‘" scheme="https://www.wikunkun.asia/tags/%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/"/>
    
    <category term="C/C++" scheme="https://www.wikunkun.asia/tags/C-C/"/>
    
    <category term="ç³»ç»Ÿè°ƒç”¨" scheme="https://www.wikunkun.asia/tags/%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸Šçš„vcpkgå®‰è£…</title>
    <link href="https://www.wikunkun.asia/posts/2338738d.html"/>
    <id>https://www.wikunkun.asia/posts/2338738d.html</id>
    <published>2025-01-12T08:06:38.000Z</published>
    <updated>2025-02-13T10:39:02.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…vcpkg">å®‰è£…vcpkg</h2><p>å®‰è£…å¯èƒ½ä¼šç”¨åˆ°çš„ä¾èµ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install -y git curl zip unzip tar cmake g++ build-essential</span><br><span class="line"><span class="built_in">sudo</span> apt-get install pkg-config</span><br></pre></td></tr></table></figure><p>å…‹éš†githubä»“åº“</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/microsoft/vcpkg.git</span><br></pre></td></tr></table></figure><p>å¦‚æœå…‹éš†ä¸ä¸‹æ¥çš„è¯,å°±ä½¿ç”¨https://ghproxy.ccåŠ é€Ÿ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git <span class="built_in">clone</span> https://ghproxy.cc/https://github.com/microsoft/vcpkg.git</span><br></pre></td></tr></table></figure><p>è¿›å…¥å…‹éš†çš„ä»“åº“</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> vcpkg</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®‰è£…è„šæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bootstrap-vcpkg.sh</span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒå˜é‡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–å®‰è£…ä½ç½®</span></span><br><span class="line"><span class="built_in">pwd</span></span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112162428231.png" alt="image-20250112162428231"></p><p>åšä¸»è¿™é‡Œçš„å®‰è£…ä½ç½®ä¸º</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/ecs-user/vcpkg/vcpkg</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶<code>.bashrc</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç¯å¢ƒå˜é‡**(/home/ecs-user/vcpkg/vcpkgè®°å¾—æ”¹æˆä½ è‡ªå·±çš„)**</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=/home/ecs-user/vcpkg/vcpkg:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112162610585.png" alt="image-20250112162610585"></p><p>æ›´æ–°ç¯å¢ƒå˜é‡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">vcpkg</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112162752574.png" alt="image-20250112162752574"></p><p>vcpkgå®‰è£…ç›¸å…³åº“</p><p>æ›´æ–° vcpkg çš„åº“ç´¢å¼•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg update</span><br></pre></td></tr></table></figure><p>å®‰è£… <code>cJSON</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vcpkg install cjson</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å®‰è£…vcpkg&quot;&gt;å®‰è£…vcpkg&lt;/h2&gt;
&lt;p&gt;å®‰è£…å¯èƒ½ä¼šç”¨åˆ°çš„ä¾èµ–&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
        
      
    
    
    
    <category term="Linuxå¹³å°å¼€å‘" scheme="https://www.wikunkun.asia/categories/Linux%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="C/C++" scheme="https://www.wikunkun.asia/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>VSCodeè¿æ¥LinuxæœåŠ¡å™¨è¿›è¡Œè¿œç¨‹C++å¼€å‘</title>
    <link href="https://www.wikunkun.asia/posts/18ae5e5d.html"/>
    <id>https://www.wikunkun.asia/posts/18ae5e5d.html</id>
    <published>2025-01-07T03:21:01.000Z</published>
    <updated>2025-04-27T09:05:24.469Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·">å·¥å…·</h2><ul><li><a href="https://code.visualstudio.com/">VSCode</a></li><li>ä¸€å°äº‘æœåŠ¡å™¨ (æœ¬æ–‡ç”¨é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨)</li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li><code>windows10</code></li><li><code>Ubuntu22.04.4</code></li></ul><h2 id="VSCodeè¿œç¨‹è¿æ¥LinuxæœåŠ¡å™¨">VSCodeè¿œç¨‹è¿æ¥LinuxæœåŠ¡å™¨</h2><h3 id="é…ç½®SSHè¿æ¥">é…ç½®SSHè¿æ¥</h3><p>æœç´¢<code>SSH</code>ï¼Œå®‰è£…<code>Remote - SSH</code>æ’ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107112516138.png" alt="image-20250107112516138"></p><p>å³é”®åº•éƒ¨å‹¾é€‰è¿œç¨‹ä¸»æœº</p><p><img src="https://lambda-image-1.pages.dev/image-20250107112730755.png" alt="image-20250107112730755"></p><p>å¼€å§‹è¿æ¥</p><p><img src="https://lambda-image-1.pages.dev/image-20250107112830492.png" alt="image-20250107112830492"></p><p>ç‚¹å‡»é…ç½®SSHä¸»æœº</p><p><img src="https://lambda-image-1.pages.dev/image-20250107114630289.png" alt="image-20250107114630289"></p><p>ç‚¹å‡»ç¬¬ä¸€ä¸ªæ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107114648392.png" alt="image-20250107114648392"></p><p>é…ç½®SSHæ–‡ä»¶ï¼Œä¿®æ”¹çº¢æ¡†çš„å†…å®¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250107122255673.png" alt="image-20250107122255673"></p><p>è¿æ¥åˆšåˆšé…ç½®å¥½çš„LinuxæœåŠ¡å™¨</p><p><img src="https://lambda-image-1.pages.dev/image-20250107122326372.png" alt="image-20250107122326372"></p><p>ç‚¹å‡»Linux</p><p><img src="https://lambda-image-1.pages.dev/image-20250107114940513.png" alt="image-20250107114940513"></p><p>è¾“å…¥å¯†ç </p><p><img src="https://lambda-image-1.pages.dev/image-20250107115011504.png" alt="image-20250107115011504"></p><p>è‡³æ­¤å·²ç»è¿æ¥æˆåŠŸ</p><p><img src="https://lambda-image-1.pages.dev/image-20250107122508091.png" alt="image-20250107122508091"></p><h3 id="é…ç½®å…å¯†ç ç™»å½•">é…ç½®å…å¯†ç ç™»å½•</h3><p><img src="https://lambda-image-1.pages.dev/image-20250107123427722.png" alt="image-20250107123427722"></p><p>ç»‘å®šå¯†é’¥å¯¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250107123441870.png" alt="image-20250107123441870"></p><p>æ²¡æœ‰å¯†é’¥çš„è¯å°±åˆ›å»ºå¯†é’¥ï¼Œç„¶åé€‰æ‹©åˆ›å»ºå¥½çš„å¯†é’¥</p><p><img src="https://lambda-image-1.pages.dev/image-20250107123458390.png" alt="image-20250107123458390"></p><p>æŠŠç§é’¥æ”¾åˆ°ç›¸å…³çš„æ–‡ä»¶å¤¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250107124357607.png" alt="image-20250107124357607"></p><p>ä¸€èˆ¬æ˜¯<code>C:\Users\Administrator\.ssh</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250107124435396.png" alt="image-20250107124435396"></p><p>æ–‡ä»¶å¤¹å†…å®¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250107131451184.png" alt="image-20250107131451184"></p><p>ä¿®æ”¹ä¹‹å‰<code>VSCODE</code>ä¸­çš„<code>SSH</code>é…ç½®ï¼Œæ·»åŠ <code>IdentityFile</code></p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Read more about SSH config files: https://linux.die.net/man/5/ssh_config</span></span><br><span class="line">Host xxxxx</span><br><span class="line">    <span class="comment">#HostNameä¸ºä¸»æœºçš„IPåœ°å€</span></span><br><span class="line">    HostName xx.xx.xx.xx</span><br><span class="line">    <span class="comment">#Userä¸ºç™»å½•Linuxçš„ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">User</span> <span class="title">ecs-user</span></span><br><span class="line">    <span class="comment">#Portä¸ºè¿æ¥çš„ç«¯å£å·</span></span><br><span class="line">    Port <span class="number">22</span></span><br><span class="line">    <span class="comment"># pem æ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">    IdentityFile C:\Users\Administrator\.ssh\lambda.pem </span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250107124637238.png" alt="image-20250107124637238"></p><h2 id="C-C-ç¼–ç¨‹">C/C++ç¼–ç¨‹</h2><h3 id="å®‰è£…ç¯å¢ƒ">å®‰è£…ç¯å¢ƒ</h3><p>ç¡®ä¿å®‰è£…äº†<code>gcc</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -v</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250107134650138.png" alt="image-20250107134650138"></p><p>å®‰è£…<code>GDB è°ƒè¯•å™¨</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update # æ›´æ–°è½¯ä»¶åŒ…æº </span><br><span class="line">sudo apt-get install build-essential gdb</span><br></pre></td></tr></table></figure><h3 id="VSCodeä¸­å®‰è£…å¹¶é…ç½®å¼€å‘æ’ä»¶">VSCodeä¸­å®‰è£…å¹¶é…ç½®å¼€å‘æ’ä»¶</h3><p>å®‰è£…C++å¼€å‘æ’ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107131833820.png" alt="image-20250107131833820"></p><p>é…ç½®è‡ªåŠ¨æç¤ºï¼Œ<code>CTRL+,</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250107132016756.png" alt="image-20250107132016756"></p><p>è¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;workbench.iconTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode-icons&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.mouseWheelZoom&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cSpell.languageSettings&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;workbench.colorTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Default Dark+&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cmake.configureOnOpen&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;editor.minimap.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;C_Cpp.autocomplete&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Default&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;[cpp]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.quickSuggestions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;comments&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;strings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;other&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;[c]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;editor.quickSuggestions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;comments&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;strings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;other&quot;</span><span class="punctuation">:</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;explorer.confirmDelete&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥è¿›è¡Œé…ç½®</span></span><br><span class="line">    <span class="attr">&quot;remote.SSH.remotePlatform&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;å­¦ä¹ å…¬è´¹æœåŠ¡å™¨&quot;</span><span class="punctuation">:</span> <span class="string">&quot;linux&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ç¼–è¯‘åŠŸèƒ½">é…ç½®ç¼–è¯‘åŠŸèƒ½</h3><p>å…ˆæ‰“å¼€ä¸€ä¸ª<code>.cpp</code>æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107132319602.png" alt="image-20250107132319602"></p><p>é€‰æ‹©<strong>C/C++:g++ç”Ÿæˆæ´»åŠ¨ä»»åŠ¡</strong></p><p><img src="https://lambda-image-1.pages.dev/image-20250107133256998.png" alt="image-20250107133256998"></p><p>ä¸Šè¿°æ“ä½œå°†è‡ªåŠ¨åœ¨.vscodeæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆtasks.jsonæ–‡ä»¶ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºè¯¥æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107133333601.png" alt="image-20250107133333601"></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="comment">//è¿™ä¸ªæ˜¯C++çš„ç¼–è¯‘é…ç½®</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">// è®°ä½è¿™ä¸ªï¼Œç­‰ä¸‹æœ‰ç”¨</span></span><br><span class="line"><span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++ ç”Ÿæˆæ´»åŠ¨æ–‡ä»¶&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin/g++&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;$gcc&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç¼–è¯‘å™¨: /usr/bin/g++&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="comment">//è¿™ä¸ªæ˜¯Cè¯­è¨€çš„ç¼–è¯‘é…ç½®</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppbuild&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: gcc ç”Ÿæˆæ´»åŠ¨æ–‡ä»¶&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin/gcc&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;$gcc&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;kind&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;isDefault&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç¼–è¯‘å™¨: /usr/bin/gcc&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ç‚¹å‡»è¦ç¼–è¯‘çš„æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107133411882.png" alt="image-20250107133411882"></p><p>ç¼–è¯‘æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107132623763.png" alt="image-20250107132623763"></p><p>ç‚¹å‡»<strong>C/C++:g++ç”Ÿæˆæ´»åŠ¨ä»»åŠ¡</strong></p><p><img src="https://lambda-image-1.pages.dev/image-20250107133500037.png" alt="image-20250107133500037"></p><p>ç”ŸæˆæˆåŠŸ</p><p><img src="https://lambda-image-1.pages.dev/image-20250107133524895.png" alt="image-20250107133524895"></p><p>è¿è¡Œç¼–è¯‘åçš„æ–‡ä»¶</p><p><img src="https://lambda-image-1.pages.dev/image-20250107133551994.png" alt="image-20250107133551994"></p><p>è¾“å…¥<code>./main</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250107133617247.png" alt="image-20250107133617247"></p><p>æŸ¥çœ‹è¿è¡Œç»“æœ</p><p><img src="https://lambda-image-1.pages.dev/image-20250107133643574.png" alt="image-20250107133643574"></p><h3 id="è°ƒè¯•Debug">è°ƒè¯•Debug</h3><p><img src="https://lambda-image-1.pages.dev/image-20250107133741714.png" alt="image-20250107133741714"></p><p>é€‰æ‹©<code>C++(GDB/LLDB)</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250107133823725.png" alt="image-20250107133823725"></p><p>è‡ªåŠ¨åˆ›å»ºäº†æ–‡ä»¶<code>launch.json</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250107134925725.png" alt="image-20250107134925725"></p><p>ç‚¹å‡»æ·»åŠ é…ç½®ï¼Œé€‰æ‹©<code>C/C++ (gdb) å¯åŠ¨</code></p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250112134959092.png" alt="image-20250112134959092"></p><p>ä¿®æ”¹<code>launch.json</code></p><p><img src="C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20250112135428158.png" alt="image-20250112135428158"></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ </span></span><br><span class="line">    <span class="comment">// æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚</span></span><br><span class="line">    <span class="comment">// æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;(gdb) å¯åŠ¨&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//è¿™æ˜¯è¿è¡Œæ—¶æ·»åŠ çš„é¢å¤–å‚æ•°</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å°†åæ±‡ç¼–é£æ ¼è®¾ç½®ä¸º Intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-gdb-set disassembly-flavor intel&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//preLaunchTaskä½è¿›è¡Œè°ƒè¯•ä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡,å³ç¼–è¯‘æ„å»ºç”Ÿæˆ</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: g++ ç”Ÿæˆæ´»åŠ¨æ–‡ä»¶&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin/gdb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250107135753874.png" alt="image-20250107135753874"></p><p>åœ¨éœ€è¦è°ƒè¯•çš„æ–‡ä»¶ä¸­æŒ‰<code>F5</code>å¯åŠ¨è°ƒè¯•</p><p><img src="https://lambda-image-1.pages.dev/image-20250107135927264.png" alt="image-20250107135927264"></p><p>è¿™é‡Œå¯ä»¥è¿›è¡Œè°ƒè¯•çš„ç›¸å…³æ“ä½œ</p><p><img src="https://lambda-image-1.pages.dev/image-20250107140024813.png" alt="image-20250107140024813"></p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;VSCode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä¸€å°äº‘æœåŠ¡å™¨ (æœ¬æ–‡ç”¨é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="Linuxå¹³å°å¼€å‘" scheme="https://www.wikunkun.asia/categories/Linux%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="è¿œç¨‹å¼€å‘" scheme="https://www.wikunkun.asia/tags/%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/"/>
    
    <category term="C/C++" scheme="https://www.wikunkun.asia/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>SpringBootä¸­æ‹¦æˆªè¯·æ±‚çš„æ–¹å¼</title>
    <link href="https://www.wikunkun.asia/posts/e02212fc.html"/>
    <id>https://www.wikunkun.asia/posts/e02212fc.html</id>
    <published>2025-01-05T03:08:46.000Z</published>
    <updated>2025-02-13T10:39:02.418Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·">å·¥å…·</h2><ul><li><a href="https://www.jetbrains.com/idea/">IDEAä¸“ä¸šç‰ˆ</a></li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li>windows10</li><li><a href="https://maven.org.cn/">Maven3.9.5</a></li><li>jdk1.8</li></ul><h2 id="Filterï¼ˆè¿‡æ»¤å™¨ï¼‰">Filterï¼ˆè¿‡æ»¤å™¨ï¼‰</h2><p><strong>Filter</strong>æ˜¯<strong>Spring</strong>ä¸­çš„æ‹¦æˆªæœºåˆ¶ä¹‹ä¸€,ä½äº<strong>Servlet å®¹å™¨å±‚</strong>,ä½œç”¨äº HTTP è¯·æ±‚å’Œå“åº”çš„ç”Ÿå‘½å‘¨æœŸ,æœ€æ—©æ‰§è¡Œï¼Œä½äºæ‹¦æˆªå™¨å’Œåˆ‡é¢ä¹‹å‰.</p><p>å¯ä»¥æœ‰å¤šä¸ªè¿‡æ»¤å™¨,å¤šä¸ªè¿‡æ»¤å™¨æ—¶ï¼ŒæŒ‰ <code>FilterRegistrationBean</code> çš„é¡ºåºæˆ–æ³¨å†Œé¡ºåºæ‰§è¡Œ</p><p><img src="https://lambda-image-1.pages.dev/Filter(%E8%BF%87%E6%BB%A4%E5%99%A8).drawio.png" alt="Filter(è¿‡æ»¤å™¨).drawio"></p><p>è¿‡æ»¤å™¨å¯ä»¥æ‹¿åˆ°<strong>è¯·æ±‚æ•°æ®</strong>ï¼š<code>ServletRequest</code>ï¼ˆå¦‚è¯·æ±‚ URLã€Headersã€Body ç­‰ï¼‰ã€‚<strong>å“åº”æ•°æ®</strong>ï¼š<code>ServletResponse</code>ï¼ˆå¦‚è®¾ç½®å“åº”çš„çŠ¶æ€ç ã€Headers ç­‰ï¼‰ã€‚å¸¸ç”¨äº:â‘ è¯·æ±‚/å“åº”çš„æ—¥å¿—è®°å½•ã€‚â‘¡å®‰å…¨è®¤è¯ä¸æˆæƒï¼ˆå¦‚æ£€æŸ¥ Header çš„ Tokenï¼‰ã€‚â‘¢è®¾ç½®ç¼–ç æ ¼å¼ï¼ˆå¦‚ <code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code>ï¼‰ã€‚â‘£å¤„ç†è·¨åŸŸè¯·æ±‚ï¼ˆCORSï¼‰ã€‚â‘¤è¯·æ±‚/å“åº”çš„æµæ“ä½œï¼ˆå¦‚å‹ç¼©å“åº”å†…å®¹ï¼‰ã€‚</p><h3 id="è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ">è¿‡æ»¤å™¨çš„ç”Ÿå‘½å‘¨æœŸ</h3><ul><li><p>init()ï¼š åˆå§‹åŒ–Filter å®ä¾‹ï¼ŒFilter çš„ç”Ÿå‘½å‘¨æœŸä¸ Servlet æ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯å½“ Web å®¹å™¨ï¼ˆtomcatï¼‰å¯åŠ¨æ—¶ï¼Œè°ƒç”¨ init() æ–¹æ³•åˆå§‹åŒ–å®ä¾‹ï¼ŒFilteråªä¼šåˆå§‹åŒ–ä¸€æ¬¡ã€‚éœ€è¦è®¾ç½®åˆå§‹åŒ–å‚æ•°çš„æ—¶å€™ï¼Œå¯ä»¥å†™åˆ°init()æ–¹æ³•ä¸­ã€‚</p></li><li><p>doFilter()ï¼š ä¸šåŠ¡å¤„ç†ï¼Œæ‹¦æˆªè¦æ‰§è¡Œçš„è¯·æ±‚ï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œå¤„ç†ï¼Œä¸€èˆ¬éœ€è¦å¤„ç†çš„ä¸šåŠ¡æ“ä½œéƒ½åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å®ç°</p></li><li><p>destroy() ï¼š é”€æ¯å®ä¾‹ï¼Œå…³é—­å®¹å™¨æ—¶è°ƒç”¨ destroy() é”€æ¯ Filter çš„å®ä¾‹ã€‚</p></li></ul><h3 id="è¿‡æ»¤å™¨çš„ä½¿ç”¨">è¿‡æ»¤å™¨çš„ä½¿ç”¨</h3><p>é¦–å…ˆå®ç° <code>javax.servlet.Filter</code> æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Lambda</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: è‡ªå®šä¹‰è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2025/1/5 ä¸Šåˆ11:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Initializing MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// å‰ç½®å¤„ç†é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Request processing in MyFilter&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–ç›®æ ‡èµ„æº</span></span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åç½®å¤„ç†é€»è¾‘ï¼ˆå“åº”å¤„ç†ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Response processing in MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// é‡Šæ”¾èµ„æºï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Destroying MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°è¯·æ±‚çš„å†…å®¹<code>ServletRequest</code>,å“åº”çš„å†…å®¹<code>ServletResponse</code>,è·å–è¯·æ±‚çš„å†…å®¹å¾ˆç®€å•,åªè¦ç›´æ¥æ“ä½œ<code>ServletRequest</code>å°±è¡Œ,ä½†è·å–å“åº”å†…å®¹,å•é <code>ServletResponse</code>ç°åœ¨è¿™æ ·è¿˜æ˜¯ä¸è¡Œçš„,ä»¥ä¸‹æ˜¯<code>ServletResponse</code>æ— æ³•è·å–å“åº”å†…å®¹çš„åŸå› </p><ul><li>ServletResponse çš„å·¥ä½œæ–¹å¼</li></ul><p><code>ServletResponse</code> æ˜¯ç”¨äº<strong>å†™å…¥å“åº”</strong>ï¼ˆè€Œä¸æ˜¯è¯»å–ï¼‰çš„æ¥å£ã€‚å®ƒçš„ä¸»è¦èŒè´£æ˜¯å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œä¾‹å¦‚ HTMLã€JSONã€æ–‡ä»¶æµç­‰ã€‚æ•°æ®ä¸€æ—¦å†™å…¥åˆ°è¾“å‡ºæµï¼ˆ<code>OutputStream</code> æˆ– <code>Writer</code>ï¼‰ï¼Œä¼šè¢«ç›´æ¥å‘é€åˆ°å®¢æˆ·ç«¯æˆ–ç¼“å­˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¿ç•™åœ¨æœåŠ¡ç«¯ã€‚å¹¶ä¸”å†™å…¥ä¸å¯é€†,æ•°æ®å†™å…¥è¾“å‡ºæµåï¼Œç³»ç»Ÿå‡å®šå®ƒå·²å‘é€ï¼ŒåŸå§‹æ•°æ®ä¸ä¼šè¢«å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œæ— æ³•é€šè¿‡ <code>ServletResponse</code> ç›´æ¥è¯»å–å·²å†™å…¥çš„æ•°æ®ã€‚</p><ul><li>ServletOutputStream æ˜¯ä¸€ä¸ªå•å‘æµ</li></ul><p><code>ServletResponse</code> æä¾›çš„ <code>ServletOutputStream</code> å’Œ <code>PrintWriter</code> éƒ½æ˜¯é¢å‘è¾“å‡ºçš„<strong>å•å‘æµ</strong>ï¼Œè®¾è®¡ç›®çš„æ˜¯å°†æ•°æ®ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯ã€‚å•å‘æµçš„ç‰¹ç‚¹æ˜¯æ•°æ®å†™å…¥åæ— æ³•ç›´æ¥è¯»å–ã€‚å¹¶ä¸”æ²¡æœ‰â€œå›è¯»â€æœºåˆ¶,ä¸€æ—¦æ•°æ®å†™å…¥æµä¸­ï¼Œå°±ä¼šæµå‘ç½‘ç»œå±‚æˆ–ç¼“å†²åŒºï¼Œ<code>ServletOutputStream</code> æœ¬èº«æ²¡æœ‰èƒ½åŠ›ç¼“å­˜æˆ–é‡ç°è¿™äº›æ•°æ®ã€‚</p><ul><li>æ•°æ®æµçš„å‘é€è·¯å¾„</li></ul><p>HTTP å“åº”çš„å¤„ç†æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼šâ‘ <strong>æœåŠ¡å™¨ç«¯ç”Ÿæˆå“åº”å†…å®¹ï¼š</strong> é€šè¿‡ <code>ServletResponse</code> çš„æµæ¥å£å°†æ•°æ®å†™å…¥ã€‚â‘¡<strong>æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ï¼š</strong> é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œæ•°æ®è¢«å‘é€åˆ°å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰ã€‚â‘¢<strong>å®¢æˆ·ç«¯æ¥æ”¶å¹¶æ¸²æŸ“å“åº”ï¼š</strong> å®¢æˆ·ç«¯è§£æ HTTP å“åº”å¤´å’Œä¸»ä½“å¹¶è¿›è¡Œå¤„ç†ã€‚</p><p>åœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œ<code>ServletResponse</code> çš„ä½œç”¨æ˜¯æ•°æ®çš„â€œå‘é€è€…â€ï¼Œå®ƒä¸è´Ÿè´£å­˜å‚¨æˆ–è®°å½•å·²å‘é€çš„æ•°æ®ã€‚</p><ul><li>ServletResponse çš„è®¾è®¡åŸåˆ™</li></ul><p><code>ServletResponse</code> éµå¾ªäº† Java çš„ <strong>å•ä¸€èŒè´£åŸåˆ™</strong> å’Œ <strong>æµå¼å¤„ç†</strong> è®¾è®¡ç†å¿µï¼šâ‘ å•ä¸€èŒè´£ï¼š<code>ServletResponse</code> çš„èŒè´£æ˜¯ç”Ÿæˆå’Œå‘é€ HTTP å“åº”ï¼Œè€Œä¸æ˜¯å­˜å‚¨æ•°æ®ã€‚â‘¡æµå¼å¤„ç†ï¼šé€šè¿‡æµçš„æ–¹å¼èŠ‚çº¦å†…å­˜ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§æ•°æ®é‡çš„å“åº”æ—¶ï¼Œå¯ä»¥é¿å…å†…å­˜æº¢å‡ºã€‚</p><p>ä»ä»¥ä¸Šå‡ ä¸ªæ–¹é¢è¡¨æ˜<code>ServletResponse</code>ä¸­æ˜¯æ— æ³•è·å–åˆ°å“åº”æ•°æ®çš„ï¼Œé‚£ä¹ˆæ”¹å¦‚ä½•è·å–åˆ°å“åº”çš„æ•°æ®å‘¢ï¼Ÿè™½ç„¶æ— æ³•ç›´æ¥é€šè¿‡ <code>ServletResponse</code> è·å–å†…å®¹ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼šâ‘ <strong>åŒ…è£…å“åº”å¯¹è±¡ï¼š</strong> ä½¿ç”¨ <code>HttpServletResponseWrapper</code>ï¼Œå°†æ•°æ®å†™å…¥ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒºï¼Œæ•è·è¾“å‡ºå†…å®¹ã€‚â‘¡<strong>ä»£ç†è¾“å‡ºæµï¼š</strong> è‡ªå®šä¹‰ <code>ServletOutputStream</code> æˆ– <code>PrintWriter</code>ï¼Œå°†æ‰€æœ‰å†™å…¥çš„æ•°æ®åŒæ—¶è®°å½•åˆ°ç¼“å†²åŒºä¸­ï¼Œä¾›åç»­è¯»å–ã€‚</p><p>ä»¥ä¸‹æ˜¯æ•è·å“åº”å†…å®¹çš„ç¤ºä¾‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponseWrapper;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CapturingResponseWrapper</span> <span class="keyword">extends</span> <span class="title class_">HttpServletResponseWrapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">ByteArrayOutputStream</span> <span class="variable">buffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="built_in">this</span>.buffer);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CapturingResponseWrapper</span><span class="params">(HttpServletResponse response)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletOutputStream <span class="title function_">getOutputStream</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServletOutputStreamWrapper</span>(<span class="built_in">this</span>.buffer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PrintWriter <span class="title function_">getWriter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.writer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flushBuffer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ç¡®ä¿å­—ç¬¦æµä¸­çš„å†…å®¹å†™å…¥ç¼“å†²åŒº</span></span><br><span class="line">            <span class="built_in">this</span>.writer.flush();</span><br><span class="line">            <span class="comment">// ç¡®ä¿ç¼“å†²åŒºæ•°æ®å®Œæ•´</span></span><br><span class="line">            <span class="built_in">this</span>.buffer.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Error flushing buffer&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getContent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç¡®ä¿æ‰€æœ‰æ•°æ®å†™å…¥ç¼“å†²åŒº</span></span><br><span class="line">        <span class="built_in">this</span>.flushBuffer();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="built_in">this</span>.buffer.toByteArray(), StandardCharsets.UTF_8);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">ServletOutputStreamWrapper</span> <span class="keyword">extends</span> <span class="title class_">ServletOutputStream</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> ByteArrayOutputStream outputStream;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">ServletOutputStreamWrapper</span><span class="params">(ByteArrayOutputStream outputStream)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.outputStream = outputStream;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> b)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.outputStream.write(b);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isReady</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWriteListener</span><span class="params">(javax.servlet.WriteListener writeListener)</span> &#123;</span><br><span class="line">            <span class="comment">// No-op</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¹‹å‰çš„<code>MyFilter</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Lambda</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: è‡ªå®šä¹‰è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2025/1/5 ä¸Šåˆ11:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Initializing MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// å‰ç½®å¤„ç†é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Request processing in MyFilter&quot;</span>);</span><br><span class="line">        <span class="type">CapturingResponseWrapper</span> <span class="variable">capturingResponseWrapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CapturingResponseWrapper</span>((HttpServletResponse) response);</span><br><span class="line">        <span class="comment">// ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–ç›®æ ‡èµ„æº</span></span><br><span class="line">        chain.doFilter(request, capturingResponseWrapper);</span><br><span class="line">        <span class="comment">//æ‰“å°å“åº”çš„å†…å®¹</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">content</span> <span class="operator">=</span> capturingResponseWrapper.getContent();</span><br><span class="line">        System.out.println(<span class="string">&quot;Response content &quot;</span> + content);</span><br><span class="line">        <span class="comment">// åç½®å¤„ç†é€»è¾‘ï¼ˆå“åº”å¤„ç†ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Response processing in MyFilter&quot;</span>);</span><br><span class="line">        <span class="comment">//è·å–å®Œå“åº”çš„å†…å®¹åè®°å¾—æŠŠæ•°æ®é‡æ–°å†™å…¥ServletResponse</span></span><br><span class="line">        response.getWriter().write(content);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// é‡Šæ”¾èµ„æºï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Destroying MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»è·å–åˆ°äº†å“åº”çš„å†…å®¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250105122316109.png" alt="image-20250105122316109"></p><h3 id="æ³¨å†Œè¿‡æ»¤å™¨">æ³¨å†Œè¿‡æ»¤å™¨</h3><h4 id="é€šè¿‡-Component-æ³¨è§£">é€šè¿‡ <code>@Component</code> æ³¨è§£</h4><p>å°†è‡ªå®šä¹‰è¿‡æ»¤å™¨å£°æ˜ä¸º Spring çš„ç»„ä»¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Lambda</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: è‡ªå®šä¹‰è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2025/1/5 ä¸Šåˆ11:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Initializing MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span></span><br><span class="line">            <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="comment">// å‰ç½®å¤„ç†é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Request processing in MyFilter&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–ç›®æ ‡èµ„æº</span></span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åç½®å¤„ç†é€»è¾‘ï¼ˆå“åº”å¤„ç†ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Response processing in MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// é‡Šæ”¾èµ„æºï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Destroying MyFilter&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹ç‚¹ï¼šè‡ªåŠ¨æ³¨å†Œï¼Œä¸éœ€è¦é¢å¤–é…ç½®ã€‚é»˜è®¤å¯¹æ‰€æœ‰è¯·æ±‚ç”Ÿæ•ˆã€‚</p><h4 id="é€šè¿‡-FilterRegistrationBean">é€šè¿‡ <code>FilterRegistrationBean</code></h4><p>å¦‚æœéœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼ˆå¦‚è®¾ç½®ç‰¹å®š URL æ˜ å°„æˆ–é¡ºåºï¼‰ï¼Œä½¿ç”¨ <code>FilterRegistrationBean</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.web.servlet.FilterRegistrationBean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilterConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean&lt;MyFilter&gt; <span class="title function_">myFilterRegistration</span><span class="params">()</span> &#123;</span><br><span class="line">        FilterRegistrationBean&lt;MyFilter&gt; registrationBean = <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ³¨å†Œè‡ªå®šä¹‰è¿‡æ»¤å™¨</span></span><br><span class="line">        registrationBean.setFilter(<span class="keyword">new</span> <span class="title class_">MyFilter</span>());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®è¿‡æ»¤å™¨è·¯å¾„</span></span><br><span class="line">        registrationBean.addUrlPatterns(<span class="string">&quot;/api/*&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®è¿‡æ»¤å™¨é¡ºåºï¼ˆå€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼‰</span></span><br><span class="line">        registrationBean.setOrder(<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> registrationBean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰">Interceptorï¼ˆæ‹¦æˆªå™¨ï¼‰</h2><p>æ‹¦æˆªå™¨ä¹Ÿæ˜¯Springçš„æ‹¦æˆªæœºåˆ¶ä¹‹ä¸€ï¼Œä½œç”¨èŒƒå›´åœ¨ <strong>Spring MVC å±‚</strong>ï¼Œä½œç”¨äºå¤„ç†å™¨ï¼ˆControllerï¼‰çš„è°ƒç”¨ã€‚åŸºäº <code>HandlerInterceptor</code> æ¥å£ã€‚è°ƒç”¨é¡ºåºåœ¨è¿‡æ»¤å™¨ä¹‹åï¼Œåˆ‡é¢ä¹‹å‰æ‰§è¡Œã€‚å†…éƒ¨çš„è°ƒç”¨é¡ºåºæŒ‰ <code>WebMvcConfigurer</code> ä¸­æ³¨å†Œé¡ºåºæ‰§è¡Œã€‚å¯ä»¥æ‹¿åˆ°çš„æ•°æ®ï¼šâ‘ <strong>è¯·æ±‚æ•°æ®</strong>ï¼š<code>HttpServletRequest</code>ï¼Œ<code>HttpServletResponse</code>ã€‚â‘¡<strong>å¤„ç†å™¨ä¿¡æ¯</strong>ï¼šç›®æ ‡ <code>Handler</code>ï¼ˆé€šå¸¸æ˜¯ Controller æ–¹æ³•ï¼‰ã€‚åŠŸèƒ½ï¼šâ‘ <strong>è¯·æ±‚é¢„å¤„ç†</strong>ï¼šåœ¨è¯·æ±‚åˆ°è¾¾ Controller ä¹‹å‰è¿›è¡Œå¤„ç†ã€‚â‘¡<strong>å“åº”åå¤„ç†</strong>ï¼šåœ¨ Controller è¿”å›ç»“æœåä½†å°šæœªç”Ÿæˆå“åº”æ—¶è¿›è¡Œå¤„ç†ã€‚â‘¢<strong>å¼‚å¸¸å¤„ç†</strong>ï¼šæ•è· Controller å‘ç”Ÿçš„å¼‚å¸¸ã€‚â‘£<strong>ä¼šè¯ç®¡ç†</strong>ï¼šéªŒè¯ç”¨æˆ·ä¼šè¯ã€æ£€æŸ¥æƒé™ç­‰ã€‚</p><h3 id="æ‹¦æˆªå™¨ç”Ÿå‘½å‘¨æœŸ">æ‹¦æˆªå™¨ç”Ÿå‘½å‘¨æœŸ</h3><p>æˆ‘ä»¬ä¸»è¦æ¥è§¦çš„ç”Ÿå‘½å‘¨æœŸåªæœ‰<code>preHandle</code>,<code>postHandler</code>ï¼Œ<code>afterCompletion</code></p><p><img src="https://lambda-image-1.pages.dev/%E6%8B%A6%E6%88%AA%E5%99%A8.drawio.png" alt="æ‹¦æˆªå™¨.drawio"></p><h3 id="æ‹¦æˆªå™¨çš„ä½¿ç”¨">æ‹¦æˆªå™¨çš„ä½¿ç”¨</h3><p>å®ç° <code>HandlerInterceptor</code> æ¥å£ï¼Œåˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lambda.projectcore.aspect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†å™¨æ–¹æ³•è°ƒç”¨å‰æ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle: è¯·æ±‚è¢«æ‹¦æˆª&quot;</span>);</span><br><span class="line">        <span class="comment">// å¯ä»¥é€šè¿‡è¿”å› false æ¥é˜»æ­¢è¯·æ±‚ç»§ç»­</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†å™¨æ–¹æ³•è°ƒç”¨åæ‰§è¡Œï¼ˆä½†è§†å›¾æœªæ¸²æŸ“ï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle: æ–¹æ³•æ‰§è¡Œå®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯·æ±‚å¤„ç†å®Œæˆåæ‰§è¡Œï¼ˆåŒ…æ‹¬è§†å›¾æ¸²æŸ“åï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion: è¯·æ±‚å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹¦æˆªå™¨ä¸­è·å–å“åº”çš„å†…å®¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.MethodParameter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.converter.HttpMessageConverter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpRequest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.server.ServerHttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.RequestContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.ServletRequestAttributes;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterceptResponse</span> <span class="keyword">implements</span> <span class="title class_">ResponseBodyAdvice</span>&lt;Object&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Integer</span> <span class="variable">MAX_LENGTH</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">supports</span><span class="params">(MethodParameter methodParameter, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">beforeBodyWrite</span><span class="params">(Object body, MethodParameter methodParameter, MediaType mediaType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass, ServerHttpRequest serverHttpRequest, ServerHttpResponse serverHttpResponse)</span> &#123;</span><br><span class="line"></span><br><span class="line">        String result;</span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            result = objectMapper.writeValueAsString(body);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (JsonProcessingException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;JSONè½¬æ¢å¤±è´¥&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">length</span> <span class="operator">=</span> result.length();</span><br><span class="line">        result = result.substring(<span class="number">0</span>, length);</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">httpServletRequest</span> <span class="operator">=</span> ((ServletRequestAttributes)</span><br><span class="line">                RequestContextHolder.getRequestAttributes()).getRequest();</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">httpSession</span> <span class="operator">=</span> httpServletRequest.getSession(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//æ”¾åˆ°ç¼“å­˜é‡Œï¼Œä»¥ä¾¿äºå¯ä»¥åœ¨HandlerInterceptoræ‹¦æˆªé‡Œå–å‡ºå¹¶æ‰“å°å‡ºè¿”å›ç»“æœ</span></span><br><span class="line">        httpSession.setAttribute(<span class="string">&quot;body&quot;</span>, result);</span><br><span class="line">        <span class="keyword">return</span> body;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹<code>CustomInterceptor</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†å™¨æ–¹æ³•è°ƒç”¨å‰æ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle: è¯·æ±‚è¢«æ‹¦æˆª&quot;</span>);</span><br><span class="line">        <span class="comment">// å¯ä»¥é€šè¿‡è¿”å› false æ¥é˜»æ­¢è¯·æ±‚ç»§ç»­</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†å™¨æ–¹æ³•è°ƒç”¨åæ‰§è¡Œï¼ˆä½†è§†å›¾æœªæ¸²æŸ“ï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle: æ–¹æ³•æ‰§è¡Œå®Œæˆ&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯·æ±‚å¤„ç†å®Œæˆåæ‰§è¡Œï¼ˆåŒ…æ‹¬è§†å›¾æ¸²æŸ“åï¼‰</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion: è¯·æ±‚å®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">httpSession</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> (String) httpSession.getAttribute(<span class="string">&quot;body&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion: å“åº”å†…å®¹ï¼š&quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè·å–åˆ°äº†å“åº”çš„å†…å®¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250105133042363.png" alt="image-20250105133042363"></p><h3 id="æ³¨å†Œæ‹¦æˆªå™¨">æ³¨å†Œæ‹¦æˆªå™¨</h3><p>åœ¨ Spring ä¸­ï¼Œéœ€è¦å°†æ‹¦æˆªå™¨æ³¨å†Œåˆ°æ‹¦æˆªå™¨é“¾ä¸­ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>WebMvcConfigurer</code> æ¥å£æ¥å®Œæˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lambda.projectcore.aspect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomInterceptor customInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(customInterceptor)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)         <span class="comment">// æ‹¦æˆªæ‰€æœ‰è¯·æ±‚</span></span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/login&quot;</span>, <span class="string">&quot;/static/**&quot;</span>); <span class="comment">// æ’é™¤ç‰¹å®šè·¯å¾„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.jetbrains.com/idea/&quot;&gt;IDEAä¸“ä¸šç‰ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="åç«¯å¼€å‘" scheme="https://www.wikunkun.asia/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Java" scheme="https://www.wikunkun.asia/tags/Java/"/>
    
    <category term="SpringBoot" scheme="https://www.wikunkun.asia/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>å®å¯æ¢¦é“å…·åˆ—è¡¨</title>
    <link href="https://www.wikunkun.asia/posts/85880b56.html"/>
    <id>https://www.wikunkun.asia/posts/85880b56.html</id>
    <published>2024-12-22T14:22:28.000Z</published>
    <updated>2024-12-23T03:45:40.964Z</updated>
    
    <content type="html"><![CDATA[<table><thead><tr><th>å›¾ç‰‡</th><th style="text-align:left">åç§°</th><th style="text-align:left">ä»·æ ¼</th><th style="text-align:left">è·å–é€”å¾„</th><th style="text-align:left">åœ°åŒº</th><th style="text-align:left">æ•ˆæœ</th></tr></thead><tbody><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qhWUSrKLZBu5RTEtIvlJNb.png" alt="AgAABm2M50qhWUSrKLZBu5RTEtIvlJNb"></td><td style="text-align:left">å¥‡è¿¹ç§å­</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">å­¦é™¢</td><td style="text-align:left">å­•è‚²ç”Ÿå‘½çš„ç§å­ã€‚æºå¸¦åï¼Œè‰å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rC_CtYfu9Co6rsODcj4CF9.png" alt="AgAABm2M50rC_CtYfu9Co6rsODcj4CF9"></td><td style="text-align:left">æœ¨ç‚­</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">ç„šçƒ§ç”¨çš„ç‡ƒæ–™ã€‚æºå¸¦åï¼Œç«å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qADugP5gZKtb51C2NJu6Q0.png" alt="AgAABm2M50qADugP5gZKtb51C2NJu6Q0"></td><td style="text-align:left">ç¥ç§˜æ°´ç </td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æ°´æ»´å½¢çŠ¶çš„å®çŸ³ã€‚æºå¸¦åï¼Œæ°´å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rL0PRd5eRDUopCAYInZvTD.png" alt="AgAABm2M50rL0PRd5eRDUopCAYInZvTD"></td><td style="text-align:left">ä¸ç»¸å›´å·¾</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æ‰‹æ„Ÿä¸é”™çš„å›´å·¾ã€‚æºå¸¦åï¼Œä¸€èˆ¬å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oMIcxveiBF8LSk9S2SVAbJ.png" alt="AgAABm2M50oMIcxveiBF8LSk9S2SVAbJ"></td><td style="text-align:left">é”åˆ©é¸Ÿå˜´</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">åˆé•¿åˆå°–çš„é¸Ÿå˜´ã€‚æºå¸¦åï¼Œé£è¡Œå±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ofSAZagDZAUpDaZu7nZHnB.png" alt="AgAABm2M50ofSAZagDZAUpDaZu7nZHnB"></td><td style="text-align:left">é“¶ç²‰</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">é“¶è‰²å…‰è¾‰çš„ç²‰æœ«ã€‚æºå¸¦åï¼Œè™«å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rDSot92N9Fz4iLK15sB6AL.png" alt="AgAABm2M50rDSot92N9Fz4iLK15sB6AL"></td><td style="text-align:left">åŠ›é‡å¤´å¸¦</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">åŠ›å¦‚æ³‰æ¶Œçš„å¤´å¸¦ã€‚æºå¸¦åï¼Œç‰©ç†æ‹›å¼çš„å¨åŠ›å°±ä¼šå°‘é‡æé«˜ã€‚ ï¼ˆ1.1å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q9qAWf-ZRNyJN89ea2dupS.png" alt="AgAABm2M50q9qAWf-ZRNyJN89ea2dupS"></td><td style="text-align:left">åšè¯†çœ¼é•œ</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">è£…ç€å¾ˆåšé•œç‰‡çš„çœ¼ç›ã€‚æºå¸¦åï¼Œç‰¹æ®Šæ‹›å¼çš„å¨åŠ›å°±ä¼šå°‘é‡æé«˜ã€‚ ï¼ˆ1.1å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rKgWekQYlFyoXtrDnH3gNc.png" alt="AgAABm2M50rKgWekQYlFyoXtrDnH3gNc"></td><td style="text-align:left">æ‹³å‡»æ‰‹å¥—</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">ä¿æŠ¤æ‹³å¤´çš„æ‰‹å¥—ã€‚æºå¸¦åï¼Œæ‹³å‡»æ‹›å¼çš„å¨åŠ›ä¼šæé«˜ ï¼ˆ1.1å€ï¼‰ ï¼Œä¸”å˜å¾—æ‹³å‡»æ—¶ä¸ä¼šæ¥  è§¦åˆ°å¯¹æ‰‹ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oB1BSPHxxPaKaIVt-mlp4q.png" alt="AgAABm2M50oB1BSPHxxPaKaIVt-mlp4q"></td><td style="text-align:left">è¾¾äººå¸¦</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">ç”¨æƒ¯äº†çš„é»‘è‰²å¸¦å­ã€‚æºå¸¦åï¼Œæ•ˆæœç»ä½³æ—¶çš„æ‹›å¼å¨åŠ›å°±ä¼šå°‘é‡æé«˜ã€‚ ï¼ˆ1.2å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pPPZNRwpdLwpseFhodK_ph.png" alt="AgAABm2M50pPPZNRwpdLwpseFhodK_ph"></td><td style="text-align:left">æ°”åŠ¿å¤´å¸¦</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æºå¸¦åï¼Œå³ä½¿å—åˆ°å¯èƒ½ä¼šå¯¼è‡´æ˜å¥çš„æ‹›å¼ï¼Œæœ‰æ—¶ ï¼ˆ10%ï¼‰ ä¹Ÿèƒ½ä»…ä»¥1HPæ’‘è¿‡å»1æ¬¡ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qblOjZyHpFh6IhIdJpmooX.png" alt="AgAABm2M50qblOjZyHpFh6IhIdJpmooX"></td><td style="text-align:left">æ°”åŠ¿æŠ«å¸¦</td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æºå¸¦åï¼Œåœ¨HPå…¨æ»¡æ—¶ï¼Œå³ä½¿å—åˆ°å¯èƒ½ä¼šå¯¼è‡´æ˜å¥çš„æ‹›å¼ï¼Œä¹Ÿèƒ½ä»…ä»¥1HPæ’‘è¿‡å»1æ¬¡ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/Dream_%E8%AE%B2%E7%A9%B6%E5%A4%B4%E5%B8%A6_Sprite.png" alt="Dream_è®²ç©¶å¤´å¸¦_Sprite" style="zoom:56%;" /></td><td style="text-align:left">è®²ç©¶å¤´å¸¦</td><td style="text-align:left">100000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æœ‰ç‚¹è®²ç©¶çš„å¤´å¸¦ã€‚è™½ç„¶æºå¸¦åæ”»å‡»ä¼šæé«˜ 1.5å€ ï¼Œä½†åªèƒ½ä½¿å‡ºç›¸åŒçš„æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oVEnylDdJAJb9LU_6UYMLN.png" alt="AgAABm2M50oVEnylDdJAJb9LU_6UYMLN"></td><td style="text-align:left">è®²ç©¶çœ¼é•œ</td><td style="text-align:left">100000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æœ‰ç‚¹è®²ç©¶çš„å¤´å¸¦ã€‚è™½ç„¶æºå¸¦åç‰¹æ”»ä¼šæé«˜ 1.5å€ ï¼Œä½†åªèƒ½ä½¿å‡ºç›¸åŒçš„æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50o0_0wTPkBMBpicNTpklxnv.png" alt="AgAABm2M50o0_0wTPkBMBpicNTpklxnv"></td><td style="text-align:left">è®²ç©¶å›´å·¾</td><td style="text-align:left">100000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æœ‰ç‚¹è®²ç©¶çš„å¤´å¸¦ã€‚è™½ç„¶æºå¸¦åé€Ÿåº¦ä¼šæé«˜ 1.5å€ ï¼Œä½†åªèƒ½ä½¿å‡ºç›¸åŒçš„æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50r4j4eqVuZKjYw6OELyLFa0.png" alt="AgAABm2M50r4j4eqVuZKjYw6OELyLFa0"></td><td style="text-align:left">ç”Ÿå‘½å®ç </td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æºå¸¦åï¼Œè™½ç„¶æ¯æ¬¡æ”»å‡»æ—¶ HPå‡å°‘æœ€å¤§HPçš„1/10 ï¼Œä½†æ‹›å¼çš„å¨åŠ›ä¼šæé«˜ 1.3å€</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oOXnh3EsFD_am8fAZvjgL9.png" alt="AgAABm2M50oOXnh3EsFD_am8fAZvjgL9"></td><td style="text-align:left">ç‰¹æ€§æŠ¤å…·</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">å¯çˆ±è€Œæœ‰ä¸ªæ€§çš„ç›¾ã€‚æºå¸¦åï¼Œç‰¹æ€§ä¸ä¼šè¢«å¯¹æ‰‹æ”¹å˜ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pa3hpBNhtBcrSOti80nY3v.png" alt="AgAABm2M50pa3hpBNhtBcrSOti80nY3v"></td><td style="text-align:left">æ¸…å‡€æŠ¤å…·</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">å…‰èŠ’æ™¶è¹å‰”é€çš„å é¥°ã€‚æºå¸¦åï¼Œä¸ä¼šå› ä¸ºå¯¹æ‰‹çš„æ‹›å¼æˆ–ç‰¹æ€§è€Œè¢«é™ä½èƒ½åŠ›ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oGYtQQny9DAomlk6kh0eWd.png" alt="AgAABm2M50oGYtQQny9DAomlk6kh0eWd"></td><td style="text-align:left">å‡¸å‡¸å¤´ç›”</td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œèƒ½å¯¹è§¦ç¢°åˆ°è‡ªå·±çš„å¯¹æ‰‹é€ æˆ HPçš„1/6çš„ ä¼¤å®³</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oHvnClUSBM-6b34jMXgTq3.png" alt="AgAABm2M50oHvnClUSBM-6b34jMXgTq3"></td><td style="text-align:left">è¿›åŒ–å¥‡çŸ³</td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">è¿›åŒ–çš„ç¥å¥‡çŸ³å—ã€‚æºå¸¦åï¼Œè¿˜èƒ½è¿›åŒ–çš„å®å¯æ¢¦çš„é˜²å¾¡å’Œç‰¹é˜²å°±ä¼šæé«˜ 1.5å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rNVg3YSthEMbMPNY55g6GQ.png" alt="AgAABm2M50rNVg3YSthEMbMPNY55g6GQ"></td><td style="text-align:left">çªå‡»èƒŒå¿ƒ</td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">ä¼šå˜å¾—å¯Œæœ‰æ”»å‡»æ€§çš„èƒŒå¿ƒã€‚è™½ç„¶æºå¸¦åç‰¹é˜²ä¼šæé«˜ 1.5å€ ï¼Œä½†ä¼šæ— æ³•ä½¿å‡ºå˜åŒ–æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pe6n-iab9O5559LWdb4AYP.png" alt="AgAABm2M50pe6n-iab9O5559LWdb4AYP"></td><td style="text-align:left">å…ˆåˆ¶ä¹‹çˆª</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">åˆè½»åˆå°–é”çš„çˆªå­ã€‚æºå¸¦åï¼Œæœ‰æ—¶ ï¼ˆ20%ï¼‰ èƒ½æ¯”å¯¹æ‰‹å…ˆä¸€æ­¥è¡ŒåŠ¨ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oFR9wInKpAL45oy_z2SMnt.png" alt="AgAABm2M50oFR9wInKpAL45oy_z2SMnt"></td><td style="text-align:left">é”åˆ©ä¹‹çˆª</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">å°–é”çš„çˆªå­ã€‚æºå¸¦åï¼Œæ‹›å¼ä¼šå˜å¾—å®¹æ˜“å‡»ä¸­è¦å®³ã€‚ ï¼ˆ1é˜¶æ®µï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oQSPBmNktF0YRorB4xOVTX.png" alt="AgAABm2M50oQSPBmNktF0YRorB4xOVTX"></td><td style="text-align:left">ç´§ç¼ é’©çˆª</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æºå¸¦åï¼Œç»‘ç´§ä»¥åŠç´§æŸç­‰ä¼šæŒç»­é€ æˆä¼¤å®³çš„æ‹›å¼çš„å›åˆæ•°ä¼šå¢åŠ ã€‚ ï¼ˆ5å›åˆå˜ä¸º7å›  åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rA26M245xMm7tuA6MlcS6A.png" alt="AgAABm2M50rA26M245xMm7tuA6MlcS6A"></td><td style="text-align:left">ç‹è€…ä¹‹è¯</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æºå¸¦åè¿›è¡Œæ”»å‡»ï¼Œåœ¨é€ æˆä¼¤å®³æ—¶ï¼Œæœ‰æ—¶ ï¼ˆ10%ï¼‰ ä¼šè®©å¯¹æ‰‹ç•ç¼©ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oUDxvACSVGgrCD--4JlkLv.png" alt="AgAABm2M50oUDxvACSVGgrCD--4JlkLv"></td><td style="text-align:left">å¼±ç‚¹ä¿é™©</td><td style="text-align:left">50000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">è¢«é’ˆå¯¹å¼±ç‚¹æ—¶ï¼Œæ”»å‡»å’Œç‰¹æ”»å°±ä¼šå¤§å¹…æé«˜ã€‚ ï¼ˆ2é˜¶æ®µï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50otodcTElVDno_kTmWRV89x.png" alt="AgAABm2M50otodcTElVDno_kTmWRV89x"></td><td style="text-align:left">æ‰“ç©ºä¿é™©</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">æ‹›å¼å› å‘½ä¸­ç‡å½±å“è€Œè½ç©ºæ—¶ï¼Œé€Ÿåº¦ä¼šå¤§å¹…æé«˜ã€‚ ï¼ˆ2é˜¶æ®µï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50p9lk9OphhIKLjBUYB23q8r.png" alt="AgAABm2M50p9lk9OphhIKLjBUYB23q8r"></td><td style="text-align:left">çˆ½å–‰å–·é›¾</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">ä½¿ç”¨å£°éŸ³ç›¸å…³çš„æ‹›å¼æ—¶ï¼Œç‰¹æ”»ä¼šæé«˜ 1é˜¶æ®µã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rqqN9Yvr5O37YcSIsy9U1l.png" alt="AgAABm2M50rqqN9Yvr5O37YcSIsy9U1l"></td><td style="text-align:left">çº¢çº¿</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">æ¡Œå°å¸‚ï¼ˆå­¦é™¢ï¼‰</td><td style="text-align:left">é•¿é•¿çš„é²œçº¢è‰²ç»†çº¿ã€‚æºå¸¦åï¼Œåœ¨è‡ªå·±ç€è¿·æ—¶èƒ½è®©å¯¹æ‰‹ä¹Ÿç€è¿·ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rHKiUcXMFJWL-I0lN_BoWC.png" alt="AgAABm2M50rHKiUcXMFJWL-I0lN_BoWC"></td><td style="text-align:left">ç£é“</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å¼ºåŠ›çš„ç£é“ã€‚æºå¸¦åï¼Œç”µå±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rbjgGX7pJJ4afksm8r-OkX.png" alt="AgAABm2M50rbjgGX7pJJ4afksm8r-OkX"></td><td style="text-align:left">ç¡¬çŸ³å¤´</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ç»å¯¹ä¸ä¼šè£‚å¼€çš„çŸ³å¤´ã€‚æºå¸¦åï¼Œå²©çŸ³å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rp3z3he3RNb7bGWtvLTkjI.png" alt="AgAABm2M50rp3z3he3RNb7bGWtvLTkjI"></td><td style="text-align:left">æ¯’é’ˆ</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æœ‰æ¯’çš„å°é’ˆã€‚æºå¸¦åï¼Œæ¯’å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q07gtBu8BM2IcZFkOaw2pE.png" alt="AgAABm2M50q07gtBu8BM2IcZFkOaw2pE"></td><td style="text-align:left">å’’æœ¯ä¹‹ç¬¦</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å¤æ€ªå¯æ€•çš„å’’ç¬¦ã€‚æºå¸¦åï¼Œå¹½çµå±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q93LkZNTNEfLWI3IizVuOX.png" alt="AgAABm2M50q93LkZNTNEfLWI3IizVuOX"></td><td style="text-align:left">é¾™ä¹‹ç‰™</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">åšç¡¬é”åˆ©çš„ç‰™é½¿ã€‚æºå¸¦åï¼Œé¾™å±æ€§çš„å¨åŠ›å°±ä¼šæé«˜ 1.2å€ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ouTHM7zcpEyJ2M3cYglu2r.png" alt="AgAABm2M50ouTHM7zcpEyJ2M3cYglu2r"></td><td style="text-align:left">ä¸€èˆ¬å®çŸ³</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ä¸€èˆ¬å±æ€§çš„å®çŸ³ã€‚æºå¸¦åï¼Œä¸€èˆ¬å±æ€§çš„æ‹›å¼å¨åŠ›è¿›ä¼šå¢å¼º1æ¬¡ã€‚ ï¼ˆ1.3å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50o3UGJ-sSVEM4FYAsGC-3G6.png" alt="AgAABm2M50o3UGJ-sSVEM4FYAsGC-3G6"></td><td style="text-align:left">åƒå‰©çš„ä¸œè¥¿</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œå®å¯æ¢¦çš„HPä¼šåœ¨æˆ˜æ–—æœŸé—´ç¼“ç¼“å›å¤ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50r8jnOWInVHG42nITYqxsyd.png" alt="AgAABm2M50r8jnOWInVHG42nITYqxsyd"></td><td style="text-align:left">å¤§æ ¹èŒ</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œå¸å–HPçš„æ‹›å¼å¯ä»¥æ¯”å¹³æ—¶æ›´å¤šåœ°å›å¤è‡ªå·±çš„HPã€‚ ï¼ˆ1.3å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rVo6TpUw5Dmb_vE3qqhzoH.png" alt="AgAABm2M50rVo6TpUw5Dmb_vE3qqhzoH"></td><td style="text-align:left">å…‰ç²‰</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">é—ªé—ªå‘å…‰çš„ç²‰æœ«ã€‚æºå¸¦åï¼Œå…‰èŠ’ä¼šè¿·æƒ‘å¯¹æ‰‹ï¼Œä»è€Œä½¿å…¶æ‹›å¼å˜å¾—ä¸å®¹æ˜“å‘½ä¸­ã€‚ ï¼ˆ0.9  å€ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50p5dX9KKLdHdIE6_o0iZLPU.png" alt="AgAABm2M50p5dX9KKLdHdIE6_o0iZLPU"></td><td style="text-align:left">å…‰ä¹‹ç²˜åœŸ</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦ä½¿å‡ºå…‰å¢™æˆ–åå°„å£æ—¶ï¼Œæ•ˆæœä¼šæ¯”å¹³æ—¶æŒç»­å¾—æ›´é•¿ã€‚ ï¼ˆ5å›åˆå»¶è¿Ÿè‡³8  å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oRb-d7HT5LGb8qsyjA746P.png" alt="AgAABm2M50oRb-d7HT5LGb8qsyjA746P"></td><td style="text-align:left">ä¸‡èƒ½ä¼</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦åœ¨ä¸‹é›¨æˆ–æ—¥ç…§å¾ˆæ—¶ï¼Œä¸ä¼šå—åˆ°å¤©æ°”çš„å½±å“ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pJ1lO2t01JUbtvSscQmWSk.png" alt="AgAABm2M50pJ1lO2t01JUbtvSscQmWSk"></td><td style="text-align:left">å¤§åœ°è†œ</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦åˆ©ç”¨æ‹›å¼æˆ–ç‰¹æ€§å±•å¼€åœºåœ°æ—¶ï¼Œåœºåœ°çš„æŒç»­æ—¶é—´ä¼šæ¯”å¹³æ—¶æ›´é•¿ã€‚ ï¼ˆ5  å›åˆå»¶è¿Ÿè‡³8å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rADsrnkOZNU5o6lOaonx8A.png" alt="AgAABm2M50rADsrnkOZNU5o6lOaonx8A"></td><td style="text-align:left">æ°”çƒ</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œå®å¯æ¢¦ä¼šæµ®åœ¨ç©ºä¸­ã€‚æ”¶åˆ°æ”»å‡»å°±ä¼šç ´è£‚ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50o-GxV2yBVPIYu3Zrc43gH7.png" alt="AgAABm2M50o-GxV2yBVPIYu3Zrc43gH7"></td><td style="text-align:left">ç¾ä¸½ç©ºå£³</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦è¯¥é“å…·çš„å®å¯æ¢¦å¿…å®šå¯ä»¥äº¤æ¢ï¼Œä¸å—å¤„äºæ— æ³•é€ƒèµ°ã€æŸç¼šå’Œæ‰æ ¹çŠ¶æ€çš„å½±å“ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50p-B8jh9xdJWKcxQ28OO91y.png" alt="AgAABm2M50p-B8jh9xdJWKcxQ28OO91y"></td><td style="text-align:left">ç™½è‰²é¦™å¶</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦èƒ½åŠ›é™ä½æ—¶ï¼Œä»…èƒ½å›åˆ°ä¹‹å‰çš„çŠ¶æ€1æ¬¡ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50olRmwanTNPsKkZk9WtAvW1.png" alt="AgAABm2M50olRmwanTNPsKkZk9WtAvW1"></td><td style="text-align:left">å¿ƒçµé¦™è‰</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦æ— æ³•è‡ªç”±ä½¿å‡ºæ‹›å¼æ—¶ï¼Œä»…ä¼šå›å¤1æ¬¡ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pcXxr3S3ZF1q3vqlCysP7P.png" alt="AgAABm2M50pcXxr3S3ZF1q3vqlCysP7P"></td><td style="text-align:left">å¼ºåŠ›é¦™è‰</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦ä»…æœ‰ä¸€æ¬¡æœºä¼šå¯ä»¥åœ¨ç¬¬1å›åˆä½¿å‡ºéœ€è¦è“„åŠ›çš„æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oZzD3W-0hDXpOvkh1Cu2v6.png" alt="AgAABm2M50oZzD3W-0hDXpOvkh1Cu2v6"></td><td style="text-align:left">æ¨¡ä»¿é¦™è‰</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦ä»…æœ‰1æ¬¡æœºä¼šå¯ä»¥åœ¨å¯¹æ‰‹æé«˜èƒ½åŠ›æ—¶ï¼Œå¯¹å…¶è¿›è¡Œæ¨¡ä»¿å¹¶æå‡åŒæ ·çš„èƒ½  åŠ›ã€‚ ï¼ˆéœ²è¥å­¦ä¹ è›‹é—ä¼ æŠ€èƒ½ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pmSDIocyNHm5XyRYP__r15.png" alt="AgAABm2M50pmSDIocyNHm5XyRYP__r15"></td><td style="text-align:left">çƒæ ¹</td><td style="text-align:left">5000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ä¸€æ¬¡æ€§ä½¿ç”¨çš„é›ªçƒã€‚æºå¸¦å®ƒçš„å®å¯æ¢¦å¦‚æœå—åˆ°æ°´å±æ€§æ‹›å¼çš„ä¼¤å®³ï¼Œç‰¹æ”»å°±ä¼šæé«˜ ï¼ˆ1  é˜¶æ®µï¼‰ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rsdXXtw0RBT6Uak1YbA6x8.png" alt="AgAABm2M50rsdXXtw0RBT6Uak1YbA6x8"></td><td style="text-align:left">å……ç”µç”µæ± </td><td style="text-align:left">5000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ä¸€æ¬¡æ€§ä½¿ç”¨çš„é›ªçƒã€‚æºå¸¦å®ƒçš„å®å¯æ¢¦å¦‚æœå—åˆ°ç”µå±æ€§æ‹›å¼çš„ä¼¤å®³ï¼Œæ”»å‡»å°±ä¼šæé«˜ ï¼ˆ1  é˜¶æ®µï¼‰ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pd41FlHX5KO4YHOtKJkeID.png" alt="AgAABm2M50pd41FlHX5KO4YHOtKJkeID"></td><td style="text-align:left">å…‰è‹”</td><td style="text-align:left">5000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ä¸€æ¬¡æ€§ä½¿ç”¨çš„é›ªçƒã€‚æºå¸¦å®ƒçš„å®å¯æ¢¦å¦‚æœå—åˆ°æ°´å±æ€§æ‹›å¼çš„ä¼¤å®³ï¼Œç‰¹é˜²å°±ä¼šæé«˜ ï¼ˆ1  é˜¶æ®µï¼‰ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pwU-pin1ZKjpDVgun0dKMQ.png" alt="AgAABm2M50pwU-pin1ZKjpDVgun0dKMQ"></td><td style="text-align:left">é›ªçƒ</td><td style="text-align:left">5000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">ä¸€æ¬¡æ€§ä½¿ç”¨çš„é›ªçƒã€‚æºå¸¦å®ƒçš„å®å¯æ¢¦å¦‚æœå—åˆ°å†°å±æ€§æ‹›å¼çš„ä¼¤å®³ï¼Œæ”»å‡»å°±ä¼šæé«˜ ï¼ˆ1  é˜¶æ®µï¼‰ ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pVYijwCGBOPIK3Pmz3lOzS.png" alt="AgAABm2M50pVYijwCGBOPIK3Pmz3lOzS"></td><td style="text-align:left">ç‚½çƒ­å²©çŸ³</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦è®©æ—¥ç…§å˜å¼ºçƒˆçš„è¯ï¼Œæ™´å¤©çš„æ—¶é—´å°±ä¼šæ¯”å¹³æ—¶æ›´é•¿ã€‚ ï¼ˆ5å›åˆå»¶è¿Ÿè‡³8å›  åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rDuAcmwoVHqJiQtsgrp3xl.png" alt="AgAABm2M50rDuAcmwoVHqJiQtsgrp3xl"></td><td style="text-align:left">æ½®æ¹¿å²©çŸ³</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦å°†å¤©æ°”å˜ä¸ºä¸‹é›¨çš„è¯ï¼Œä¸‹é›¨çš„æ—¶é—´å°±ä¼šæ¯”å¹³æ—¶æ›´é•¿ã€‚ ï¼ˆ5å›åˆå»¶è¿Ÿè‡³8  å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rEpA5F86JHWYSVwfyr-fYM.png" alt="AgAABm2M50rEpA5F86JHWYSVwfyr-fYM"></td><td style="text-align:left">æ²™æ²™å²©çŸ³</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦åˆ®èµ·æ²™æš´çš„è¯ï¼Œæ²™æš´çš„æ—¶é—´å°±ä¼šæ¯”å¹³æ—¶æ›´é•¿ã€‚ ï¼ˆ5å›åˆå»¶è¿Ÿè‡³8å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q2U-vJ5zBPwYnFnxgbMj5B.png" alt="AgAABm2M50q2U-vJ5zBPwYnFnxgbMj5B"></td><td style="text-align:left">å†°å†·å²©çŸ³</td><td style="text-align:left">8000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦å°†å¤©æ°”å˜ä¸ºä¸‹é›¨çš„è¯ï¼Œä¸‹é›ªçš„æ—¶é—´å°±ä¼šæ¯”å¹³æ—¶æ›´é•¿ã€‚ ï¼ˆ5å›åˆå»¶è¿Ÿè‡³8  å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rsOnSax3dCOafMloL9D4G5.png" alt="AgAABm2M50rsOnSax3dCOafMloL9D4G5"></td><td style="text-align:left">ç”µæ°”ç§å­</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨ç”µæ°”åœºåœ°ä¸Šä½¿ç”¨ï¼Œé˜²å¾¡å°±ä¼šæé«˜ ï¼ˆ1é˜¶æ®µï¼‰ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ruD1b83LlLvZ2kptcXw9SP.png" alt="AgAABm2M50ruD1b83LlLvZ2kptcXw9SP"></td><td style="text-align:left">ç²¾ç¥ç§å­</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨ç²¾ç¥åœºåœ°ä¸Šä½¿ç”¨ï¼Œç‰¹é˜²å°±ä¼šæé«˜ ï¼ˆ1é˜¶æ®µï¼‰ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pV2nQxJ8pJ2bPSAi9NaFFG.png" alt="AgAABm2M50pV2nQxJ8pJ2bPSAi9NaFFG"></td><td style="text-align:left">è–„é›¾ç§å­</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨è–„é›¾åœºåœ°ä¸Šä½¿ç”¨ï¼Œç‰¹é˜²å°±ä¼šæé«˜ ï¼ˆ1é˜¶æ®µï¼‰ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qWSQV8VpREVqrEwzVRNTrq.png" alt="AgAABm2M50qWSQV8VpREVqrEwzVRNTrq"></td><td style="text-align:left">é’è‰ç§å­</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">ç»ç“¶å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨é’è‰åœºåœ°ä¸Šä½¿ç”¨ï¼Œé˜²å¾¡å°±ä¼šæé«˜ï¼ˆ1é˜¶æ®µï¼‰ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q2n6F0p8lDwbheG5qNapEn.png" alt="AgAABm2M50q2n6F0p8lDwbheG5qNapEn"></td><td style="text-align:left">æŸ”è½¯æ²™å­</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æ‰‹æ„Ÿç»†è…»çš„æ²™å­ã€‚æºå¸¦åï¼Œåœ°é¢å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pLyW7iMYZBooZ-zHxDCsFP.png" alt="AgAABm2M50pLyW7iMYZBooZ-zHxDCsFP"></td><td style="text-align:left">é»‘è‰²çœ¼é•œ</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">çœ‹ä¸Šå»å¾ˆå¥‡æ€ªçš„çœ¼é•œã€‚æºå¸¦åï¼Œæ¶å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oB1BSPHxxPaKaIVt-mlp4q.png" alt="AgAABm2M50oB1BSPHxxPaKaIVt-mlp4q"></td><td style="text-align:left">é»‘å¸¦</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½æŒ¯ä½œç²¾ç¥çš„å¸¦å­ã€‚æºå¸¦åï¼Œæ ¼æ–—å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qNkY0YbjRJ6LGalEj06Fs_.png" alt="AgAABm2M50qNkY0YbjRJ6LGalEj06Fs_"></td><td style="text-align:left">ä¸èå†°</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½éš”ç»çƒ­é‡çš„å†°ã€‚æºå¸¦åï¼Œå†°å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50q7KhxiVr9Fo6vE9RnPjgp9.png" alt="AgAABm2M50q7KhxiVr9Fo6vE9RnPjgp9"></td><td style="text-align:left">å¼¯æ›²çš„æ±¤åŒ™</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æ³¨å…¥äº†å¿µåŠ›çš„æ±¤åŒ™ã€‚æºå¸¦åï¼Œè¶…èƒ½åŠ›å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50p5kJqIhOZFj7mb3t-fpu9n.png" alt="AgAABm2M50p5kJqIhOZFj7mb3t-fpu9n"></td><td style="text-align:left">é‡‘å±è†œ</td><td style="text-align:left">3000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">ç‰¹æ®Šçš„é‡‘å±è†œã€‚æºå¸¦åï¼Œé’¢å±æ€§çš„æ‹›å¼å¨åŠ›å°±ä¼šæé«˜1.2å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rt70b9aLlEnq7uGf5-zTcR.png" alt="AgAABm2M50rt70b9aLlEnq7uGf5-zTcR"></td><td style="text-align:left">æœºå˜éª°å­</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">åªä¼šå‡ºç°å¥½æ•°å­—çš„éª°å­ã€‚æºå¸¦åï¼Œåœ¨ä½¿ç”¨è¿ç»­æ‹›å¼æ—¶ï¼Œèƒ½ä½¿å‡ºå¤šæ¬¡æ‹›å¼ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pv36JBLtJHurVsFC3QXVwx.png" alt="AgAABm2M50pv36JBLtJHurVsFC3QXVwx"></td><td style="text-align:left">è´å£³ä¹‹é“ƒ</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦æ”»å‡»å¯¹æ‰‹å¹¶é€ æˆä¼¤å®³æ—¶ï¼Œèƒ½å›å¤å°‘é‡HP(1/8)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rKif86uhBEy5UbJ0cH3pRc.png" alt="AgAABm2M50rKif86uhBEy5UbJ0cH3pRc"></td><td style="text-align:left">èŠ‚æ‹å™¨</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œè¿ç»­ä½¿å‡ºç›¸åŒæ‹›å¼æ—¶ï¼Œå¨åŠ›å°±ä¼šæé«˜ã€‚ä¸å†ä½¿å‡ºç›¸åŒæ‹›å¼æ—¶ï¼Œå¨åŠ›å°±ä¼šå¤åŸã€‚ï¼ˆæ¯æ¬¡20%ï¼Œä¸Šé™100%ï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pdKmAETv1Bm6Kaj336e7Mm.png" alt="AgAABm2M50pdKmAETv1Bm6Kaj336e7Mm"></td><td style="text-align:left">ç„¦ç‚¹é•œ</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½çœ‹è§å¼±ç‚¹çš„é•œç‰‡ã€‚æºå¸¦å®ƒçš„å®å¯æ¢¦çš„æ‹›å¼ä¼šå˜å¾—å®¹æ˜“å‡»ä¸­è¦å®³ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rQjoKK9MNJhZbFRDympxFB.png" alt="AgAABm2M50rQjoKK9MNJhZbFRDympxFB"></td><td style="text-align:left">å¹¿è§’é•œ</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½æ”¾å¤§è§‚çœ‹ç‰©ä½“çš„é•œç‰‡ã€‚æºå¸¦åï¼Œæ‹›å¼çš„å‘½ä¸­ç‡ä¼šå°‘é‡æé«˜1.1å€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rhyePGiH1IIKxVK0enrgg1.png" alt="AgAABm2M50rhyePGiH1IIKxVK0enrgg1"></td><td style="text-align:left">å¯¹ç„¦é•œ</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦æ¯”å¯¹æ‰‹è¡ŒåŠ¨è¿Ÿç¼“æ—¶ï¼Œæ‹›å¼ä¼šå˜å¾—å®¹æ˜“å‘½ä¸­ã€‚ï¼ˆ1.2å€)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50r2trXCUBRIx5dDL3kDCkqV.png" alt="AgAABm2M50r2trXCUBRIx5dDL3kDCkqV"></td><td style="text-align:left">é˜²å°˜æŠ¤ç›®é•œ</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">ä¸å•æ˜¯æ²™æš´çš„ä¼¤å®³ï¼Œå°±è¿ç²‰æœ«ç±»å’Œå­¢å­ç±»æ‹›å¼çš„æ•ˆæœä¹Ÿèƒ½é˜²å¾¡çš„æŠ¤ç›®é•œã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qTDvndV49AgpPi0P9xvTpu.png" alt="AgAABm2M50qTDvndV49AgpPi0P9xvTpu"></td><td style="text-align:left">éƒ¨ä½æŠ¤å…·</td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">ä¸ä¼šå—åˆ°è§¦ç¢°æ”»å‡»å¯¹æ‰‹æ—¶æœ¬åº”å—åˆ°çš„æ•ˆæœã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rRKqJgzxFNxLKtS0sOFAM2.png" alt="AgAABm2M50rRKqJgzxFNxLKtS0sOFAM2"></td><td style="text-align:left">åšåº•é´</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">ä¸å—è„šä¸‹é™·é˜±ç­‰çš„å½±å“ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50osRMZ8lUtNuKnob8Dsy0FA.png" alt="AgAABm2M50osRMZ8lUtNuKnob8Dsy0FA"></td><td style="text-align:left">å¯†æ¢æ–—ç¯·</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½éª—è¿‡æ•Œäººçœ¼ç›çš„å¸¦å¸½æŠ«é£ã€‚æºå¸¦åï¼Œèƒ½éšè—èº«ä½“ï¼Œå˜å¾—ä¸ä¼šå—åˆ°æ‹›å¼çš„è¿½åŠ æ•ˆæœå½±å“ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rQhshRccpA1a8PEv3XnZIu.png" alt="AgAABm2M50rQhshRccpA1a8PEv3XnZIu"></td><td style="text-align:left">D çº¢ç‰Œ</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æœ‰ç€ç¥å¥‡åŠ›é‡çš„å¡ç‰‡ã€‚æºå¸¦åï¼Œèƒ½è®©å¯¹è‡ªå·±é€ æˆä¼¤å®³çš„å¯¹æ‰‹é€€åœºã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50r-WQzWJOBNRqlf0YLrPxyz.png" alt="AgAABm2M50r-WQzWJOBNRqlf0YLrPxyz"></td><td style="text-align:left">é€ƒè„±æŒ‰é”®</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æºå¸¦å®ƒçš„å®å¯æ¢¦å¦‚æœå—åˆ°æ‹›å¼çš„ä¼¤å®³ï¼Œå°±èƒ½é€ƒè„±æˆ˜æ–—ï¼Œå¹¶å’ŒåŒè¡Œçš„å…¶ä»–å®å¯æ¢¦è¿›è¡Œæ›¿æ¢ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rhoNqhi0JM_5hQh_wRog6-.png" alt="AgAABm2M50rhoNqhi0JM_5hQh_wRog6-"></td><td style="text-align:left">é¿éš¾èƒŒåŒ…</td><td style="text-align:left">30000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">å½“æºå¸¦å®ƒçš„å®å¯æ¢¦èƒ½åŠ›ä¸‹é™æ—¶ï¼ŒåŒè¡Œå®å¯æ¢¦å°±ä¼šè‡ªåŠ¨æ›¿æ¢ä¸Šåœºã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rjmvK5tzVAvaRw_pNNQD4T.png" alt="AgAABm2M50rjmvK5tzVAvaRw_pNNQD4T"></td><td style="text-align:left">èƒ†æ€¯çƒ</td><td style="text-align:left">5000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨å—åˆ°å¨å“æ—¶é€Ÿåº¦ä¼šæé«˜ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pANsNkTRNEeLeFE2Xh2Ou8.png" alt="AgAABm2M50pANsNkTRNEeLeFE2Xh2Ou8"></td><td style="text-align:left">å®¢æˆ¿æœåŠ¡</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">è®©å®å¯æ¢¦æºå¸¦åï¼Œåœ¨æˆæ³•ç©ºé—´ä½¿ç”¨æ—¶ï¼Œé€Ÿåº¦ä¼šä¸‹é™ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rVIMJIulVKw79hR8eL5CZD.png" alt="AgAABm2M50rVIMJIulVKw79hR8eL5CZD"></td><td style="text-align:left">é»‘è‰²é“çƒ</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œé€Ÿåº¦ä¼šé™ä½ã€‚é£è¡Œå±æ€§ä»¥åŠæ¼‚æµ®å®å¯æ¢¦ä¼šè¢«åœ°é¢æ‹›å¼å‡»ä¸­ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oMxifpFvVNlZoyyPQxJjgv.png" alt="AgAABm2M50oMxifpFvVNlZoyyPQxJjgv"></td><td style="text-align:left">å‰§æ¯’å®ç </td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">è§¦ç¢°åä¼šæ”¾å‡ºæ¯’çš„ç¥å¥‡å®ç ã€‚æºå¸¦åï¼Œåœ¨æˆ˜æ–—æ—¶ä¼šå˜æˆå‰§æ¯’çŠ¶æ€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pii9iGhZ9PdYJ7N8ZBmIZL.png" alt="AgAABm2M50pii9iGhZ9PdYJ7N8ZBmIZL"></td><td style="text-align:left">ç«ç„°å®ç </td><td style="text-align:left">15000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">è§¦ç¢°åä¼šæ”¾å‡ºçƒ­é‡çš„ç¥å¥‡å®ç ã€‚æºå¸¦åï¼Œåœ¨æˆ˜æ–—æ—¶ä¼šå˜æˆç¼çƒ§çŠ¶æ€ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pxBSOrGEZA94nA_HWKgFw2.png" alt="AgAABm2M50pxBSOrGEZA94nA_HWKgFw2"></td><td style="text-align:left">åæ”»ä¹‹å°¾</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">éå¸¸æ²‰é‡çš„æŸç§å°¾å·´ã€‚æºå¸¦åï¼Œè¡ŒåŠ¨ä¼šæ¯”å¹³æ—¶æ›´åŠ è¿Ÿç¼“ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rdzc9SU-RD251lIeAboMbn.png" alt="AgAABm2M50rdzc9SU-RD251lIeAboMbn"></td><td style="text-align:left">é»‘è‰²æ±¡æ³¥</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œæ¯’å±æ€§çš„å®å¯æ¢¦ä¼šç¼“ç¼“å›å¤(1/16)HPã€‚å…¶ä»–å±æ€§çš„è¯ï¼ŒHPåˆ™ä¼šå‡ï¼ˆ1/8æ¯å›åˆï¼‰</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qXM1QOvK5L6L4H6y5ZJ8-4.png" alt="AgAABm2M50qXM1QOvK5L6L4H6y5ZJ8-4"></td><td style="text-align:left">é™„ç€é’ˆ</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">æºå¸¦åï¼Œæ¯å›åˆéƒ½ä¼šå—åˆ°ï¼ˆ1/8ï¼‰ä¼¤å®³ã€‚æœ‰æ—¶ä¹Ÿä¼šé™„ç€åˆ°ç¢°åˆ°è‡ªå·±çš„å¯¹æ‰‹èº«ä¸Šã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pwaintpulI35nxq2w9RUYU.png" alt="AgAABm2M50pwaintpulI35nxq2w9RUYU"></td><td style="text-align:left">æ ‡é¶</td><td style="text-align:left">10000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">åŸæœ¬å› å®å¯æ¢¦çš„å±æ€§ç›¸å…‹å…³ç³»è€Œæ— æ•ˆçš„æ‹›å¼ç°åœ¨ä¼šå˜å¾—èƒ½å¤Ÿå‡»ä¸­è‡ªå·±ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rDfNN_LKhK6oL5E43psrwM.png" alt="AgAABm2M50rDfNN_LKhK6oL5E43psrwM"></td><td style="text-align:left">ç´§ç»‘æŸå¸¦</td><td style="text-align:left">20000</td><td style="text-align:left">ä¿¡ä½¿é¸ŸåŒ…åŒ…</td><td style="text-align:left">é…¿å…‰å¸‚</td><td style="text-align:left">èƒ½å¢å¼ºç»‘ç´§æ‹›å¼çš„æŸå¸¦ã€‚æºå¸¦åï¼Œç»‘ç´§æ‹›å¼çš„å¨åŠ›ä¼šå˜å¼ºï¼ˆ1/8å¢å¼ºè‡³1/6ï¼‰ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pcu-Ym4y1K4aCNKNI0_pSh.png" alt="AgAABm2M50pcu-Ym4y1K4aCNKNI0_pSh"></td><td style="text-align:left">æŠ¤ç¬¦é‡‘å¸</td><td style="text-align:left"></td><td style="text-align:left">ä»»åŠ¡</td><td style="text-align:left">é”¦æ±‡é•‡</td><td style="text-align:left">åªè¦æºå¸¦å®ƒçš„å®å¯æ¢¦åœ¨æˆ˜æ–—æ—¶å‡ºåœºä¸€æ¬¡ï¼Œå°±èƒ½è·å¾—2å€é‡‘å¸ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pJOYDc2-BHYKaazM2bSwLP.png" alt="AgAABm2M50pJOYDc2-BHYKaazM2bSwLP"></td><td style="text-align:left">å’’æœ¯ä¹‹é“ </td><td style="text-align:left"></td><td style="text-align:left">äº¤æ¢</td><td style="text-align:left">ç©´æ‰é•‡</td><td style="text-align:left">èƒ½è®©æŸäº›ç‰¹å®šå®å¯æ¢¦è¿›åŒ–çš„ç¥å¥‡é“ ç”²ã€‚è•´å«ç€è¯…å’’çš„æ„Ÿæƒ…ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pTHxwDsPdD6YJvXQvP7_Jb.png" alt="AgAABm2M50pTHxwDsPdD6YJvXQvP7_Jb"></td><td style="text-align:left">åº†ç¥ä¹‹é“ </td><td style="text-align:left"></td><td style="text-align:left">äº¤æ¢</td><td style="text-align:left">ç©´æ‰é•‡</td><td style="text-align:left">èƒ½è®©æŸäº›ç‰¹å®šå®å¯æ¢¦è¿›åŒ–çš„ç¥å¥‡é“ ç”²ã€‚è•´å«ç€ç¥è´ºçš„æ„Ÿæƒ…ã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oiL6wOB9FBh7bZ474B6um_.png" alt="AgAABm2M50oiL6wOB9FBh7bZ474B6um_"></td><td style="text-align:left">å¤´é¢†å‡­è¯</td><td style="text-align:left"></td><td style="text-align:left">æ‰è½</td><td style="text-align:left">ç«¹æ—</td><td style="text-align:left">åƒä¹…ç»å²æœˆçš„åˆƒå™¨ä¸€æ ·çš„ç¢ç‰‡ã€‚åªæœ‰ç‡é¢†ç€é©¹åˆ€å°å…µç¾¤ä½“çš„åŠˆæ–©å¸ä»¤èƒ½æºå¸¦ç€ã€‚</td></tr><tr><td></td><td style="text-align:left">ç”µç </td><td style="text-align:left"></td><td style="text-align:left">çš®å¡ä¸˜5%æ‰è½</td><td style="text-align:left"></td><td style="text-align:left">è®©çš®å¡ä¸˜æºå¸¦åï¼Œæ”»å‡»å’Œç‰¹æ”»å°±ä¼šæé«˜çš„ç¥å¥‡ä¹‹çƒã€‚</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ptKcC3V79B2Ln5U3NvBAmk.png" alt="AgAABm2M50ptKcC3V79B2Ln5U3NvBAmk"></td><td style="text-align:left">é©±åŠ²èƒ½é‡</td><td style="text-align:left"></td><td style="text-align:left">5%æ‰è½</td><td style="text-align:left">ç¬¬0åŒº</td><td style="text-align:left">å……æ»¡èƒ½é‡çš„èƒ¶å›Šã€‚è®©æœ‰æŸç§ç‰¹æ€§çš„å®å¯æ¢¦æºå¸¦åï¼Œå…¶èƒ½åŠ›ä¼šå¾—åˆ°æå‡ã€‚(ä¸Šåœºæ—¶é™¤HPå¤–æ•°å€¼æœ€é«˜çš„èƒ½åŠ›ä¼šæé«˜30%ï¼›è‹¥è¯¥é¡¹èƒ½åŠ›ä¸ºé€Ÿåº¦ï¼Œåˆ™ä¼šæé«˜50%)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ribfWRAJpOz7bwuBlXbVbQ.png" alt="AgAABm2M50ribfWRAJpOz7bwuBlXbVbQ"></td><td style="text-align:left">é‡‘ç </td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">é—ªç€é‡‘å…‰ï¼Œä»¥çº¯é‡‘åˆ¶æˆçš„ç å­ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(5000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pYudn05-ZPK6nc42eD8JpJ.png" alt="AgAABm2M50pYudn05-ZPK6nc42eD8JpJ"></td><td style="text-align:left">å·¨å¤§é‡‘ç </td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">ä»¥çº¯é‡‘åˆ¶æˆï¼Œé—ªç€é‡‘å…‰çš„å¤§ç å­ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(20000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rAzxjAAoxADJvg3FKBaOca.png" alt="AgAABm2M50rAzxjAAoxADJvg3FKBaOca"></td><td style="text-align:left">å°è˜‘è‡</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">çæƒœçš„å°è˜‘è‡ã€‚åœ¨ä¸€äº›çˆ±å¥½è€…ä¸­æœ‰ç€ç›¸å½“é«˜çš„äººæ°”(250)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rAFOKWn4hHgZfFw3qKbug5.png" alt="AgAABm2M50rAFOKWn4hHgZfFw3qKbug5"></td><td style="text-align:left">å¤§è˜‘è‡</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">çæƒœçš„å¤§è˜‘è‡ã€‚åœ¨ä¸€äº›çˆ±å¥½è€…ä¸­æœ‰ç€ç›¸å½“é«˜çš„äººæ°”(2500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qy_jTH24pKArHPMmVgazJt.png" alt="AgAABm2M50qy_jTH24pKArHPMmVgazJt"></td><td style="text-align:left">èŠ³é¦™è˜‘è‡</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">èƒ½è®©é™„è¿‘ä¸€å¸¦èŠ³é¦™å››æº¢çš„çç¨€è˜‘è‡ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(7500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qxKCMIbnFBToEqeJbZE0kD.webp" alt="AgAABm2M50qxKCMIbnFBToEqeJbZE0kD"></td><td style="text-align:left">å°ç«¹ç¬‹</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left">ç«¹æ—</td><td style="text-align:left">å°å°çš„çè´µç«¹ç¬‹ã€‚åœ¨éƒ¨åˆ†ç¾é£Ÿå®¶ä¸­æ‹¥æœ‰å¾ˆé«˜äººæ°”ã€‚(375)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50rCQB--ae1Am7d_-PuWqWy9.webp" alt="AgAABm2M50rCQB--ae1Am7d_-PuWqWy9"></td><td style="text-align:left">å¤§ç«¹ç¬‹</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left">ç«¹æ—</td><td style="text-align:left">å¤§å¤§çš„çè´µç«¹ç¬‹ã€‚åœ¨éƒ¨åˆ†ç¾é£Ÿå®¶ä¸­æ‹¥æœ‰éå¸¸é«˜äººæ°”ã€‚(1500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oDJQdCsjVFl6iAlgoOX8z7.png" alt="AgAABm2M50oDJQdCsjVFl6iAlgoOX8z7"></td><td style="text-align:left">æ˜Ÿæ˜Ÿæ²™å­</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">æ‰‹æ„Ÿç»†è…»ä¸”ååˆ†ç¾ä¸½çš„çº¢è‰²æ²™å­ã€‚å¯ä»¥åœ¨å•†åº—ä½ä»·å‡ºå”®ã€‚(1500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50pRoHgY775BI7l4JcIcJBD9.png" alt="AgAABm2M50pRoHgY775BI7l4JcIcJBD9"></td><td style="text-align:left">æ˜Ÿæ˜Ÿç¢ç‰‡</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">é—ªç€çº¢å…‰ä¸”ååˆ†ç¾ä¸½çš„å®çŸ³ç¢ç‰‡ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(6000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50qyC_EhGbNOL4MnYuVor5I9.png" alt="AgAABm2M50qyC_EhGbNOL4MnYuVor5I9"></td><td style="text-align:left">å½—æ˜Ÿç¢ç‰‡</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">å½—æ˜Ÿä¸´è¿‘æ—¶ï¼Œæ‰è½åˆ°åœ°è¡¨ä¸Šçš„ç¢ç‰‡ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(12500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oSwdvfB6ZNvbOvJ8OT0yBg.png" alt="AgAABm2M50oSwdvfB6ZNvbOvJ8OT0yBg"></td><td style="text-align:left">çç </td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">æ•£å‘ç€ç¾ä¸½é“¶è¾‰ä¸”éå¸¸å°çš„çç ã€‚å¯ä»¥åœ¨å•†åº—ä½ä»·å‡ºå”®ã€‚(1000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50owR9w_2pxDZbumJAd4N2WE.png" alt="AgAABm2M50owR9w_2pxDZbumJAd4N2WE"></td><td style="text-align:left">å¤§çç </td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">æ•£å‘ç€ç¾ä¸½é“¶è¾‰ä¸”ç›¸å½“å¤§é¢—çš„çç ã€‚å¯ä»¥åœ¨å•†åº—ä½ä»·å‡ºå”®ã€‚(4000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50o1yyL3sRNCIK0ejPelCu9E.png" alt="AgAABm2M50o1yyL3sRNCIK0ejPelCu9E"></td><td style="text-align:left">ä¸¸å­çç </td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">æ•£å‘ç€ç¾ä¸½é“¶è¾‰ä¸”éå¸¸å¤§é¢—çš„çç ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(10000)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50p4wTT5cuhAT48-zVJJbFxY.png" alt="AgAABm2M50p4wTT5cuhAT48-zVJJbFxY"></td><td style="text-align:left">ç”œç”œèœœ</td><td style="text-align:left"></td><td style="text-align:left">å°èœœèœ‚æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">å®å¯æ¢¦é‡‡é›†çš„æ¸…ç”œèŠ¬èŠ³çš„èŠ±èœœã€‚å¯åœ¨å•†åº—é‡Œå»‰ä»·å‡ºå”®ã€‚(225)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50ox0qOvyOlDPIriP2hqIe8b.png" alt="AgAABm2M50ox0qOvyOlDPIriP2hqIe8b"></td><td style="text-align:left">ç¾ä¸½ä¹‹ç¾½</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">ä»…ä»…åªæ˜¯æ¼‚äº®ï¼Œæ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œæå…¶æ™®é€šçš„ç¾½æ¯›ã€‚(500)</td></tr><tr><td><img src="https://lambda-image-1.pages.dev/AgAABm2M50oMxv-Rq3dCMbDF4eJ3m5KU.png" alt="AgAABm2M50oMxv-Rq3dCMbDF4eJ3m5KU"></td><td style="text-align:left">è´µé‡éª¨å¤´</td><td style="text-align:left"></td><td style="text-align:left">æ‹¾å–</td><td style="text-align:left"></td><td style="text-align:left">åœ¨å®å¯æ¢¦è€ƒå¤å­¦ä¸Šéå¸¸çè´µçš„éª¨å¤´ã€‚å¯ä»¥åœ¨å•†åº—é«˜ä»·å‡ºå”®ã€‚(2500)</td></tr></tbody></table>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å›¾ç‰‡&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;åç§°&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;ä»·æ ¼&lt;/th&gt;
&lt;th</summary>
        
      
    
    
    
    <category term="æ¸¸æˆ" scheme="https://www.wikunkun.asia/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
    <category term="å®å¯æ¢¦" scheme="https://www.wikunkun.asia/tags/%E5%AE%9D%E5%8F%AF%E6%A2%A6/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…Docker</title>
    <link href="https://www.wikunkun.asia/posts/29c15ce3.html"/>
    <id>https://www.wikunkun.asia/posts/29c15ce3.html</id>
    <published>2024-12-19T02:06:06.000Z</published>
    <updated>2025-05-02T10:12:11.075Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·">å·¥å…·</h2><ul><li>ä¸€æ¬¾ <code>SSH</code> è¿æ¥å·¥å…· (æœ¬æ–‡ç”¨ <code>MobaXterm</code>)</li><li>ä¸€å° <code>Linux</code> æœºå™¨ (å¯ä»¥ç”¨äº‘æœåŠ¡å™¨æˆ–è€… <code>VMware</code> è™šæ‹Ÿæœº)</li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li><code>Ubuntu22.04.4</code></li></ul><h2 id="æ£€æŸ¥å¸è½½è€ç‰ˆæœ¬-Docker">æ£€æŸ¥å¸è½½è€ç‰ˆæœ¬ Docker</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°è½¯ä»¶åŒ…">æ›´æ–°è½¯ä»¶åŒ…</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get upgrade</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Docker-ä¾èµ–">å®‰è£… Docker ä¾èµ–</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install ca-certificates curl gnupg lsb-release</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ -docker-å¯†é’¥">æ·»åŠ  docker å¯†é’¥</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | <span class="built_in">sudo</span> apt-key add -</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ é˜¿é‡Œäº‘-docker-è½¯ä»¶æº">æ·»åŠ é˜¿é‡Œäº‘ docker è½¯ä»¶æº</h2><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ·»åŠ é˜¿é‡Œäº‘ Docker é•œåƒæºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository <span class="string">&quot;deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Docker"><strong>å®‰è£… Docker</strong></h2><p>æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨å¹¶å®‰è£… <code>Docker</code> å’Œ <code>Docker Compose</code> æ’ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt install -y docker-ce docker-ce-cli containerd.io docker-compose</span><br></pre></td></tr></table></figure><h2 id="é…ç½®ç”¨æˆ·ç»„">é…ç½®ç”¨æˆ·ç»„</h2><p><strong>éå¿…é¡»æ“ä½œ</strong>ï¼Œæ­¤æ“ä½œç›®çš„æ˜¯ä¸ºäº†ä»¥åæ‰§è¡Œ <code>docker</code> å‘½ä»¤æ—¶æ— éœ€è¾“å…¥ <code>sudo</code> å¯†ç ï¼Œé¿å…è¿™äº›é‡å¤æ“ä½œè€Œå·²</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> usermod -aG docker <span class="variable">$USER</span></span><br><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥-Docker-å®‰è£…æƒ…å†µ">æ£€æŸ¥ Docker å®‰è£…æƒ…å†µ</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//è¿™ä¸¤ä¸ªå‘½ä»¤éšä¾¿ä¸€ä¸ªéƒ½å¯ä»¥</span><br><span class="line">docker ps</span><br><span class="line">docker -v</span><br></pre></td></tr></table></figure><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-13_21-35-55.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-13_21-35-55"></a></p><p>è‹¥å‡ºç°ä»¥ä¸Šçš„å†…å®¹ï¼Œåˆ™è¡¨ç¤º docker å®‰è£…æˆåŠŸ</p><h2 id="é…ç½®-Docker-é•œåƒåŠ é€Ÿ">é…ç½® Docker é•œåƒåŠ é€Ÿ</h2><p>ç”±äºä¸€äº›åŸå› å¯¼è‡´ <code>Docker</code> è¢«å¢™äº†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é…ç½®é•œåƒåŠ é€Ÿï¼Œå¦‚æœä¸é…ç½®çš„è¯å°†æ— æ³•æ‹‰å–ä»»ä½•é•œåƒæ–‡ä»¶</p><h3 id="åˆ›å»ºç›®å½•">åˆ›å»ºç›®å½•</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/docker</span><br></pre></td></tr></table></figure><h3 id="é•œåƒåœ°å€">é•œåƒåœ°å€</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/docker/daemon.json &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;https://docker-0.unsee.tech&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://docker-cf.registry.cyou&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://docker.1panel.live&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h3 id="é‡æ–°åŠ è½½é…ç½®">é‡æ–°åŠ è½½é…ç½®</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br></pre></td></tr></table></figure><h2 id="é‡å¯Docker">é‡å¯Docker</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•é•œåƒåŠ é€Ÿæ˜¯å¦æœ‰æ•ˆ">æµ‹è¯•é•œåƒåŠ é€Ÿæ˜¯å¦æœ‰æ•ˆ</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull hello-world</span><br></pre></td></tr></table></figure><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-13_21-52-07.png"><img src="https://lambda-image-1.pages.dev/Snipaste_2024-10-13_21-52-07.png" alt="Snipaste_2024-10-13_21-52-07"></a></p><p>å‡ºç°ä»¥ä¸Šå†…å®¹è¡¨ç¤ºé•œåƒåŠ é€Ÿé…ç½®æˆåŠŸ</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¾ &lt;code&gt;SSH&lt;/code&gt; è¿æ¥å·¥å…· (æœ¬æ–‡ç”¨ &lt;code&gt;MobaXterm&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä¸€å° &lt;code&gt;Linux&lt;/code&gt; æœºå™¨ (å¯ä»¥ç”¨äº‘æœåŠ¡å™¨æˆ–è€…</summary>
        
      
    
    
    
    <category term="Linuxå¹³å°å¼€å‘" scheme="https://www.wikunkun.asia/categories/Linux%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="Docker" scheme="https://www.wikunkun.asia/tags/Docker/"/>
    
    <category term="æ•™ç¨‹" scheme="https://www.wikunkun.asia/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>æ­å»ºQQæœºå™¨äºº</title>
    <link href="https://www.wikunkun.asia/posts/a1ff416d.html"/>
    <id>https://www.wikunkun.asia/posts/a1ff416d.html</id>
    <published>2024-12-19T02:03:56.000Z</published>
    <updated>2025-02-13T10:39:02.417Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·">å·¥å…·</h2><ul><li>ä¸€æ¬¾ SSH è¿æ¥å·¥å…· (æœ¬æ–‡ç”¨ MobaXterm)</li><li>ä¸€å°äº‘æœåŠ¡å™¨ (æœ¬æ–‡ç”¨é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨)</li><li>ApiFox æˆ– Postman (æœ¬æ–‡ç”¨ ApiFox)</li></ul><h2 id="éƒ¨ç½²-NapCatQQ">éƒ¨ç½² NapCatQQ</h2><ul><li><a href="https://github.com/NapNeko/NapCatQQ">NapCatQQ åœ°å€</a></li><li><a href="https://napneko.github.io/">NapCat çš„å®˜æ–¹æ–‡æ¡£</a></li></ul><h2 id="åˆ›å»ºæŒ‚è½½ç›®å½•">åˆ›å»ºæŒ‚è½½ç›®å½•</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/mydata/napcat/config</span><br><span class="line"><span class="built_in">mkdir</span> -p ~/mydata/napcat/QQ</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-NapCatQQ-å®¹å™¨">åˆ›å»º NapCatQQ å®¹å™¨</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">-e ACCOUNT=&lt;æœºå™¨äººQQå·&gt; \</span><br><span class="line">-e WS_ENABLE=<span class="literal">true</span> \</span><br><span class="line">-p 3001:3001 \</span><br><span class="line">-p 6099:6099 \</span><br><span class="line">-e NAPCAT_GID=$(<span class="built_in">id</span> -g) \</span><br><span class="line">-e NAPCAT_UID=$(<span class="built_in">id</span> -u) \</span><br><span class="line">--name napcat \</span><br><span class="line">-v ~/mydata/napcat/QQ:/app/.config/QQ \</span><br><span class="line">-v ~/mydata/napcat/config:/app/napcat/config \</span><br><span class="line">--restart=always \</span><br><span class="line">docker.1panel.dev/mlikiowa/napcat-docker:latest</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹äº‘æœåŠ¡å™¨å®‰å…¨ç»„">ä¿®æ”¹äº‘æœåŠ¡å™¨å®‰å…¨ç»„</h3><p>å¼€æ”¾ <code>3001</code> ç«¯å£å’Œ <code>6099</code> ç«¯å£</p><h3 id="ç™»å½•-QQ">ç™»å½• QQ</h3><p>æŸ¥çœ‹å®¹å™¨å†…éƒ¨æ—¥å¿—</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f napcat</span><br></pre></td></tr></table></figure><p>æ‰«ææ—¥å¿—å†…å‡ºç°çš„äºŒç»´ç ç™»å½• QQ</p><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-14_22-32-35.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-14_22-32-35"></a></p><p>æœºå™¨äºº QQ è´¦å·ä¸æ‰«æçš„è´¦å·ä¸åŒçš„æƒ…å†µï¼Œä¼šå¯¼è‡´ WebSocket æœåŠ¡æœªå¯åŠ¨</p><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-14_22-41-57.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-14_22-41-57"></a></p><p>è§£å†³æ–¹æ³•ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ”¹ç›®å½•çš„æƒé™</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> -R 777 ~/mydata/napcat/</span><br><span class="line"><span class="comment"># è¿›å…¥å¯¹åº”çš„ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ~/mydata/napcat/config</span><br></pre></td></tr></table></figure><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-14_22-45-57.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-14_22-45-57"></a></p><p>æ‰“å¼€ onebot11_&lt;åˆšåˆšæ‰«æçš„QQ&gt;.json è¿™ä¸ªæ–‡ä»¶ï¼ŒæŠŠ ws çš„ enable æ”¹ä¸º true</p><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-14_22-47-50.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-14_22-47-50"></a></p><p>é‡å¯å¯åŠ¨ NapCatQQ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart napcat</span><br></pre></td></tr></table></figure><p>é‡æ–°ç™»å½•ï¼Œè‹¥ WebSocket æœåŠ¡æœªå·²å¯åŠ¨åˆ™è¡¨ç¤ºé…ç½®æˆåŠŸ</p><p><a href="https://lambda-image-1.pages.dev/Snipaste_2024-10-14_22-50-01.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Snipaste_2024-10-14_22-50-01"></a></p><h2 id="è¿æ¥-NapCatQQ">è¿æ¥ NapCatQQ</h2><p>æ‰“å¼€ ApiFox, åˆ›å»ºé¡¹ç›®,æ–°å»º WebSocket æ¥å£,è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼Œç„¶åè¿æ¥</p><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">ws://ip:port</span></span><br></pre></td></tr></table></figure><h2 id="åŠŸèƒ½æµ‹è¯•">åŠŸèƒ½æµ‹è¯•</h2><p>æŸ¥çœ‹ NapCatQQ çš„å¼€å‘æ–‡æ¡£ , æ‰¾åˆ°æƒ³è¦æµ‹è¯•çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ–‡æœ¬æµ‹è¯•ä¸€ä¸‹å‘é€æ¶ˆæ¯åŠŸèƒ½ï¼Œç”¨çš„ OneBot 11 API</p><p><a href="https://lambda-image-1.pages.dev/image-9.png"><img src="https://lambda-image-1.pages.dev/image-9.png" alt="image-9"></a></p><p>è®¿é—® <a href="https://napneko.github.io/develop/api#onebot-11-api">OneBot11 çš„ API æ–‡æ¡£</a>æˆ– <a href="https://napneko.github.io/develop/api#go-cqhttp-api">Go-cqhttp çš„ API æ–‡æ¡£</a> , æ‰¾åˆ°å¯¹åº”çš„ API</p><p><a href="https://lambda-image-1.pages.dev/image-11.png"><img src="https://lambda-image-1.pages.dev/image-11.png" alt="image-11"></a></p><p>æ ¹æ®æ–‡æ¡£æ„å»º JSON å­—ç¬¦ä¸²ï¼Œå‘é€è¯·æ±‚ï¼ŒæŸ¥çœ‹æ˜¯å¦æˆåŠŸ</p><p><a href="https://lambda-image-1.pages.dev/image-13.png"><img src="https://lambda-image-1.pages.dev/image-13.png" alt="image-13"></a></p><p>è‡³æ­¤åŠŸèƒ½æµ‹è¯•å·²ç»åŸºæœ¬å®Œæ¯•ï¼Œå¦‚æœæƒ³è¦è¿›è¡Œå¼€å‘çš„è¯ï¼Œå‘é€ Ws è¯·æ±‚åˆ° NapCatQQ ç„¶åæŸ¥é˜…æ–‡æ¡£å‘é€è¯·æ±‚å³å¯</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ¬¾ SSH è¿æ¥å·¥å…· (æœ¬æ–‡ç”¨ MobaXterm)&lt;/li&gt;
&lt;li&gt;ä¸€å°äº‘æœåŠ¡å™¨ (æœ¬æ–‡ç”¨é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨)&lt;/li&gt;
&lt;li&gt;ApiFox æˆ– Postman (æœ¬æ–‡ç”¨</summary>
        
      
    
    
    
    <category term="æœºå™¨äºº" scheme="https://www.wikunkun.asia/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://www.wikunkun.asia/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Nettyå®ç°WebSocket</title>
    <link href="https://www.wikunkun.asia/posts/437d5a1e.html"/>
    <id>https://www.wikunkun.asia/posts/437d5a1e.html</id>
    <published>2024-12-19T02:01:08.000Z</published>
    <updated>2025-02-13T10:39:02.414Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘è¦å¼„å®‰å“çš„ç»“è¯¾è®¾è®¡,é‡Œé¢åˆšå¥½æœ‰è¦ç”¨<code>WebSocket</code>å®ç°ä¸€ä¸ªç®€æ˜“èŠå¤©å®¤çš„é€‰é¢˜,æ­£å¥½ä¹‹å‰å­¦äº†<code>WebSocket</code>æ²¡æœ‰æ€»ç»“ç¬”è®°,å› æ­¤å†™ç¯‡åšå®¢æ€»ç»“ä¸€ä¸‹</p><h2 id="å·¥å…·">å·¥å…·</h2><ul><li><a href="https://www.jetbrains.com/idea/">IDEAä¸“ä¸šç‰ˆ</a></li><li><a href="https://apifox.com/">ApiFox</a></li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li>windows10</li><li><a href="https://maven.org.cn/">Maven3.9.5</a></li><li>jdk1.8</li></ul><h2 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h2><p>åç§°éšæ„,éœ€è¦æ³¨æ„åªæœ‰é€‰æ‹©<strong>jdk1.8</strong>å’Œ<strong>java8</strong>(<strong>å…¶ä»–ç‰ˆæœ¬å¦‚æœå‡ºç°é—®é¢˜è¯·è‡ªè¡Œè§£å†³</strong>),ç‚¹å‡»ä¸‹ä¸€æ­¥åçš„ä¾èµ–é¡¹æˆ‘ä»¬ä¸ç”¨ç®¡,ç­‰ä¸‹ä¼šæœ‰æˆ‘æ•´ç†å¥½çš„pomæ–‡ä»¶</p><p><a href="https://lambda-image-1.pages.dev/image-20241204214712169.png"><img src="https://lambda-image-1.pages.dev/image-20241204214712169.png" alt="image-20241204214712169"></a></p><h2 id="ä¿®æ”¹Pomæ–‡ä»¶">ä¿®æ”¹Pomæ–‡ä»¶</h2><p>å¦‚æœå¯¹<code>pom</code>æ–‡ä»¶æ¯”è¾ƒç†Ÿæ‚‰çš„è¯,æ›¿æ¢æ‰<code>properties</code>,<code>dependencies</code>å°±è¡Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-boot.version</span>&gt;</span>2.6.3<span class="tag">&lt;/<span class="name">spring-boot.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.8.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--netty--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.netty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>netty-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸ç†Ÿæ‚‰çš„è¯å°±è‡ªå·±å…¨éƒ¨å¤åˆ¶ä¸‹åˆ—æ–‡ä»¶,<strong>å¤åˆ¶å®Œåå¿…å®šä¼šæŠ¥é”™</strong>,ä¿®æ”¹<code>artifactId</code>,<code>groupId</code>(<strong>å¦‚æœè¿™å‡ ä¸ªéƒ½ä¸ä¼šæ”¹çš„è¯,é‚£ä¹ˆè¯·å…ˆå»å­¦SpringBoot</strong>)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lambda<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>simple-netty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>simple-netty<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>simple-netty<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-boot.version</span>&gt;</span>2.6.3<span class="tag">&lt;/<span class="name">spring-boot.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.hutool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hutool-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.8.20<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--netty--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.netty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>netty-all<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-boot.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºWebSocketæœåŠ¡">åˆ›å»ºWebSocketæœåŠ¡</h2><p>è¿™ä¸ªç±»æ˜¯æˆ‘ä»¬<code>WebSocket</code>çš„ä¸»è¦æœåŠ¡ç±»,é¦–å…ˆåˆ›å»ºåŒ…<code>websocket</code>,ç„¶ååˆ›å»ºç±»<code>NettyWebSocketServer</code>(åšä¸»è¿™é‡Œå®Œæ•´çš„è·¯å¾„ä¸º<code>com.lambda.simplenetty.websocket.NettyWebSocketServer</code>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lambda.simplenetty.websocket;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.netty.bootstrap.ServerBootstrap;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.ChannelInitializer;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.ChannelOption;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.ChannelPipeline;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.EventLoopGroup;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.socket.SocketChannel;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.codec.http.HttpObjectAggregator;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.codec.http.HttpServerCodec;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.logging.LogLevel;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.logging.LoggingHandler;</span><br><span class="line"><span class="keyword">import</span> io.netty.handler.stream.ChunkedWriteHandler;</span><br><span class="line"><span class="keyword">import</span> io.netty.util.NettyRuntime;</span><br><span class="line"><span class="keyword">import</span> io.netty.util.concurrent.Future;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.PreDestroy;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NettyWebSocketServer</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * webSocketçš„ç«¯å£å·</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">Integer</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">8090</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ›å»ºçº¿ç¨‹æ± æ‰§è¡Œå™¨</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯·æ±‚è¿æ¥çš„group(è´Ÿè´£æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">EventLoopGroup</span> <span class="variable">bossGroup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NioEventLoopGroup</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å·¥ä½œçš„group(è´Ÿè´£å¤„ç† IO æ“ä½œ)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">EventLoopGroup</span> <span class="variable">workerGroup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NioEventLoopGroup</span>(NettyRuntime.availableProcessors());</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯åŠ¨ ws server</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="built_in">this</span>.run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é”€æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        Future&lt;?&gt; future = <span class="built_in">this</span>.bossGroup.shutdownGracefully();</span><br><span class="line">        Future&lt;?&gt; future1 = <span class="built_in">this</span>.workerGroup.shutdownGracefully();</span><br><span class="line">        future.syncUninterruptibly();</span><br><span class="line">        future1.syncUninterruptibly();</span><br><span class="line">        log.info(<span class="string">&quot;å…³é—­ ws server æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">// æœåŠ¡å™¨å¯åŠ¨å¼•å¯¼å¯¹è±¡</span></span><br><span class="line">        <span class="type">ServerBootstrap</span> <span class="variable">serverBootstrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerBootstrap</span>();</span><br><span class="line">        serverBootstrap.group(<span class="built_in">this</span>.bossGroup, <span class="built_in">this</span>.workerGroup)</span><br><span class="line">                .channel(NioServerSocketChannel.class)</span><br><span class="line">                .option(ChannelOption.SO_BACKLOG, <span class="number">128</span>)</span><br><span class="line">                .option(ChannelOption.SO_KEEPALIVE, <span class="literal">true</span>)</span><br><span class="line">                .handler(<span class="keyword">new</span> <span class="title class_">LoggingHandler</span>(LogLevel.INFO)) <span class="comment">// ä¸º bossGroup æ·»åŠ  æ—¥å¿—å¤„ç†å™¨</span></span><br><span class="line">                .childHandler(<span class="keyword">new</span> <span class="title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">initChannel</span><span class="params">(SocketChannel socketChannel)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="type">ChannelPipeline</span> <span class="variable">pipeline</span> <span class="operator">=</span> socketChannel.pipeline();</span><br><span class="line">                        <span class="comment">//30ç§’å®¢æˆ·ç«¯æ²¡æœ‰å‘æœåŠ¡å™¨å‘é€å¿ƒè·³åˆ™å…³é—­è¿æ¥</span></span><br><span class="line"><span class="comment">//                        pipeline.addLast(new IdleStateHandler(30, 0, 0));</span></span><br><span class="line">                        <span class="comment">// å› ä¸ºä½¿ç”¨httpåè®®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨httpçš„ç¼–ç å™¨ï¼Œè§£ç å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpServerCodec</span>());</span><br><span class="line">                        <span class="comment">// ä»¥å—æ–¹å¼å†™ï¼Œæ·»åŠ  chunkedWriter å¤„ç†å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">ChunkedWriteHandler</span>());</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. httpæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯åˆ†æ®µçš„ï¼ŒHttpObjectAggregatorå¯ä»¥æŠŠå¤šä¸ªæ®µèšåˆèµ·æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æµè§ˆå™¨å‘é€å¤§é‡æ•°æ®æ—¶ï¼Œå°±ä¼šå‘å‡ºå¤šæ¬¡ httpè¯·æ±‚çš„åŸå› </span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpObjectAggregator</span>(<span class="number">8192</span>));</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. å¯¹äº WebSocketï¼Œå®ƒçš„æ•°æ®æ˜¯ä»¥å¸§frame çš„å½¢å¼ä¼ é€’çš„ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. å¯ä»¥çœ‹åˆ° WebSocketFrame ä¸‹é¢æœ‰6ä¸ªå­ç±»</span></span><br><span class="line"><span class="comment">                         *  3. æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼š ws://localhost:7000/hello è¡¨ç¤ºè¯·æ±‚çš„uri</span></span><br><span class="line"><span class="comment">                         *  4. WebSocketServerProtocolHandler æ ¸å¿ƒåŠŸèƒ½æ˜¯æŠŠ httpåè®®å‡çº§ä¸º ws åè®®ï¼Œä¿æŒé•¿è¿æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *      æ˜¯é€šè¿‡ä¸€ä¸ªçŠ¶æ€ç  101 æ¥åˆ‡æ¢çš„</span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        <span class="comment">//è¿™ä¸ªæ˜¯Nettyæ”¯æŒWebSocketçš„å¤„ç†</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">WebSocketServerProtocolHandler</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line">                        <span class="comment">// è‡ªå®šä¹‰handler ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">                        pipeline.addLast(nettyWebSocketServerHandler);</span><br><span class="line">                        <span class="comment">// æ³¨å†Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨</span></span><br><span class="line">                        pipeline.addLast(nettyGlobalExceptionHandler);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ï¼Œé˜»å¡ç›´åˆ°å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">        serverBootstrap.bind(<span class="built_in">this</span>.port).sync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">Integer</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">8090</span>;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯å®šä¹‰çš„<code>websocket</code>çš„å¯åŠ¨ç«¯å£,æˆ‘ä»¬è¿æ¥<code>websocket</code>æ—¶éœ€è¦æŒ‡æ˜è¯¥ç«¯å£å·(æ¯”å¦‚è¯¥<code>websocket</code>è¿æ¥å­—ç¬¦ä¸²,<code>ws://127.0.0.1:8090/</code>,è¿™é‡Œ<code>127.0.0.1</code>ä¸º<code>ip</code>åœ°å€,<code>8090</code>ä¸ºç«¯å£å·)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯åŠ¨ ws server</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> InterruptedException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">    <span class="built_in">this</span>.run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>@PostConstruct</code>æ˜¯<code>SpringBoot</code>ä¸­çš„ä¸€ä¸ªæ³¨è§£,ä¸»è¦åŠŸèƒ½æ˜¯åœ¨ä¾èµ–æ³¨å…¥å®Œæˆåæ‰§è¡Œå¯¹åº”çš„é€»è¾‘,å› æ­¤è¿™é‡Œå°±æ˜¯åœ¨åˆå§‹åŒ–å®Œæˆåè¿è¡Œwebsocket</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é”€æ¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PreDestroy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    Future&lt;?&gt; future = <span class="built_in">this</span>.bossGroup.shutdownGracefully();</span><br><span class="line">    Future&lt;?&gt; future1 = <span class="built_in">this</span>.workerGroup.shutdownGracefully();</span><br><span class="line">    future.syncUninterruptibly();</span><br><span class="line">    future1.syncUninterruptibly();</span><br><span class="line">    log.info(<span class="string">&quot;å…³é—­ ws server æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>@PreDestroy</code>æ˜¯<code>SpringBoot</code>ä¸­çš„ä¸€ä¸ªæ³¨è§£,ç”¨äºåœ¨<code>Spring Bean</code>é”€æ¯ä¹‹å‰æ‰§è¡Œä¸€äº›æ¸…ç†æˆ–èµ„æºé‡Šæ”¾çš„æ“ä½œ,å› æ­¤è¿™é‡Œå°±æ˜¯åœ¨æ¶ˆè€—æ—¶é‡Šæ”¾ä¸‹å†…å­˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">// æœåŠ¡å™¨å¯åŠ¨å¼•å¯¼å¯¹è±¡</span></span><br><span class="line">        <span class="type">ServerBootstrap</span> <span class="variable">serverBootstrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerBootstrap</span>();</span><br><span class="line">        serverBootstrap.group(<span class="built_in">this</span>.bossGroup, <span class="built_in">this</span>.workerGroup)</span><br><span class="line">                .channel(NioServerSocketChannel.class)</span><br><span class="line">                .option(ChannelOption.SO_BACKLOG, <span class="number">128</span>)</span><br><span class="line">                .option(ChannelOption.SO_KEEPALIVE, <span class="literal">true</span>)</span><br><span class="line">                .handler(<span class="keyword">new</span> <span class="title class_">LoggingHandler</span>(LogLevel.INFO)) <span class="comment">// ä¸º bossGroup æ·»åŠ  æ—¥å¿—å¤„ç†å™¨</span></span><br><span class="line">                .childHandler(<span class="keyword">new</span> <span class="title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">initChannel</span><span class="params">(SocketChannel socketChannel)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="type">ChannelPipeline</span> <span class="variable">pipeline</span> <span class="operator">=</span> socketChannel.pipeline();</span><br><span class="line">                        <span class="comment">//30ç§’å®¢æˆ·ç«¯æ²¡æœ‰å‘æœåŠ¡å™¨å‘é€å¿ƒè·³åˆ™å…³é—­è¿æ¥(éœ€è¦çš„è¯åˆ™æŠŠè¿™æ®µæ‰“å¼€)</span></span><br><span class="line"><span class="comment">//                        pipeline.addLast(new IdleStateHandler(30, 0, 0));</span></span><br><span class="line">                        <span class="comment">// å› ä¸ºä½¿ç”¨httpåè®®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨httpçš„ç¼–ç å™¨ï¼Œè§£ç å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpServerCodec</span>());</span><br><span class="line">                        <span class="comment">// ä»¥å—æ–¹å¼å†™ï¼Œæ·»åŠ  chunkedWriter å¤„ç†å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">ChunkedWriteHandler</span>());</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. httpæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯åˆ†æ®µçš„ï¼ŒHttpObjectAggregatorå¯ä»¥æŠŠå¤šä¸ªæ®µèšåˆèµ·æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æµè§ˆå™¨å‘é€å¤§é‡æ•°æ®æ—¶ï¼Œå°±ä¼šå‘å‡ºå¤šæ¬¡ httpè¯·æ±‚çš„åŸå› </span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpObjectAggregator</span>(<span class="number">8192</span>));</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. å¯¹äº WebSocketï¼Œå®ƒçš„æ•°æ®æ˜¯ä»¥å¸§frame çš„å½¢å¼ä¼ é€’çš„ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. å¯ä»¥çœ‹åˆ° WebSocketFrame ä¸‹é¢æœ‰6ä¸ªå­ç±»</span></span><br><span class="line"><span class="comment">                         *  3. æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼š ws://localhost:7000/hello è¡¨ç¤ºè¯·æ±‚çš„uri</span></span><br><span class="line"><span class="comment">                         *  4. WebSocketServerProtocolHandler æ ¸å¿ƒåŠŸèƒ½æ˜¯æŠŠ httpåè®®å‡çº§ä¸º ws åè®®ï¼Œä¿æŒé•¿è¿æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *      æ˜¯é€šè¿‡ä¸€ä¸ªçŠ¶æ€ç  101 æ¥åˆ‡æ¢çš„</span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        <span class="comment">//è¿™ä¸ªæ˜¯Nettyæ”¯æŒWebSocketçš„å¤„ç†</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">WebSocketServerProtocolHandler</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ï¼Œé˜»å¡ç›´åˆ°å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">        serverBootstrap.bind(<span class="built_in">this</span>.port).sync();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>(è¿™éƒ¨åˆ†æ˜¯æœ€é‡è¦çš„ä»£ç ,ä¹Ÿæ˜¯æœ€éš¾çš„éƒ¨åˆ†,å¦‚æœä¸æ‡‚çš„è¯å°±ç›´æ¥cvå§)</strong></p><ol><li><strong>åˆ›å»ºæœåŠ¡å™¨å¼•å¯¼å¯¹è±¡</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServerBootstrap</span> <span class="variable">serverBootstrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerBootstrap</span>();</span><br></pre></td></tr></table></figure><p><strong><code>ServerBootstrap</code></strong>ï¼šNetty ç”¨äºå¯åŠ¨æœåŠ¡å™¨çš„å¼•å¯¼ç±»ï¼Œå°è£…äº†æœåŠ¡å™¨é…ç½®çš„åŸºæœ¬æ“ä½œã€‚</p><ol><li><strong>é…ç½®çº¿ç¨‹ç»„</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">serverBootstrap.group(<span class="built_in">this</span>.bossGroup, <span class="built_in">this</span>.workerGroup)</span><br></pre></td></tr></table></figure><ul><li><strong><code>bossGroup</code></strong>ï¼šæ¥æ”¶å®¢æˆ·ç«¯è¿æ¥çš„çº¿ç¨‹ç»„ï¼Œè´Ÿè´£ç›‘å¬ç«¯å£å’Œæ¥æ”¶è¿æ¥ã€‚</li><li><strong><code>workerGroup</code></strong>ï¼šå¤„ç†å·²å»ºç«‹è¿æ¥çš„ I/O è¯»å†™çº¿ç¨‹ç»„ã€‚</li></ul><ol><li><strong>æŒ‡å®šé€šé“ç±»å‹</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.channel(NioServerSocketChannel.class)</span><br></pre></td></tr></table></figure><ul><li><strong><code>NioServerSocketChannel</code></strong>ï¼šæŒ‡å®šä½¿ç”¨ NIOï¼ˆéé˜»å¡ I/Oï¼‰ç±»å‹çš„é€šé“ï¼Œç”¨äºæ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ã€‚</li></ul><ol><li><strong>è®¾ç½®æœåŠ¡å™¨é€‰é¡¹</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.option(ChannelOption.SO_KEEPALIVE, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><ul><li><strong><code>SO_BACKLOG</code></strong>ï¼šæŒ‡å®šæœåŠ¡å™¨å¯åŒæ—¶å¤„ç†çš„æœ€å¤§è¿æ¥æ•°ã€‚</li><li><strong><code>SO_KEEPALIVE</code></strong>ï¼šå¯ç”¨ TCP ä¿æ´»æœºåˆ¶ï¼Œæ£€æµ‹è¿æ¥æ˜¯å¦æœ‰æ•ˆï¼Œä¿æŒé•¿æ—¶é—´çš„è¿æ¥ã€‚</li></ul><ol><li><strong>æ·»åŠ æ—¥å¿—å¤„ç†å™¨</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.handler(<span class="keyword">new</span> <span class="title class_">LoggingHandler</span>(LogLevel.INFO))</span><br></pre></td></tr></table></figure><ul><li><strong><code>LoggingHandler</code></strong>ï¼šä¸º <code>bossGroup</code> æ·»åŠ æ—¥å¿—å¤„ç†å™¨ï¼Œè®°å½•æœåŠ¡å™¨æ¥æ”¶è¿æ¥çš„æ—¥å¿—ï¼Œæ—¥å¿—çº§åˆ«ä¸º <code>INFO</code>ã€‚</li></ul><ol><li><strong>åˆå§‹åŒ–å­é€šé“å¤„ç†å™¨</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.childHandler(<span class="keyword">new</span> <span class="title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">initChannel</span><span class="params">(SocketChannel socketChannel)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ChannelPipeline</span> <span class="variable">pipeline</span> <span class="operator">=</span> socketChannel.pipeline();</span><br></pre></td></tr></table></figure><ul><li><strong><code>childHandler</code></strong>ï¼šä¸ºæ¯ä¸ªè¿æ¥çš„ <code>Channel</code> è®¾ç½®åˆå§‹åŒ–å™¨ <code>ChannelInitializer</code>ã€‚</li><li><strong><code>ChannelPipeline</code></strong>ï¼šNetty çš„å¤„ç†é“¾ï¼ŒåŒ…å«å¤šä¸ª <code>ChannelHandler</code>ï¼Œæ¯ä¸ªå¤„ç†å™¨å®Œæˆä¸åŒä»»åŠ¡ã€‚</li></ul><ol><li><strong>HTTP ç¼–è§£ç å™¨</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpServerCodec</span>());</span><br></pre></td></tr></table></figure><ul><li><strong><code>HttpServerCodec</code></strong>ï¼šNetty æä¾›çš„ HTTP è¯·æ±‚è§£ç å™¨å’Œå“åº”ç¼–ç å™¨ï¼Œå¤„ç† HTTP åè®®çš„è¯·æ±‚å’Œå“åº”ã€‚</li></ul><ol><li><strong>ChunkedWriteHandler</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipeline.addLast(<span class="keyword">new</span> <span class="title class_">ChunkedWriteHandler</span>());</span><br></pre></td></tr></table></figure><ul><li><strong><code>ChunkedWriteHandler</code></strong>ï¼šå¤„ç†å¤§å—æ•°æ®çš„å†™æ“ä½œï¼Œæ”¯æŒåˆ†å—å‘é€æ•°æ®ï¼Œé¿å…å†…å­˜å ç”¨è¿‡é«˜ã€‚</li></ul><ol><li><strong>HttpObjectAggregator</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpObjectAggregator</span>(<span class="number">8192</span>));</span><br></pre></td></tr></table></figure><ul><li><strong><code>HttpObjectAggregator</code></strong>ï¼šå°†å¤šä¸ª HTTP æ¶ˆæ¯æ®µèšåˆä¸ºä¸€ä¸ªå®Œæ•´çš„ HTTP è¯·æ±‚æˆ–å“åº”ï¼Œæœ€å¤§èšåˆæ•°æ®ä¸º <code>8192</code> å­—èŠ‚ã€‚</li><li>è§£å†³äº† HTTP è¯·æ±‚åˆ†æ®µä¼ è¾“çš„é—®é¢˜ï¼ˆä¾‹å¦‚å¤§å‹ POST è¯·æ±‚ï¼‰ã€‚</li></ul><ol><li><strong>WebSocket åè®®å‡çº§å¤„ç†å™¨</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipeline.addLast(<span class="keyword">new</span> <span class="title class_">WebSocketServerProtocolHandler</span>(<span class="string">&quot;/&quot;</span>));</span><br></pre></td></tr></table></figure><ul><li><pre><code>WebSocketServerProtocolHandler<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  ï¼š</span><br><span class="line"></span><br><span class="line">  - å°† HTTP å‡çº§ä¸º WebSocket åè®®ï¼Œå¤„ç†æ¡æ‰‹å’Œæ§åˆ¶å¸§ã€‚</span><br><span class="line">  - URI ä¸º `/`ï¼Œå³å¤„ç† WebSocket è¯·æ±‚æ—¶ä½¿ç”¨ `ws://localhost:port/`ã€‚</span><br><span class="line">  - ä½¿ç”¨çŠ¶æ€ç  `101` è¡¨ç¤ºåè®®åˆ‡æ¢æˆåŠŸã€‚</span><br><span class="line"></span><br><span class="line">## åˆ›å»ºè‡ªå®šä¹‰å¤„ç†å™¨</span><br><span class="line"></span><br><span class="line">åœ¨`websocket`åŒ…ä¸‹åˆ›å»ºåŒ…`<span class="keyword">handler</span>`,ç„¶ååˆ›å»ºç±»`NettyWebSocketServerHandler`(åšä¸»è¿™é‡Œå®Œæ•´çš„è·¯å¾„ä¸º:`com.lambda.simplenetty.websocket.<span class="keyword">handler</span>.NettyWebSocketServerHandler`)</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line"><span class="keyword">package</span> com.lambda.simplenetty.websocket.<span class="keyword">handler</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.netty.channel.ChannelHandler.Sharable;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.ChannelHandlerContext;</span><br><span class="line"><span class="keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;</span><br><span class="line"><span class="keyword">import</span> io.netty.<span class="keyword">handler</span>.codec.http.websocketx.TextWebSocketFrame;</span><br><span class="line"><span class="keyword">import</span> io.netty.<span class="keyword">handler</span>.timeout.IdleState;</span><br><span class="line"><span class="keyword">import</span> io.netty.<span class="keyword">handler</span>.timeout.IdleStateEvent;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//SimpleChannelInboundHandler&lt;T&gt;æ¶ˆæ¯å¤„ç†å®Œåä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æº,è€ŒChannelInboundHandlerAdapterå¤„ç†ByteBuféœ€è¦è‡ªå·±æ˜¾å¼é‡Šæ”¾æ¶ˆæ¯(TextWebSocketFrameä¸éœ€è¦)</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯ChannelInboundHandlerAdapteré€‚ç”¨äºå¤„ç†ä»»æ„ç±»å‹çš„æ¶ˆæ¯,è€ŒSimpleChannelInboundHandler&lt;T&gt;æ³›å‹ T æŒ‡å®šäº†è¦å¤„ç†çš„æ¶ˆæ¯ç±»å‹</span></span><br><span class="line"><span class="comment">//SimpleChannelInboundHandler&lt;T&gt;æ˜¯è€ŒChannelInboundHandlerAdapterçš„å­ç±»</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Sharable</span><span class="comment">//@Sharable æ˜¯ Netty ä¸­çš„ä¸€ä¸ªæ³¨è§£ï¼Œç”¨äºæ ‡è¯† ChannelHandler ç±»å¯ä»¥åœ¨å¤šä¸ª Channel ä¸­å…±äº«ï¼ˆå³å¯ä»¥è¢«å¤šä¸ª Channel å®ä¾‹å¤ç”¨ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NettyWebSocketServerHandler</span> <span class="keyword">extends</span> <span class="title">SimpleChannelInboundHandler</span>&lt;<span class="title">TextWebSocketFrame</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“è¿æ¥è¢«å»ºç«‹æ—¶è°ƒç”¨ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctx ctx</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">handlerAdded</span><span class="params">(ChannelHandlerContext ctx)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å¯ä»¥åœ¨è¿™é‡Œåšäº›åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“ ChannelHandler è¢«ä»ç®¡é“ï¼ˆChannelPipelineï¼‰ä¸­ç§»é™¤æ—¶ï¼ŒNetty ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚å®ƒé€šå¸¸åœ¨æŸäº›è¿æ¥å…³é—­æˆ–å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶è¢«è§¦å‘</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctx ctx</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">handlerRemoved</span><span class="params">(ChannelHandlerContext ctx)</span> </span>&#123;</span><br><span class="line">        log.warn(<span class="string">&quot;è§¦å‘ handlerRemoved æ‰çº¿![&#123;&#125;]&quot;</span>, ctx.channel().id());</span><br><span class="line">        <span class="comment">//è¿™é‡Œåšä¸€äº›ä¸‹çº¿å¤„ç†,æ¯”å¦‚å†…å­˜é‡Šæ”¾ç­‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å½“å®¢æˆ·ç«¯çš„è¿æ¥å…³é—­æˆ–è¢«æœåŠ¡å™¨ä¸»åŠ¨å…³é—­æ—¶ï¼ŒNetty ä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯è¿æ¥å¤„äº éæ´»åŠ¨çŠ¶æ€ï¼Œå³è¿æ¥å·²ç»æ–­å¼€æˆ–å¤±æ•ˆ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctx ctx</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">channelInactive</span><span class="params">(ChannelHandlerContext ctx)</span> </span>&#123;</span><br><span class="line">        log.warn(<span class="string">&quot;è§¦å‘ channelInactive æ‰çº¿![&#123;&#125;]&quot;</span>, ctx.channel().id());</span><br><span class="line">        <span class="comment">//è¿™é‡Œåšä¸€äº›ä¸‹çº¿å¤„ç†,æ¯”å¦‚å†…å­˜é‡Šæ”¾ç­‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶æˆ–ç‰¹æ®Šäº‹ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctx ChannelHandlerContext</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> evt Object</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">userEventTriggered</span><span class="params">(ChannelHandlerContext ctx, Object evt)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (evt <span class="keyword">instanceof</span> IdleStateEvent) &#123;</span><br><span class="line">            IdleStateEvent idleStateEvent = (IdleStateEvent) evt;</span><br><span class="line">            <span class="comment">// è¯»ç©ºé—²</span></span><br><span class="line">            <span class="keyword">if</span> (idleStateEvent.state() == IdleState.READER_IDLE) &#123;</span><br><span class="line">                <span class="comment">// å…³é—­ç”¨æˆ·çš„è¿æ¥,å…³é—­è¿æ¥è®°å¾—åšä¸‹çº¿æ“ä½œ</span></span><br><span class="line">                log.info(<span class="string">&quot;æœªè¯»å–åˆ°ç”¨æˆ·å¿ƒè·³,æ­£åœ¨å…³é—­WebSocketè¿æ¥,channelId:[&#123;&#125;]&quot;</span>, ctx.channel().id());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">super</span>.userEventTriggered(ctx, evt);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯»å–å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æŠ¥æ–‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ctx ctx</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg å®¢æˆ·ç«¯å‘æ¥çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">void</span> <span class="title">channelRead0</span><span class="params">(ChannelHandlerContext ctx, TextWebSocketFrame msg)</span> </span>&#123;</span><br><span class="line">        ctx.channel().writeAndFlush(<span class="keyword">new</span> TextWebSocketFrame(String.format(<span class="string">&quot;æ¥æ”¶åˆ°ç”¨æˆ·å‘é€æ¥çš„ä¿¡æ¯,%s&quot;</span>, msg.text())));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li></ul><p>è¿™é‡Œæœ€é‡è¦çš„ä¸º<code>channelRead0</code>æ–¹æ³•,æˆ‘ä»¬ä¸»è¦åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¤„ç†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯,å‘é€æ¶ˆæ¯æˆ‘ä»¬ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.channel().writeAndFlush(<span class="keyword">new</span> <span class="title class_">TextWebSocketFrame</span>(<span class="string">&quot;è¿”å›çš„æ¶ˆæ¯&quot;</span>));</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ è‡ªå®šä¹‰å¤„ç†å™¨">æ·»åŠ è‡ªå®šä¹‰å¤„ç†å™¨</h2><p>ä¿®æ”¹<code>NettyWebSocketServer</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">// æœåŠ¡å™¨å¯åŠ¨å¼•å¯¼å¯¹è±¡</span></span><br><span class="line">        <span class="type">ServerBootstrap</span> <span class="variable">serverBootstrap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerBootstrap</span>();</span><br><span class="line">        serverBootstrap.group(<span class="built_in">this</span>.bossGroup, <span class="built_in">this</span>.workerGroup)</span><br><span class="line">                .channel(NioServerSocketChannel.class)</span><br><span class="line">                .option(ChannelOption.SO_BACKLOG, <span class="number">128</span>)</span><br><span class="line">                .option(ChannelOption.SO_KEEPALIVE, <span class="literal">true</span>)</span><br><span class="line">                .handler(<span class="keyword">new</span> <span class="title class_">LoggingHandler</span>(LogLevel.INFO)) <span class="comment">// ä¸º bossGroup æ·»åŠ  æ—¥å¿—å¤„ç†å™¨</span></span><br><span class="line">                .childHandler(<span class="keyword">new</span> <span class="title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">initChannel</span><span class="params">(SocketChannel socketChannel)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                        <span class="type">ChannelPipeline</span> <span class="variable">pipeline</span> <span class="operator">=</span> socketChannel.pipeline();</span><br><span class="line">                        <span class="comment">//30ç§’å®¢æˆ·ç«¯æ²¡æœ‰å‘æœåŠ¡å™¨å‘é€å¿ƒè·³åˆ™å…³é—­è¿æ¥(éœ€è¦çš„è¯åˆ™æŠŠè¿™æ®µæ‰“å¼€)</span></span><br><span class="line"><span class="comment">//                        pipeline.addLast(new IdleStateHandler(30, 0, 0));</span></span><br><span class="line">                        <span class="comment">// å› ä¸ºä½¿ç”¨httpåè®®ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨httpçš„ç¼–ç å™¨ï¼Œè§£ç å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpServerCodec</span>());</span><br><span class="line">                        <span class="comment">// ä»¥å—æ–¹å¼å†™ï¼Œæ·»åŠ  chunkedWriter å¤„ç†å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">ChunkedWriteHandler</span>());</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. httpæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯åˆ†æ®µçš„ï¼ŒHttpObjectAggregatorå¯ä»¥æŠŠå¤šä¸ªæ®µèšåˆèµ·æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“æµè§ˆå™¨å‘é€å¤§é‡æ•°æ®æ—¶ï¼Œå°±ä¼šå‘å‡ºå¤šæ¬¡ httpè¯·æ±‚çš„åŸå› </span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">HttpObjectAggregator</span>(<span class="number">8192</span>));</span><br><span class="line">                        <span class="comment">/**</span></span><br><span class="line"><span class="comment">                         * è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">                         *  1. å¯¹äº WebSocketï¼Œå®ƒçš„æ•°æ®æ˜¯ä»¥å¸§frame çš„å½¢å¼ä¼ é€’çš„ï¼›</span></span><br><span class="line"><span class="comment">                         *  2. å¯ä»¥çœ‹åˆ° WebSocketFrame ä¸‹é¢æœ‰6ä¸ªå­ç±»</span></span><br><span class="line"><span class="comment">                         *  3. æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼š ws://localhost:7000/hello è¡¨ç¤ºè¯·æ±‚çš„uri</span></span><br><span class="line"><span class="comment">                         *  4. WebSocketServerProtocolHandler æ ¸å¿ƒåŠŸèƒ½æ˜¯æŠŠ httpåè®®å‡çº§ä¸º ws åè®®ï¼Œä¿æŒé•¿è¿æ¥ï¼›</span></span><br><span class="line"><span class="comment">                         *      æ˜¯é€šè¿‡ä¸€ä¸ªçŠ¶æ€ç  101 æ¥åˆ‡æ¢çš„</span></span><br><span class="line"><span class="comment">                         */</span></span><br><span class="line">                        <span class="comment">//è¿™ä¸ªæ˜¯Nettyæ”¯æŒWebSocketçš„å¤„ç†</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">WebSocketServerProtocolHandler</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line">                        <span class="comment">//æ·»åŠ è‡ªå®šä¹‰å¤„ç†å™¨</span></span><br><span class="line">                        pipeline.addLast(<span class="keyword">new</span> <span class="title class_">NettyWebSocketServerHandler</span>());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ï¼Œé˜»å¡ç›´åˆ°å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">        serverBootstrap.bind(<span class="built_in">this</span>.port).sync();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>pipeline</code>ä¸­æ·»åŠ æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„<code>NettyWebSocketServerHandler</code></p><h2 id="å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯åŠ¨æœåŠ¡,ç„¶åæ‰“å¼€<code>apifox</code>,æ–°å»ºä¸ª<code>websocket</code>æ¥å£,ç„¶åè¾“å…¥<code>ws://127.0.0.1:8090/</code>,ç‚¹å‡»è¿æ¥</p><p><a href="https://lambda-image-1.pages.dev/image-20241204230756954.png"><img src="https://lambda-image-1.pages.dev/image-20241204230756954.png" alt="image-20241204230756954"></a></p><p>ç„¶åè¾“å…¥ä½ è¦å‘é€çš„æ¶ˆæ¯,ç‚¹å‡»å‘é€</p><p><a href="https://lambda-image-1.pages.dev/image-20241204231041515.png"><img src="https://lambda-image-1.pages.dev/image-20241204231041515.png" alt="image-20241204231041515"></a></p><p>è‡³æ­¤,åº”è¯¥ç®€å•çš„åŸºäº<code>Netty</code>çš„<code>websocket</code>æœåŠ¡å™¨å°±æ­å»ºå®Œæˆäº†</p>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;æœ€è¿‘è¦å¼„å®‰å“çš„ç»“è¯¾è®¾è®¡,é‡Œé¢åˆšå¥½æœ‰è¦ç”¨&lt;code&gt;WebSocket&lt;/code&gt;å®ç°ä¸€ä¸ªç®€æ˜“èŠå¤©å®¤çš„é€‰é¢˜,æ­£å¥½ä¹‹å‰å­¦äº†&lt;code&gt;WebSocket&lt;/code&gt;æ²¡æœ‰æ€»ç»“ç¬”è®°,å› æ­¤å†™ç¯‡åšå®¢æ€»ç»“ä¸€ä¸‹&lt;/p&gt;
&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a</summary>
        
      
    
    
    
    <category term="åç«¯å¼€å‘" scheme="https://www.wikunkun.asia/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Java" scheme="https://www.wikunkun.asia/tags/Java/"/>
    
    <category term="Netty" scheme="https://www.wikunkun.asia/tags/Netty/"/>
    
    <category term="SpringBoot" scheme="https://www.wikunkun.asia/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…Linuxè™šæ‹Ÿæœº</title>
    <link href="https://www.wikunkun.asia/posts/25452eac.html"/>
    <id>https://www.wikunkun.asia/posts/25452eac.html</id>
    <published>2024-12-19T01:59:38.000Z</published>
    <updated>2025-02-13T10:39:02.417Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·">å·¥å…·</h2><ul><li>VMware-Workstation-Proè½¯ä»¶</li><li>Linuxé•œåƒ</li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li>windows10</li></ul><h2 id="åˆ›å»ºè™šæ‹Ÿæœº">åˆ›å»ºè™šæ‹Ÿæœº</h2><p><strong>å…ˆæŒ‰ç…§ä»¥ä¸‹å›¾ç‰‡çš„æ­¥éª¤è¿›è¡Œ</strong>,æ–°å»ºè™šæ‹Ÿæœºå,é€‰æ‹©<strong>è‡ªå®šä¹‰</strong>,ç„¶åä¸‹ä¸€æ­¥</p><p><a href="https://lambda-image-1.pages.dev/image-20240126155609399.png"><img src="https://lambda-image-1.pages.dev/image-20240126155609399.png" alt="image-20240126155609399"></a></p><p>è¿™é‡Œ<strong>ä¸éœ€è¦ä¿®æ”¹</strong>,ç›´æ¥ä¸‹ä¸€æ­¥</p><p><a href="https://lambda-image-1.pages.dev/image-20240126155644271.png"><img src="https://lambda-image-1.pages.dev/image-20240126155644271.png" alt="image-20240126155644271"></a></p><p>é€‰æ‹©<strong>ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</strong>,ç„¶åä¸‹ä¸€æ­¥</p><p><a href="https://lambda-image-1.pages.dev/image-20240126155711444.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126155711444"></a></p><p>è¿™é‡Œ<strong>å®¢æˆ·æœºæ“ä½œç³»ç»Ÿ</strong>é€‰æ‹©<code>Linux</code>,ç„¶åç‰ˆæœ¬é€‰æ‹©ä½ ä¸‹è½½çš„**<code>Linux</code>é•œåƒ**çš„ç‰ˆæœ¬(åšä¸»è¿™é‡Œä¸º<code>CentOS7</code>)</p><p><a href="https://lambda-image-1.pages.dev/image-20240126155756335.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126155756335"></a></p><p>è¾“å…¥<strong>è™šæ‹Ÿæœºçš„åç§°</strong>å’Œ<strong>å®‰è£…çš„ä½ç½®</strong></p><p><a href="https://lambda-image-1.pages.dev/image-20240126155908285.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126155908285"></a></p><p>æ¥ä¸‹æ¥è®¾ç½®çš„<strong>å†…æ ¸æ•°é‡</strong>æ ¹æ®è‡ªå·±ç”µè„‘çš„æƒ…å†µæ¥è®¾ç½®</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160008911.png"><img src="https://lambda-image-1.pages.dev/image-20240126160008911.png" alt="image-20240126160008911"></a></p><p>åšä¸»è¿™é‡Œæœ€å¤š14æ ¸</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160110139.png"><img src="https://lambda-image-1.pages.dev/image-20240126160110139.png" alt="image-20240126160110139"></a></p><p>è¿™é‡Œ<strong>å†…å­˜çš„è®¾ç½®</strong>ä¹Ÿè¦æ ¹æ®ç”µè„‘çš„æƒ…å†µæ¥è®¾ç½®</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160143915.png"><img src="https://lambda-image-1.pages.dev/image-20240126160143915.png" alt="image-20240126160143915"></a></p><p>è¿™é‡Œæœ€å¤šåˆ†é…40G</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160215696.png"><img src="https://lambda-image-1.pages.dev/image-20240126160215696.png" alt="image-20240126160215696"></a></p><p><strong>ç½‘ç»œè¿æ¥</strong>é€‰æ‹©<strong>ä½¿ç”¨ç½‘ç»œåœ°å€è½¬æ¢(NAT)</strong></p><p><a href="https://lambda-image-1.pages.dev/image-20240126160234822.png"><img src="https://lambda-image-1.pages.dev/image-20240126160234822.png" alt="image-20240126160234822"></a></p><p><strong>I/Oæ§åˆ¶å™¨ç±»å‹</strong>é€‰æ‹©é»˜è®¤æ¨èçš„</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160246467.png"><img src="https://lambda-image-1.pages.dev/image-20240126160246467.png" alt="image-20240126160246467"></a></p><p><strong>ç£ç›˜ç±»å‹</strong>ä¹Ÿé€‰æ‹©é»˜è®¤æ¨èçš„</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160302640.png"><img src="https://lambda-image-1.pages.dev/image-20240126160302640.png" alt="image-20240126160302640"></a></p><p>é€‰æ‹©<strong>åˆ›å»ºæ–°çš„è™šæ‹Ÿç£ç›˜</strong></p><p><a href="https://lambda-image-1.pages.dev/image-20240126160327687.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126160327687"></a></p><p><strong>æŒ‡å®šç£ç›˜çš„å®¹é‡</strong>,è¿™ä¸ªæ ¹æ®ä¸ªäººçš„ç”µè„‘æƒ…å†µæ¥è®¾ç½®</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160412211.png"><img src="https://lambda-image-1.pages.dev/image-20240126160412211.png" alt="image-20240126160412211"></a></p><h2 id="å®‰è£…æ“ä½œç³»ç»Ÿ">å®‰è£…æ“ä½œç³»ç»Ÿ</h2><p>ç‚¹å‡»<strong>CD/DVD(IDE)</strong></p><p><a href="https://lambda-image-1.pages.dev/image-20240126160438803.png"><img src="https://lambda-image-1.pages.dev/image-20240126160438803.png" alt="image-20240126160438803"></a></p><p>è¿™é‡Œéœ€è¦æå‰ä¸‹è½½äº†<strong>CentOS 7</strong>çš„æ–‡ä»¶(å…¶ä»–çš„<strong>Linuxé•œåƒæ–‡ä»¶</strong>ä¹Ÿå¯ä»¥)</p><p><a href="https://lambda-image-1.pages.dev/image-20240126160526954.png"><img src="https://lambda-image-1.pages.dev/image-20240126160526954.png" alt="image-20240126160526954"></a></p><h2 id="é…ç½®è™šæ‹Ÿæœºçš„ç½‘ç»œ">é…ç½®è™šæ‹Ÿæœºçš„ç½‘ç»œ</h2><p>ç‚¹å‡»<strong>ç¼–è¾‘</strong>-&gt;<strong>è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</strong></p><p><a href="https://lambda-image-1.pages.dev/image-20240126160601491.png"><img src="https://lambda-image-1.pages.dev/image-20240126160601491.png" alt="image-20240126160601491"></a></p><p>è¿™é‡Œæ¨èå‹¾é€‰ä¸Š&quot;<strong>ä½¿ç”¨æœ¬åœ°DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿæœº</strong>&quot;,è¿™æ ·åé¢é…ç½®æ¯ä¸ªè™šæ‹Ÿæœºçš„ç½‘ç»œçš„æ—¶å€™å¯ä»¥ç›´æ¥æŠ„,å­ç½‘IPä¸€èˆ¬ä¸ç”¨ç®¡,å­ç½‘æ©ç ä¹Ÿæ˜¯</p><p><a href="https://lambda-image-1.pages.dev/image-20240126161019216.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126161019216"></a></p><p><a href="https://lambda-image-1.pages.dev/image-20240126161404577.png"><img src="https://lambda-image-1.pages.dev/image-20240126161404577.png" alt="image-20240126161404577"></a></p><h2 id="å®‰è£…è™šæ‹Ÿæœº">å®‰è£…è™šæ‹Ÿæœº</h2><h3 id="å®‰è£…CentOSæ“ä½œç³»ç»Ÿ">å®‰è£…CentOSæ“ä½œç³»ç»Ÿ</h3><p><a href="https://lambda-image-1.pages.dev/image-20240126161532972.png"><img src="https://lambda-image-1.pages.dev/image-20240126161532972.png" alt="image-20240126161532972"></a></p><p><a href="https://lambda-image-1.pages.dev/image-20240126161557884.png"><img src="https://lambda-image-1.pages.dev/image-20240126161557884.png" alt="image-20240126161557884"></a></p><p>è¿™é‡Œè¦æ¨èé€‰æ‹©&quot;è™šæ‹ŸåŒ–ä¸»æœº&quot;ä¸ç„¶ç­‰è™šæ‹Ÿæœºè£…å¥½ä»¥åè¿ä¸€äº›åŸºç¡€çš„å‘½ä»¤éƒ½æ²¡æœ‰</p><p><a href="https://lambda-image-1.pages.dev/image-20240126161629542.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126161629542"></a></p><p>è¿™ä¸ªè¿›å»ç‚¹ä¸€ä¸‹å®Œæˆå°±è¡Œ</p><p><a href="https://lambda-image-1.pages.dev/image-20240126161735294.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126161735294"></a></p><p><a href="https://lambda-image-1.pages.dev/image-20240126161746017.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126161746017"></a></p><p>è¿™é‡Œæ˜¯æœ€é‡è¦çš„ä¸€æ­¥,è¿™é‡Œæ²¡æœ‰é…å¥½,åé¢å°±è¦å»é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹</p><p><a href="https://lambda-image-1.pages.dev/image-20240126161846632.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126161846632"></a></p><p><a href="https://lambda-image-1.pages.dev/image-20240126162104641.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126162104641"></a></p><p>å¼€å¯ä»¥å¤ªç½‘å</p><p><a href="https://lambda-image-1.pages.dev/image-20240126162222356.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126162222356"></a></p><p><a href="https://lambda-image-1.pages.dev/image-20240126162533864.png"><img src="https://lambda-image-1.pages.dev/image-20240126162533864.png" alt="image-20240126162533864"></a></p><p>ä¹‹å‰ç›´æ¥å®‰è£…,è®¾ç½®<code>roo</code>tå¯†ç å°±è¡Œ</p><p><a href="https://lambda-image-1.pages.dev/image-20240126162637001.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="image-20240126162637001"></a></p><p>å®‰è£…å®Œæˆåéœ€è¦è¿›è¡Œæµ‹è¯•,çœ‹èƒ½ä¸èƒ½è¿ä¸Šç½‘</p><p>å…ˆçœ‹çœ‹IPåœ°å€å’Œæˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„æ˜¯å¦ä¸€æ ·,è¾“å…¥<code>ifconfig</code>,è¿™è¾¹å¯ä»¥çœ‹åˆ°<code>ens33</code>çš„<code>ip</code>åœ°å€ä¸º<code>192.168.190.128</code>,å’Œæˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„ä¸€æ ·</p><p><a href="https://lambda-image-1.pages.dev/image-20240126163141718.png"><img src="https://lambda-image-1.pages.dev/image-20240126163141718.png" alt="image-20240126163141718"></a></p><p>ä¹‹å<code>ping</code>ä¸€ä¸‹ç™¾åº¦çœ‹çœ‹æ˜¯å¦èƒ½pingé€š,è¾“å…¥<code>ping www.baidu.com</code>,è¿™è¾¹å¯ä»¥çœ‹åˆ°å¯ä»¥<code>ping</code>é€š</p><p><a href="https://lambda-image-1.pages.dev/image-20240126163306529.png"><img src="https://lambda-image-1.pages.dev/image-20240126163306529.png" alt="image-20240126163306529"></a></p><p>ä¹‹ååœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Š(ä¸æ˜¯è™šæ‹Ÿæœºé‡Œé¢)<code>WIN+R</code>,è¾“å…¥<code>cmd</code></p><p><a href="https://lambda-image-1.pages.dev/image-20240126163404483.png"><img src="https://lambda-image-1.pages.dev/image-20240126163404483.png" alt="image-20240126163404483"></a></p><p>æˆ‘ä»¬éœ€è¦<code>ping</code>ä¸€ä¸‹è™šæ‹Ÿæœºçš„IPåœ°å€çœ‹çœ‹èƒ½ä¸èƒ½<code>ping</code>é€š,è¾“å…¥<code>ping 192.168.190.128</code>(è¿™ä¸ªipåœ°å€è¾“å…¥ä½ è‡ªå·±è™šæ‹Ÿçš„çš„ipåœ°å€),å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™è¾¹å¯ä»¥<code>ping</code>é€šè™šæ‹Ÿæœº,è‡³æ­¤è™šæ‹Ÿæœºçš„ç½‘ç»œæ£€æµ‹æ²¡æœ‰é—®é¢˜</p><p><a href="https://lambda-image-1.pages.dev/image-20240126163535692.png"><img src="https://lambda-image-1.pages.dev/image-20240126163535692.png" alt="image-20240126163535692"></a></p><h3 id="å®‰è£…Ubuntuæ“ä½œç³»ç»Ÿ">å®‰è£…Ubuntuæ“ä½œç³»ç»Ÿ</h3><h4 id="å®‰è£…">å®‰è£…</h4><p>é€‰æ‹©<code>Try or Install Ubuntu Server</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112223453743.png" alt="image-20250112223453743"></p><p>é€‰æ‹©<code>English</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112223544302.png" alt="image-20250112223544302"></p><p>é€‰æ‹©<code>Continue without updating</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112223612360.png" alt="image-20250112223612360"></p><p>é€‰æ‹©<code>Done</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112223641719.png" alt="image-20250112223641719"></p><p>é€‰æ‹©é»˜è®¤çš„ç¬¬ä¸€ä¸ª<code>Ubuntu Server</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112223722920.png" alt="image-20250112223722920"></p><p>ç½‘ç»œé…ç½®ï¼Œä½¿ç”¨ DHCP æˆ–è€…é™æ€IP,é€‰æ‹©ç¬¬ä¸€ä¸ª,ç„¶åå›è½¦</p><p><img src="https://lambda-image-1.pages.dev/image-20250112223833908.png" alt="image-20250112223833908"></p><p>é€‰æ‹©<code>Edit IPv4</code>ç„¶åå›è½¦</p><p><img src="https://lambda-image-1.pages.dev/image-20250112223859058.png" alt="image-20250112223859058"></p><p>é€‰æ‹©<code>Manual</code>ç„¶åå›è½¦</p><p><img src="https://lambda-image-1.pages.dev/image-20250112223937375.png" alt="image-20250112223937375"></p><p>å¡«å†™ç›¸å…³ä¿¡æ¯</p><p><img src="https://lambda-image-1.pages.dev/image-20250112224328676.png" alt="image-20250112224328676"></p><p>é€‰æ‹©<code>Done</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112224344188.png" alt="image-20250112224344188"></p><p><code>Proxy address</code>ä¸ç”¨é…ç½®</p><p><img src="https://lambda-image-1.pages.dev/image-20250112224406000.png" alt="image-20250112224406000"></p><p>è®¾ç½®é•œåƒæºåœ°å€ï¼Œè¿™ä¸ªå¯ä»¥é…ç½®é˜¿é‡Œäº‘(<a href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a>)ï¼Œä¸‹è½½åŠ é€Ÿ**(éå¿…é¡»)**</p><p><img src="https://lambda-image-1.pages.dev/image-20250112224643708.png" alt="image-20250112224643708"></p><p>é€‰æ‹©<code>Done</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112224728740.png" alt="image-20250112224728740"></p><p>é€‰æ‹©<code>Done</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112224749999.png" alt="image-20250112224749999"></p><p>é€‰æ‹©<code>Continue</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112224826478.png" alt="image-20250112224826478"></p><p>è®¾ç½®è®¡ç®—æœºåå’Œç”¨æˆ·ä»¥åŠå¯†ç </p><p><img src="https://lambda-image-1.pages.dev/image-20250112225005717.png" alt="image-20250112225005717"></p><p>é€‰æ‹©<code>Continue</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112225024198.png" alt="image-20250112225024198"></p><p>æŒ‰ç©ºæ ¼é”®é€‰æ‹©<code>OpenSSH</code>,ç„¶å<code>Done</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112225100288.png" alt="image-20250112225100288"></p><p>é€‰æ‹©<code>Done</code>,ç„¶åç­‰å¾…å®‰è£…</p><p><img src="https://lambda-image-1.pages.dev/image-20250112225148628.png" alt="image-20250112225148628"></p><p>é€‰æ‹©<code>Rebot Now</code></p><p><img src="https://lambda-image-1.pages.dev/image-20250112225501309.png" alt="image-20250112225501309"></p><p>è¾“å…¥è´¦å·å¯†ç ç™»å½•</p><p><img src="https://lambda-image-1.pages.dev/image-20250112225649923.png" alt="image-20250112225649923"></p><p>æ£€æŸ¥ç½‘ç»œæ˜¯å¦æ­£å¸¸</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112225742502.png" alt="image-20250112225742502"></p><h4 id="è®¾ç½®å…ç§˜é’¥ç™»å½•-éå¿…é¡»">è®¾ç½®å…ç§˜é’¥ç™»å½•(éå¿…é¡»)</h4><p>ç¼–è¾‘<code>/etc/ssh/sshd_config</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>è®¾ç½®<code>PubkeyAuthentication</code>ä¸<code>PasswordAuthentication</code>ä¸º<code>yes</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PubkeyAuthentication <span class="built_in">yes</span></span><br><span class="line">PasswordAuthentication <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112231147015.png" alt="image-20250112231147015"></p><p>ç”Ÿæˆå¯†é’¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112231540820.png" alt="image-20250112231540820"></p><p>è¿›å…¥<code>.ssh</code>ç›®å½•,å¯ä»¥çœ‹åˆ°å¯†é’¥å·²ç»ç”Ÿæˆäº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> .ssh</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112231646764.png" alt="image-20250112231646764"></p><p>ä½†æ˜¯è¿™ä¸ªå¯†é’¥æ˜¯<code>openssh</code>çš„ï¼Œä½¿ç”¨<code>MobaXterm</code>å»è¿æ¥çš„æ—¶å€™å¯èƒ½ä¼šå¯¼å…¥å¯†é’¥å¤±è´¥ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨å·¥å…·è½¬æ¢ä¸€ä¸‹å¯†é’¥</p><p>å®‰è£… putty å·¥å…·</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install -y putty</span><br></pre></td></tr></table></figure><p>å¯†é’¥è½¬åŒ–</p><p><strong><code>puttygen id_rsa -o ubuntu_id_rsa</code></strong></p><ul><li><strong><code>puttygen</code></strong>:<ul><li>ä¸€ä¸ªç”¨äºç”Ÿæˆå’Œè½¬æ¢ SSH å¯†é’¥çš„å·¥å…·ï¼Œé€šå¸¸éš PuTTY å·¥å…·åŒ…ä¸€èµ·æä¾›ã€‚</li><li>å®ƒå¯ä»¥ç”Ÿæˆ PuTTY ä¸“ç”¨æ ¼å¼ï¼ˆPPKï¼‰å¯†é’¥ï¼Œå¹¶æ”¯æŒå°†å…¶ä»–æ ¼å¼çš„å¯†é’¥è½¬æ¢ä¸º PPK æ ¼å¼ï¼Œæˆ–è€…åå‘è½¬æ¢ã€‚</li></ul></li><li><strong><code>id_rsa</code></strong>:<ul><li>è¾“å…¥æ–‡ä»¶ï¼Œè¡¨ç¤ºä¸€ä¸ªå·²æœ‰çš„ SSH ç§é’¥æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ OpenSSH æ ¼å¼ï¼‰ã€‚</li></ul></li><li><strong><code>-o ubuntu_id_rsa</code></strong>:<ul><li><code>-o</code> å‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶ã€‚</li><li><code>ubuntu_id_rsa</code> æ˜¯è¾“å‡ºæ–‡ä»¶çš„åç§°ï¼Œè¡¨ç¤ºå°† <code>id_rsa</code> è½¬æ¢åä¿å­˜ä¸ºæ–°çš„æ–‡ä»¶ã€‚</li></ul></li></ul><p><strong><code>puttygen ubuntu_id_rsa -O private-openssh -o ubuntu_id_rsa.pem</code></strong></p><ul><li><strong><code>puttygen</code></strong>:<ul><li>å†æ¬¡è°ƒç”¨ <code>puttygen</code> å·¥å…·ã€‚</li></ul></li><li><strong><code>ubuntu_id_rsa</code></strong>:<ul><li>è¾“å…¥æ–‡ä»¶ï¼Œè¡¨ç¤ºä¸€ä¸ª PuTTY æ ¼å¼çš„ç§é’¥æ–‡ä»¶ï¼ˆPPK æ ¼å¼ï¼‰ã€‚</li></ul></li><li><strong><code>-O private-openssh</code></strong>:<ul><li>æŒ‡å®šè¾“å‡ºæ ¼å¼ä¸º OpenSSH çš„ç§é’¥æ ¼å¼ã€‚</li></ul></li><li><strong><code>-o ubuntu_id_rsa.pem</code></strong>:<ul><li>æŒ‡å®šè¾“å‡ºæ–‡ä»¶åç§°ä¸º <code>ubuntu_id_rsa.pem</code>ã€‚</li></ul></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#id_rsaä¸ºä¸Šé¢ç”Ÿæˆçš„æ–‡ä»¶</span></span><br><span class="line">puttygen id_rsa -o ubuntu_id_rsa</span><br><span class="line">puttygen ubuntu_id_rsa -O private-openssh -o ubuntu_id_rsa.pem</span><br></pre></td></tr></table></figure><p>å°†å…¬é’¥å¯¼å…¥æŒ‡å®šæ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> id_rsa.pub  &gt; authorized_keys</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-20250112232018680.png" alt="image-20250112232018680"></p><p>å°†å¯†é’¥(<code>ubuntu_id_rsa.pem</code>)å¯¼å‡ºåˆ°æœ¬åœ°</p><p><img src="https://lambda-image-1.pages.dev/image-20250112232511589.png" alt="image-20250112232511589"></p><h4 id="è¡¥å……">è¡¥å……</h4><p><strong>å®‰è£… ifconfig</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install net-tools</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹IP</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure><p><strong>å¼€å¯rootç”¨æˆ·ç™»å½•</strong></p><p>è¿è¡Œä¸‹æ–¹çš„å‘½ä»¤,ç„¶åè¾“å…¥å¯†ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd root</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹sshdé…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°<code>#PermitRootLogin prohibit-password</code>,åœ¨ä¸‹æ–¹æ·»åŠ ä»¥ä¸‹å†…å®¹</p><p><img src="https://lambda-image-1.pages.dev/image-20250112230406265.png" alt="image-20250112230406265"></p><p>é‡å¯<code>sshd</code>æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart sshd</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;h2 id=&quot;å·¥å…·&quot;&gt;å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;VMware-Workstation-Proè½¯ä»¶&lt;/li&gt;
&lt;li&gt;Linuxé•œåƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ç¯å¢ƒ&quot;&gt;ç¯å¢ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;windows10&lt;/li&gt;
&lt;/ul&gt;
&lt;h2</summary>
        
      
    
    
    
    <category term="è™šæ‹ŸåŒ–æŠ€æœ¯" scheme="https://www.wikunkun.asia/categories/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="æ•™ç¨‹" scheme="https://www.wikunkun.asia/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="è™šæ‹Ÿæœº" scheme="https://www.wikunkun.asia/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
    <category term="VMware" scheme="https://www.wikunkun.asia/tags/VMware/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuä¸Šå®‰è£…V2rayA</title>
    <link href="https://www.wikunkun.asia/posts/20241127.html"/>
    <id>https://www.wikunkun.asia/posts/20241127.html</id>
    <published>2024-12-19T01:57:22.983Z</published>
    <updated>2025-02-13T10:39:02.425Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰å› ä¸ºä¸€äº›åŸå› ,éœ€è¦åœ¨<code>Linux</code>ä¸Šä½¿ç”¨é­”æ³•,ç½‘ä¸ŠæŸ¥è¯¢äº†å¾ˆå¤šå…³äºè¿™æ–¹é¢çš„èµ„æ–™,ä½†æ˜¯å¤§éƒ¨åˆ†éƒ½æ˜¯ <code>Clash</code> çš„,ä½†æ˜¯ç”±äºä¸€äº›åŸæ¥,å¯¼è‡´ç°åœ¨<code>Clash</code>ä¸å¯ç”¨,åé¢åˆå»æŸ¥äº†å¾ˆå¤šç›¸å…³çš„èµ„æ–™,æœ€ç»ˆé€‰æ‹©äº†<code>V2rayA</code>, ä»¥ä¸‹æ˜¯ <code>V2rayA</code> åœ¨<code>Ubuntu</code>ä¸Šçš„å®‰è£…æ•™ç¨‹</p><h2 id="å·¥å…·">å·¥å…·</h2><ul><li>ä¸€æ¬¾ <code>SSH</code> è¿æ¥å·¥å…· (æœ¬æ–‡ç”¨ <code>MobaXterm</code>)</li><li>ä¸€å°äº‘æœåŠ¡å™¨ (æœ¬æ–‡ç”¨é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨)</li></ul><h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2><ul><li><code>Ubuntu22.04.4</code></li></ul><h2 id="å®‰è£…V2ray">å®‰è£…V2ray</h2><p>å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œå¹¶æ‰§è¡Œ</p><h3 id="æ·»åŠ å…¬é’¥">æ·»åŠ å…¬é’¥</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO - https://apt.v2raya.org/key/public-key.asc | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/keyrings/v2raya.asc</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ è½¯ä»¶æº">æ·»åŠ è½¯ä»¶æº</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [signed-by=/etc/apt/keyrings/v2raya.asc] https://apt.v2raya.org/ v2raya main&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/v2raya.list</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°">æ›´æ–°</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…">å®‰è£…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install v2raya v2ray</span><br></pre></td></tr></table></figure><h3 id="é…ç½®">é…ç½®</h3><p>ä¿®æ”¹ /etc/default/v2raya é…ç½®æ–‡ä»¶è®© v2raya ä½¿ç”¨ v2ray-core**(è¿™ä¸€æ­¥éå¿…é¡»)**</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/default/v2raya</span><br></pre></td></tr></table></figure><p>æ·»åŠ é…ç½®ä¸¤è¡Œé…ç½®</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">V2RAYA_V2RAY_BIN=/usr/local/v2ray-core/v2ray</span><br><span class="line">V2RAYA_V2RAY_CONFDIR=/usr/local/v2ray-core</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¼€æœºè‡ªå¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> --now v2raya</span><br></pre></td></tr></table></figure><p>â€“now å‚æ•°è¡¨ç¤ºè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨å¹¶ç«‹å³å¯åŠ¨v2raya</p><h3 id="æŸ¥çœ‹æœåŠ¡çŠ¶æ€">æŸ¥çœ‹æœåŠ¡çŠ¶æ€</h3><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="keyword"> system</span>ctl status v2raya</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-V2rayA">ä½¿ç”¨ V2rayA</h3><h4 id="è®¿é—®-V2rayA">è®¿é—® V2rayA</h4><p>è®¿é—® <a href="http://ip:2017">http://ip:2017</a>, åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥é¡µé¢æ—¶ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼Œè¯·å¦¥å–„ä¿ç®¡ä½ çš„ç”¨æˆ·åå¯†ç ï¼Œå¦‚æœé—å¿˜ï¼Œå¯ä»¥ä½¿ç”¨ <code>sudo v2raya --reset-password</code> å‘½ä»¤é‡ç½®ã€‚</p><h4 id="è·å–æœºåœºè®¢é˜…-url">è·å–æœºåœºè®¢é˜… url</h4><p>å¯ä»¥è¯•è¯•çœ‹è¿™äº› <a href="https://github.com/sharkDoor/vpn-free-nodes">https://github.com/sharkDoor/vpn-free-nodes</a></p><h4 id="å¯¼å…¥è®¢é˜…-url-æˆ–-èŠ‚ç‚¹-url">å¯¼å…¥è®¢é˜… url æˆ– èŠ‚ç‚¹ url</h4><p>æ ¹æ®ä»¥ä¸ŠæŒ‡å¼•è·å–åˆ°è®¢é˜… url æˆ–èŠ‚ç‚¹ url åï¼Œå°±å¯ä»¥å¯¼å…¥è®¢é˜…äº†ï¼Œè¯¦ç»†æ­¥éª¤å‚è€ƒä»¥ä¸‹æˆªå›¾ã€‚</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è®¢é˜… URL ç±»ä¼¼è¿™æ ·å­: https://xxx.xxxx.com/api_version<span class="number">2</span>/xxxxxxxx?<span class="keyword">sub</span><span class="operator">=</span><span class="number">3</span>&amp;extend<span class="operator">=</span><span class="number">1</span></span><br><span class="line"></span><br><span class="line">èŠ‚ç‚¹ URL ç±»ä¼¼è¿™æ ·å­:</span><br><span class="line"><span class="symbol"></span></span><br><span class="line"><span class="symbol">vmess:</span>//ew<span class="number">0</span>KICAxxxxxxxxxxbGN<span class="number">85</span>bm/<span class="number">5</span>pawMDJ<span class="number">8</span>MS<span class="number">4</span>xxxxxxxBsYy<span class="number">1</span>zZy<span class="number">5</span>nZXR<span class="number">4</span>bHgu</span><br><span class="line"><span class="symbol">trojan:</span>//<span class="number">224253</span>xxxxxx<span class="number">210</span>fca<span class="title">@xxxxp</span>:<span class="number">10060</span>#xxxxxx</span><br><span class="line"><span class="symbol">ss:</span>//xxxxxxxx<span class="operator">=</span><span class="title">@service.xxxxx.com</span>:<span class="number">50003</span>#xxxxxxx<span class="variable">%82</span><span class="variable">%2</span>B<span class="variable">%E7</span><span class="variable">%A7</span><span class="variable">%BB</span><span class="variable">%E5</span><span class="variable">%8</span>A<span class="variable">%A8</span></span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/import-servers.png" alt="import-servers"></p><h4 id="æ›´æ–°è®¢é˜…">æ›´æ–°è®¢é˜…</h4><p>æœ‰æ—¶å€™å¯¼å…¥ URL çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„æ›´æ–°è®¢é˜…ï¼Œæœ‰æ—¶å€™ä¸ä¼š</p><p><img src="https://lambda-image-1.pages.dev/update-scribu.png" alt="update-scribu"></p><h4 id="æµ‹è¯•èŠ‚ç‚¹çš„é€Ÿåº¦">æµ‹è¯•èŠ‚ç‚¹çš„é€Ÿåº¦</h4><p>ä¹‹åç‚¹å‡»åˆšåˆšè®¢é˜…çš„èŠ‚ç‚¹,ç„¶åæŠŠè¿™é‡Œçš„èŠ‚ç‚¹å…¨éƒ¨å‹¾é€‰,<code>PING</code>æ¥æµ‹è¯•èŠ‚ç‚¹çš„é€Ÿåº¦</p><p><img src="https://lambda-image-1.pages.dev/image-1.png" alt="image-1"></p><h4 id="è¿æ¥èŠ‚ç‚¹">è¿æ¥èŠ‚ç‚¹</h4><p>é€‰æ‹©ä¸€ä¸ªå»¶è¿Ÿä½çš„èŠ‚ç‚¹</p><p><img src="https://lambda-image-1.pages.dev/image-2.png" alt="image-2"></p><p>ç„¶åç‚¹å‡»å·¦ä¸Šæ–¹çš„å°±ç»ª</p><p><img src="https://lambda-image-1.pages.dev/image-4.png" alt="image-4"></p><p>å¯åŠ¨åé€‰æ‹©çš„èŠ‚ç‚¹é¢œè‰²ä¼šå˜æˆè“è‰²</p><h4 id="æµ‹è¯•æ˜¯å¦æˆåŠŸ">æµ‹è¯•æ˜¯å¦æˆåŠŸ</h4><p>é¦–å…ˆæŸ¥çœ‹æˆ‘ä»¬çš„ä»£ç†ç«¯å£ (é­”æ³•ç«¯å£)</p><p>ç‚¹å‡»å³ä¸Šè§’çš„<strong>è®¾ç½®</strong> , ç„¶ååœ¨å¼¹å‡ºæ¥çš„çª—å£ä¸Šç‚¹å‡»<strong>åœ°å€ä¸ç«¯å£</strong></p><p><img src="https://lambda-image-1.pages.dev/image-5.png" alt="image-5"></p><p>ç„¶åå† <code>Linux</code> ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ (ç«¯å£æ”¹ä¸ºä¸Šé¢çš„ <code>http</code> ç«¯å£ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œçš„æ˜¯ <strong>20171</strong>, å› æ­¤æˆ‘çš„å‘½ä»¤å°±ä¸º curl -v -x <a href="http://127.0.0.1:20171">http://127.0.0.1:20171</a> <a href="https://www.google.com">https://www.google.com</a>)</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -v -x http:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:ç«¯å£ https:<span class="regexp">//</span>www.google.com</span><br></pre></td></tr></table></figure><p><img src="https://lambda-image-1.pages.dev/image-6.png" alt="image-6">æ‰§è¡Œå®Œåå¦‚æœèƒ½çœ‹åˆ°ä¸€å †å†…å®¹ï¼Œåˆ™ä»£è¡¨æˆåŠŸ</p><h4 id="é…ç½®ä»£ç†">é…ç½®ä»£ç†</h4><p>ä¸Šé¢æˆ‘ä»¬æµ‹è¯•æ—¶è¯·æ±‚ <a href="https://www.google.com">https://www.google.com</a> æ˜¯éœ€è¦æˆ‘ä»¬æŒ‡å®šä»£ç†ç«¯å£çš„ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥è¯·æ±‚ï¼Œæ˜¯<strong>ä¸ä¼šèµ°ä»£ç†</strong>ï¼Œå¯ä»¥å»æ‰§è¡Œä¸‹ curl <a href="https://www.google.com">https://www.google.com</a> è¿™ä¸ªè¯•è¯•ï¼Œä½ ä¼šå‘ç°æ‰§è¡Œåæ ¹æœ¬çœ‹ä¸åˆ°ä»»ä½•å†…å®¹ï¼Œå› ä¸ºè¿™ä¸ªè¯·æ±‚å‹æ ¹å°±æ²¡æœ‰ç»è¿‡æˆ‘ä»¬çš„èŠ‚ç‚¹è½¬å‘ï¼Œç°åœ¨è¿™ç§è¯·æ±‚æ˜¯ï¼Œæˆ‘ä»¬è®¿é—®ä¸€äº›ç½‘ç«™è¦èµ°ä»£ç†çš„è¯ï¼Œå¿…é¡»è¦æ‰‹åŠ¨çš„æŒ‡å®šä»£ç†ï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†ï¼Œå› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦é…ç½®ä¸‹ <code>V2rayA</code> è®©ä»–è‡ªåŠ¨çš„å¯¹æˆ‘ä»¬çš„è¯·æ±‚è¿›è¡Œè½¬å‘</p><p>ç‚¹å‡»å·¦ä¸Šè§’çš„<strong>è®¾ç½®</strong>ï¼ŒæŠŠ<strong>ç³»ç»Ÿä»£ç†</strong>éƒ¨åˆ†æ”¹æˆ<strong>å¤§é™†ç™½åå•æ¨¡å¼</strong> , å¹¶ä¸”è®°å¾—å‹¾é€‰å¼€å¯ <strong>IP è½¬å‘</strong> , ç„¶å<strong>ä¿å­˜</strong></p><p><img src="https://lambda-image-1.pages.dev/image-7.png" alt="image-7"></p><p>ä¹‹åæˆ‘ä»¬ç»§ç»­æ‰§è¡Œ <code>curl https://www.google.com</code> å°±å¯ä»¥æ­£å¸¸çš„è®¿é—®äº†</p>]]></content>
    
    
    <summary type="html">æœ¬æ–‡è®°å½•äº†åšä¸»ç›®å‰ç”¨Dockeréƒ¨ç½²è¿‡çš„å…¨éƒ¨å†…å®¹</summary>
    
    
    
    <category term="Linuxå¹³å°å¼€å‘" scheme="https://www.wikunkun.asia/categories/Linux%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Linux" scheme="https://www.wikunkun.asia/tags/Linux/"/>
    
    <category term="ç½‘ç»œä»£ç†" scheme="https://www.wikunkun.asia/tags/%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86/"/>
    
    <category term="V2ray" scheme="https://www.wikunkun.asia/tags/V2ray/"/>
    
    <category term="å·¥å…·å®‰è£…" scheme="https://www.wikunkun.asia/tags/%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>MarkDownä¸­çš„æ•°å­¦ç¬¦å·</title>
    <link href="https://www.wikunkun.asia/posts/ebcd8e7e.html"/>
    <id>https://www.wikunkun.asia/posts/ebcd8e7e.html</id>
    <published>2024-12-18T14:03:01.000Z</published>
    <updated>2025-02-13T10:47:20.312Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºæœ‰æ—¶ä¼šåœ¨Markdownä¸­ç¼–å†™æ•°å­¦å…¬å¼,ä½†æ˜¯è‡ªå·±åˆè€æ˜¯è®°ä¸ä½ä¸€äº›å…¬å¼çš„å¯¹åº”å†™æ³•,å› æ­¤ç‰¹æ„æŠŠç›®å‰ç”¨è¿‡çš„å†…å®¹è®°å½•ä¸‹æ¥</p><h2 id="æ’ç‰ˆç¯å¢ƒ">æ’ç‰ˆç¯å¢ƒ</h2><h3 id="align">align</h3><p>ç”¨äºå¯¹é½å¤šä¸ªå…¬å¼,å¸¦æœ‰ç¼–å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align}<br>x+y=1<br>\\y=0<br>\end{align}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align&#125;</span><br><span class="line">x+y=1</span><br><span class="line"><span class="keyword">\\</span>y=0</span><br><span class="line"><span class="keyword">\end</span>&#123;align&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="align-2">align*</h3><p>ç”¨äºå¯¹é½å¤šä¸ªå…¬å¼,ä¸å¸¦æœ‰ç¼–å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>x+y=1<br>\\y=0<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">x+y=1</span><br><span class="line"><span class="keyword">\\</span>y=0</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="gather">gather</h3><p>ç”¨äºå¯¹é½å¤šä¸ªå…¬å¼ï¼Œå…¬å¼å±…ä¸­å¯¹é½,å¸¦æœ‰ç¼–å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{gather}<br>x+y=1<br>\\y=0<br>\end{gather}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;gather&#125;</span><br><span class="line">x+y=1</span><br><span class="line"><span class="keyword">\\</span>y=0</span><br><span class="line"><span class="keyword">\end</span>&#123;gather&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="gather-2">gather*</h3><p>ç”¨äºå¯¹é½å¤šä¸ªå…¬å¼ï¼Œå…¬å¼å±…ä¸­å¯¹é½,ä¸å¸¦æœ‰ç¼–å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{gather*}<br>x+y=1<br>\\y=0<br>\end{gather*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;gather*&#125;</span><br><span class="line">x+y=1</span><br><span class="line"><span class="keyword">\\</span>y=0</span><br><span class="line"><span class="keyword">\end</span>&#123;gather*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="matrix">matrix</h3><p>ç”¨äºå¯¹é½å¤šä¸ªå…¬å¼ï¼Œå…¬å¼å±…ä¸­å¯¹é½</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{matrix}<br>a &amp; b &amp; c \\<br>d &amp; e &amp; f \\<br>g &amp; h &amp; i<br>\end{matrix}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;matrix&#125;</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="built_in">&amp;</span> c <span class="keyword">\\</span></span><br><span class="line">d <span class="built_in">&amp;</span> e <span class="built_in">&amp;</span> f <span class="keyword">\\</span></span><br><span class="line">g <span class="built_in">&amp;</span> h <span class="built_in">&amp;</span> i</span><br><span class="line"><span class="keyword">\end</span>&#123;matrix&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="pmatrix">pmatrix</h3><p>ç”¨äºæ’ç‰ˆå¸¦ä¸åŒæ‹¬å·æ ·å¼çš„çŸ©é˜µpmatrixâ€“&gt;åœ†æ‹¬å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{pmatrix}<br>a &amp; b \\<br>c &amp; d<br>\end{pmatrix}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;pmatrix&#125;</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;pmatrix&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="bmatrix">bmatrix</h3><p>ç”¨äºæ’ç‰ˆå¸¦ä¸åŒæ‹¬å·æ ·å¼çš„çŸ©é˜µbmatrixâ€“&gt;æ–¹æ‹¬å·</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{bmatrix}<br>a &amp; b \\<br>c &amp; d<br>\end{bmatrix}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;bmatrix&#125;</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;bmatrix&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="vmatrix">vmatrix</h3><p>ç”¨äºæ’ç‰ˆå¸¦ä¸åŒæ‹¬å·æ ·å¼çš„çŸ©é˜µvmatrixâ€“&gt;ç«–çº¿</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{vmatrix}<br>a &amp; b \\<br>c &amp; d<br>\end{vmatrix}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;vmatrix&#125;</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>&#123;vmatrix&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="cases">cases</h3><p>ç”¨äºåˆ†æ®µå‡½æ•°çš„å®šä¹‰</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{cases}<br>x^2 &amp;  x \geq 0 \\<br>-x &amp;  x &lt; 0<br>\end{cases}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;cases&#125;</span><br><span class="line">x<span class="built_in">^</span>2 <span class="built_in">&amp;</span>  x <span class="keyword">\geq</span> 0 <span class="keyword">\\</span></span><br><span class="line">-x <span class="built_in">&amp;</span>  x &lt; 0</span><br><span class="line"><span class="keyword">\end</span>&#123;cases&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="array">array</h3><p>ç”¨äºæ’ç‰ˆè¡¨æ ¼å’Œæ•°ç»„</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{array}{ccc}<br>a &amp; b &amp; c \\<br>d &amp; e &amp; f \\<br>g &amp; h &amp; i<br>\end{array}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;array&#125;&#123;ccc&#125;</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="built_in">&amp;</span> c <span class="keyword">\\</span></span><br><span class="line">d <span class="built_in">&amp;</span> e <span class="built_in">&amp;</span> f <span class="keyword">\\</span></span><br><span class="line">g <span class="built_in">&amp;</span> h <span class="built_in">&amp;</span> i</span><br><span class="line"><span class="keyword">\end</span>&#123;array&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="åŸºæœ¬ç¬¦å·">åŸºæœ¬ç¬¦å·</h2><h3 id="å››åˆ™è¿ç®—">å››åˆ™è¿ç®—</h3><h4 id="åŠ æ³•">åŠ æ³•</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>+<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">+</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å‡æ³•">å‡æ³•</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>ï¼<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">ï¼</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ä¹˜æ³•">ä¹˜æ³•</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\times<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\times</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="é™¤æ³•">é™¤æ³•</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\div<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\div</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="æ–œçº¿é™¤æ³•">æ–œçº¿é™¤æ³•</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\frac{a}{b}<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\frac</span>&#123;a&#125;&#123;b&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="æ­£è´Ÿå·">æ­£è´Ÿå·</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\pm<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\pm</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="è´Ÿæ­£å·">è´Ÿæ­£å·</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\mp<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\mp</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ç‚¹ä¹˜">ç‚¹ä¹˜</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\cdot<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\cdot</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æŒ‡æ•°å’Œå¯¹æ•°">æŒ‡æ•°å’Œå¯¹æ•°</h3><h4 id="æŒ‡æ•°">æŒ‡æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>a^b<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line">a<span class="built_in">^</span>b</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å¯¹æ•°">å¯¹æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\log x \\<br>\ln x<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\log</span> x <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\ln</span> x</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æ ¹å·å’Œå…¶ä»–å¼€æ–¹">æ ¹å·å’Œå…¶ä»–å¼€æ–¹</h3><h4 id="å¹³æ–¹æ ¹">å¹³æ–¹æ ¹</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\sqrt{x}<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\sqrt</span>&#123;x&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="n-æ¬¡æ ¹">n æ¬¡æ ¹</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\sqrt[n]{x}<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\sqrt</span>[n]&#123;x&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æé™ã€æ±‚å’Œä¸ç§¯åˆ†">æé™ã€æ±‚å’Œä¸ç§¯åˆ†</h3><h4 id="æé™">æé™</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\lim_{x \to \infty} f(x)<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\lim</span><span class="built_in">_</span>&#123;x <span class="keyword">\to</span> <span class="keyword">\infty</span>&#125; f(x)</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="æ±‚å’Œ">æ±‚å’Œ</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\sum_{i=1}^{n} a_i<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\sum</span><span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>&#123;n&#125; a<span class="built_in">_</span>i</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ç§¯åˆ†">ç§¯åˆ†</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\int_0^1 f(x) , dx<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\int</span><span class="built_in">_</span>0<span class="built_in">^</span>1 f(x) <span class="keyword">\,</span> dx</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="åå¯¼æ•°">åå¯¼æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\frac{\partial}{\partial x} f(x)<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\frac</span>&#123;<span class="keyword">\partial</span>&#125;&#123;<span class="keyword">\partial</span> x&#125; f(x) </span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="å…³ç³»ç¬¦å·">å…³ç³»ç¬¦å·</h3><h4 id="ç­‰äº-ä¸ç­‰äº-å¤§äº-å°äº-å¤§äºç­‰äº-å°äºç­‰äº">ç­‰äº,ä¸ç­‰äº,å¤§äº,å°äº,å¤§äºç­‰äº,å°äºç­‰äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>ï¼ \\<br>\neq \\<br>ï¼ \\<br>ï¼œ \\<br>\geq \\<br>\leq \\<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">ï¼ <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\neq</span> <span class="keyword">\\</span></span><br><span class="line">&gt; <span class="keyword">\\</span></span><br><span class="line">&lt; <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\geq</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\leq</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="è¿œè¿œå°äº">è¿œè¿œå°äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\ll<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\ll</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="è¿œè¿œå¤§äº">è¿œè¿œå¤§äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\gg<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\gg</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="è¿‘ä¼¼ç­‰äº">è¿‘ä¼¼ç­‰äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\approx<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\approx</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="åŒä¹‰ç­‰å·">åŒä¹‰ç­‰å·</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\equiv<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\equiv</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="æ’ç­‰äº">æ’ç­‰äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\triangleq<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\triangleq</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="é›†åˆç¬¦å·">é›†åˆç¬¦å·</h3><h4 id="åŒ…å«äº-ä¸åŒ…å«äº">åŒ…å«äº,ä¸åŒ…å«äº</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\in \\<br>\notin<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\in</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\notin</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å±äºå…¨é›†-ä¸å±äºå…¨é›†">å±äºå…¨é›†,ä¸å±äºå…¨é›†</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\subset \\<br>\supset<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\subset</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\supset</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="é€»è¾‘ç¬¦å·">é€»è¾‘ç¬¦å·</h3><h4 id="ä¸-æˆ–-é-è•´å«-ç­‰ä»·">ä¸,æˆ–,é,è•´å«,ç­‰ä»·</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\land \\<br>\lor \\<br>\neg \\<br>\Rightarrow \\<br>\Leftrightarrow<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\land</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\lor</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\neg</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\Rightarrow</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\Leftrightarrow</span></span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="å…¶ä»–å¸¸è§ç¬¦å·">å…¶ä»–å¸¸è§ç¬¦å·</h3><h4 id="æ— ç©·å¤§">æ— ç©·å¤§</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\infty<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\infty</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ç©ºé›†åˆ">ç©ºé›†åˆ</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\emptyset<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\emptyset</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="è‡ªç„¶æ•°ã€æ•´æ•°ã€å®æ•°">è‡ªç„¶æ•°ã€æ•´æ•°ã€å®æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\mathbb{N} \\<br>\mathbb{Z} \\<br>\mathbb{R}<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\mathbb</span>&#123;N&#125; <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\mathbb</span>&#123;Z&#125; <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\mathbb</span>&#123;R&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ä»»æ„å¸¸æ•°ç¬¦å·">ä»»æ„å¸¸æ•°ç¬¦å·</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>C<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line">C</span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å¯¹ç§°å·®">å¯¹ç§°å·®</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\oplus<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\oplus</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="å‡½æ•°ç¬¦å·">å‡½æ•°ç¬¦å·</h3><h4 id="ä¸‰è§’å‡½æ•°">ä¸‰è§’å‡½æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\sin x \\<br>\cos x \\<br>\tan x \\<br>\cot x \\<br>\sec x \\<br>\csc x<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\sin</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\cos</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\tan</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\cot</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\sec</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\csc</span> x</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="åä¸‰è§’å‡½æ•°">åä¸‰è§’å‡½æ•°</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\arcsin x \\<br>\arccos x \\<br>\arctan x<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\arcsin</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\arccos</span> x <span class="keyword">\\</span><span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\arctan</span> x </span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ç®­å¤´ç¬¦å·">ç®­å¤´ç¬¦å·</h3><h4 id="å³ç®­å¤´">å³ç®­å¤´</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\to<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\to</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å·¦ç®­å¤´">å·¦ç®­å¤´</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\gets<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\gets</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ä¸Šç®­å¤´">ä¸Šç®­å¤´</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\uparrow<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\uparrow</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ä¸‹ç®­å¤´">ä¸‹ç®­å¤´</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\downarrow<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\downarrow</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ç‰¹æ®Šç»„åˆç¬¦å·">ç‰¹æ®Šç»„åˆç¬¦å·</h3><h4 id="ç›´å’Œ">ç›´å’Œ</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\oplus<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\oplus</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="å¼ é‡ç§¯">å¼ é‡ç§¯</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\otimes<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\otimes</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="ç‚¹ç§¯">ç‚¹ç§¯</h4><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{equation*}<br>\odot<br>\end{equation*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;equation*&#125;</span><br><span class="line"><span class="keyword">\odot</span></span><br><span class="line"><span class="keyword">\end</span>&#123;equation*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="ä¸‹æ ‡å’Œä¸Šæ ‡è¡¨è¾¾å¼">ä¸‹æ ‡å’Œä¸Šæ ‡è¡¨è¾¾å¼</h2><h3 id="å•å­—ç¬¦ç¬¦å·çš„ä¸‹æ ‡">å•å­—ç¬¦ç¬¦å·çš„ä¸‹æ ‡</h3><p>å¦‚æœç¬¦å·æ˜¯å•ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>_</code> åŠ ä¸‹æ ‡</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>x_1<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">x<span class="built_in">_</span>1</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="å¤šå­—ç¬¦ç¬¦å·çš„ä¸‹æ ‡">å¤šå­—ç¬¦ç¬¦å·çš„ä¸‹æ ‡</h3><p>å¦‚æœä¸‹æ ‡åŒ…å«å¤šä¸ªå­—ç¬¦æˆ–è¡¨è¾¾å¼ï¼Œéœ€è¦ä½¿ç”¨èŠ±æ‹¬å· <code>&#123;&#125;</code> å°†ä¸‹æ ‡å†…å®¹æ‹¬èµ·æ¥</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>x_{10} \\<br>a_{i+1} \\<br>b_{n^2}<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">x<span class="built_in">_</span>&#123;10&#125; <span class="keyword">\\</span> </span><br><span class="line">a<span class="built_in">_</span>&#123;i+1&#125; <span class="keyword">\\</span></span><br><span class="line">b<span class="built_in">_</span>&#123;n<span class="built_in">^</span>2&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ç»™ç¬¦å·åŠ ä¸Šä¸‹æ ‡å’Œä¸Šæ ‡">ç»™ç¬¦å·åŠ ä¸Šä¸‹æ ‡å’Œä¸Šæ ‡</h3><p>åŒæ—¶æ·»åŠ ä¸Šä¸‹æ ‡æ—¶ï¼Œä¸Šæ ‡ç”¨ <code>^</code>ï¼Œä¸‹æ ‡ç”¨ <code>_</code>ï¼Œä¸¤è€…å¯ä»¥ç»„åˆä½¿ç”¨</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>x_i^2 \\<br>a_{i+1}^n<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">x<span class="built_in">_</span>i<span class="built_in">^</span>2 <span class="keyword">\\</span></span><br><span class="line">a<span class="built_in">_</span>&#123;i+1&#125;<span class="built_in">^</span>n</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æ–‡å­—å†…å®¹ä½œä¸ºä¸‹æ ‡">æ–‡å­—å†…å®¹ä½œä¸ºä¸‹æ ‡</h3><p>åŒæ—¶æ·»åŠ ä¸Šä¸‹æ ‡æ—¶ï¼Œä¸Šæ ‡ç”¨ <code>^</code>ï¼Œä¸‹æ ‡ç”¨ <code>_</code>ï¼Œä¸¤è€…å¯ä»¥ç»„åˆä½¿ç”¨</p><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>x_{min} \\<br>y_{max}<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">x<span class="built_in">_</span>&#123;min&#125; <span class="keyword">\\</span><span class="keyword">\\</span> </span><br><span class="line">y<span class="built_in">_</span>&#123;max&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="å…¶ä»–">å…¶ä»–</h2><h3 id="ä¸‹åˆ’çº¿">ä¸‹åˆ’çº¿</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\underline{æ–‡æœ¬å†…å®¹}<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="keyword">\underline</span>&#123;æ–‡æœ¬å†…å®¹&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="æ°´å¹³ç©ºç™½å‘½ä»¤">æ°´å¹³ç©ºç™½å‘½ä»¤</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>start\hspace{1cm}end<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line">start<span class="keyword">\hspace</span>&#123;1cm&#125;end</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="åŠ ç²—">åŠ ç²—</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>&amp;\textbf{è¿™æ˜¯åŠ ç²—çš„æ–‡æœ¬} \<br>&amp;è¿™æ˜¯æœªåŠ ç²—çš„æ–‡æœ¬<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;align*&#125;</span><br><span class="line"><span class="built_in">&amp;</span><span class="keyword">\textbf</span>&#123;è¿™æ˜¯åŠ ç²—çš„æ–‡æœ¬&#125; <span class="keyword">\\</span></span><br><span class="line"><span class="built_in">&amp;</span>è¿™æ˜¯æœªåŠ ç²—çš„æ–‡æœ¬</span><br><span class="line"><span class="keyword">\end</span>&#123;align*&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="å¸Œè…Šå­—æ¯">å¸Œè…Šå­—æ¯</h2><h3 id="å°å†™å¸Œè…Šå­—æ¯">å°å†™å¸Œè…Šå­—æ¯</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">è¡¨æ ¼</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>$$<br>\begin{align*}<br>\alpha \\<br>\beta \\<br>\gamma \\<br>\delta \\<br>\epsilon \\<br>\zeta \\<br>\eta \\<br>\theta \\<br>\iota \\<br>\kappa \\<br>\lambda \\<br>\mu \\<br>\nu \\<br>\xi \\<br>\pi \\<br>\rho \\<br>\sigma \\<br>\tau \\<br>\upsilon \\<br>\phi \\<br>\chi \\<br>\psi \\<br>\omega \\<br>\Gamma<br>\end{align*}<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><table><thead><tr><th>ç¬¦å·</th><th>LaTeX å‘½ä»¤</th></tr></thead><tbody><tr><td>Î±</td><td><code>\alpha</code></td></tr><tr><td>Î²</td><td><code>\beta</code></td></tr><tr><td>Î³</td><td><code>\gamma</code></td></tr><tr><td>Î´</td><td><code>\delta</code></td></tr><tr><td>Îµ</td><td><code>\epsilon</code></td></tr><tr><td>Î¶</td><td><code>\zeta</code></td></tr><tr><td>Î·</td><td><code>\eta</code></td></tr><tr><td>Î¸</td><td><code>\theta</code></td></tr><tr><td>Î¹</td><td><code>\iota</code></td></tr><tr><td>Îº</td><td><code>\kappa</code></td></tr><tr><td>Î»</td><td><code>\lambda</code></td></tr><tr><td>Î¼</td><td><code>\mu</code></td></tr><tr><td>Î½</td><td><code>\nu</code></td></tr><tr><td>Î¾</td><td><code>\xi</code></td></tr><tr><td>Î¿</td><td><code>o</code> (æ™®é€šå­—æ¯)</td></tr><tr><td>Ï€</td><td><code>\pi</code></td></tr><tr><td>Ï</td><td><code>\rho</code></td></tr><tr><td>Ïƒ</td><td><code>\sigma</code></td></tr><tr><td>Ï„</td><td><code>\tau</code></td></tr><tr><td>Ï…</td><td><code>\upsilon</code></td></tr><tr><td>Ï†</td><td><code>\phi</code></td></tr><tr><td>Ï‡</td><td><code>\chi</code></td></tr><tr><td>Ïˆ</td><td><code>\psi</code></td></tr><tr><td>Ï‰</td><td><code>\omega</code></td></tr><tr><td>Î“</td><td><code>\Gamma</code></td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;å› ä¸ºæœ‰æ—¶ä¼šåœ¨Markdownä¸­ç¼–å†™æ•°å­¦å…¬å¼,ä½†æ˜¯è‡ªå·±åˆè€æ˜¯è®°ä¸ä½ä¸€äº›å…¬å¼çš„å¯¹åº”å†™æ³•,å› æ­¤ç‰¹æ„æŠŠç›®å‰ç”¨è¿‡çš„å†…å®¹è®°å½•ä¸‹æ¥&lt;/p&gt;
&lt;h2 id=&quot;æ’ç‰ˆç¯å¢ƒ&quot;&gt;æ’ç‰ˆç¯å¢ƒ&lt;/h2&gt;
&lt;h3</summary>
        
      
    
    
    
    <category term="æ•°å­¦" scheme="https://www.wikunkun.asia/categories/%E6%95%B0%E5%AD%A6/"/>
    
    
    <category term="Markdown" scheme="https://www.wikunkun.asia/tags/Markdown/"/>
    
    <category term="æ¼”ç¤º" scheme="https://www.wikunkun.asia/tags/%E6%BC%94%E7%A4%BA/"/>
    
  </entry>
  
</feed>
